function $E(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Gf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lw={exports:{}},zc={},cw={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ya=Symbol.for("react.element"),HE=Symbol.for("react.portal"),GE=Symbol.for("react.fragment"),KE=Symbol.for("react.strict_mode"),QE=Symbol.for("react.profiler"),YE=Symbol.for("react.provider"),XE=Symbol.for("react.context"),JE=Symbol.for("react.forward_ref"),ZE=Symbol.for("react.suspense"),eS=Symbol.for("react.memo"),tS=Symbol.for("react.lazy"),dy=Symbol.iterator;function nS(t){return t===null||typeof t!="object"?null:(t=dy&&t[dy]||t["@@iterator"],typeof t=="function"?t:null)}var uw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dw=Object.assign,hw={};function xs(t,e,n){this.props=t,this.context=e,this.refs=hw,this.updater=n||uw}xs.prototype.isReactComponent={};xs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};xs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fw(){}fw.prototype=xs.prototype;function Kf(t,e,n){this.props=t,this.context=e,this.refs=hw,this.updater=n||uw}var Qf=Kf.prototype=new fw;Qf.constructor=Kf;dw(Qf,xs.prototype);Qf.isPureReactComponent=!0;var hy=Array.isArray,pw=Object.prototype.hasOwnProperty,Yf={current:null},mw={key:!0,ref:!0,__self:!0,__source:!0};function gw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pw.call(e,r)&&!mw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),u=0;u<a;u++)c[u]=arguments[u+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:ya,type:t,key:s,ref:o,props:i,_owner:Yf.current}}function rS(t,e){return{$$typeof:ya,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xf(t){return typeof t=="object"&&t!==null&&t.$$typeof===ya}function iS(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fy=/\/+/g;function ud(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iS(""+t.key):e.toString(36)}function xl(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ya:case HE:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+ud(o,0):r,hy(i)?(n="",t!=null&&(n=t.replace(fy,"$&/")+"/"),xl(i,e,n,"",function(u){return u})):i!=null&&(Xf(i)&&(i=rS(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(fy,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",hy(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+ud(s,a);o+=xl(s,e,n,c,i)}else if(c=nS(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+ud(s,a++),o+=xl(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function $a(t,e,n){if(t==null)return t;var r=[],i=0;return xl(t,r,"","",function(s){return e.call(n,s,i++)}),r}function sS(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xt={current:null},bl={transition:null},oS={ReactCurrentDispatcher:xt,ReactCurrentBatchConfig:bl,ReactCurrentOwner:Yf};function yw(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:$a,forEach:function(t,e,n){$a(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $a(t,function(){e++}),e},toArray:function(t){return $a(t,function(e){return e})||[]},only:function(t){if(!Xf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ne.Component=xs;ne.Fragment=GE;ne.Profiler=QE;ne.PureComponent=Kf;ne.StrictMode=KE;ne.Suspense=ZE;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oS;ne.act=yw;ne.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Yf.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)pw.call(e,c)&&!mw.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var u=0;u<c;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ya,type:t.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(t){return t={$$typeof:XE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YE,_context:t},t.Consumer=t};ne.createElement=gw;ne.createFactory=function(t){var e=gw.bind(null,t);return e.type=t,e};ne.createRef=function(){return{current:null}};ne.forwardRef=function(t){return{$$typeof:JE,render:t}};ne.isValidElement=Xf;ne.lazy=function(t){return{$$typeof:tS,_payload:{_status:-1,_result:t},_init:sS}};ne.memo=function(t,e){return{$$typeof:eS,type:t,compare:e===void 0?null:e}};ne.startTransition=function(t){var e=bl.transition;bl.transition={};try{t()}finally{bl.transition=e}};ne.unstable_act=yw;ne.useCallback=function(t,e){return xt.current.useCallback(t,e)};ne.useContext=function(t){return xt.current.useContext(t)};ne.useDebugValue=function(){};ne.useDeferredValue=function(t){return xt.current.useDeferredValue(t)};ne.useEffect=function(t,e){return xt.current.useEffect(t,e)};ne.useId=function(){return xt.current.useId()};ne.useImperativeHandle=function(t,e,n){return xt.current.useImperativeHandle(t,e,n)};ne.useInsertionEffect=function(t,e){return xt.current.useInsertionEffect(t,e)};ne.useLayoutEffect=function(t,e){return xt.current.useLayoutEffect(t,e)};ne.useMemo=function(t,e){return xt.current.useMemo(t,e)};ne.useReducer=function(t,e,n){return xt.current.useReducer(t,e,n)};ne.useRef=function(t){return xt.current.useRef(t)};ne.useState=function(t){return xt.current.useState(t)};ne.useSyncExternalStore=function(t,e,n){return xt.current.useSyncExternalStore(t,e,n)};ne.useTransition=function(){return xt.current.useTransition()};ne.version="18.3.1";cw.exports=ne;var j=cw.exports;const vw=Gf(j),aS=$E({__proto__:null,default:vw},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lS=j,cS=Symbol.for("react.element"),uS=Symbol.for("react.fragment"),dS=Object.prototype.hasOwnProperty,hS=lS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fS={key:!0,ref:!0,__self:!0,__source:!0};function ww(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)dS.call(e,r)&&!fS.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:cS,type:t,key:s,ref:o,props:i,_owner:hS.current}}zc.Fragment=uS;zc.jsx=ww;zc.jsxs=ww;lw.exports=zc;var d=lw.exports,oh={},xw={exports:{}},Ot={},bw={exports:{}},Tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,K){var Z=U.length;U.push(K);e:for(;0<Z;){var xe=Z-1>>>1,je=U[xe];if(0<i(je,K))U[xe]=K,U[Z]=je,Z=xe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var K=U[0],Z=U.pop();if(Z!==K){U[0]=Z;e:for(var xe=0,je=U.length,Br=je>>>1;xe<Br;){var Ut=2*(xe+1)-1,zr=U[Ut],Jt=Ut+1,qn=U[Jt];if(0>i(zr,Z))Jt<je&&0>i(qn,zr)?(U[xe]=qn,U[Jt]=Z,xe=Jt):(U[xe]=zr,U[Ut]=Z,xe=Ut);else if(Jt<je&&0>i(qn,Z))U[xe]=qn,U[Jt]=Z,xe=Jt;else break e}}return K}function i(U,K){var Z=U.sortIndex-K.sortIndex;return Z!==0?Z:U.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],u=[],h=1,f=null,m=3,v=!1,E=!1,k=!1,P=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(U){for(var K=n(u);K!==null;){if(K.callback===null)r(u);else if(K.startTime<=U)r(u),K.sortIndex=K.expirationTime,e(c,K);else break;K=n(u)}}function C(U){if(k=!1,_(U),!E)if(n(c)!==null)E=!0,bi(D);else{var K=n(u);K!==null&&Re(C,K.startTime-U)}}function D(U,K){E=!1,k&&(k=!1,y(w),w=-1),v=!0;var Z=m;try{for(_(K),f=n(c);f!==null&&(!(f.expirationTime>K)||U&&!R());){var xe=f.callback;if(typeof xe=="function"){f.callback=null,m=f.priorityLevel;var je=xe(f.expirationTime<=K);K=t.unstable_now(),typeof je=="function"?f.callback=je:f===n(c)&&r(c),_(K)}else r(c);f=n(c)}if(f!==null)var Br=!0;else{var Ut=n(u);Ut!==null&&Re(C,Ut.startTime-K),Br=!1}return Br}finally{f=null,m=Z,v=!1}}var M=!1,T=null,w=-1,S=5,I=-1;function R(){return!(t.unstable_now()-I<S)}function V(){if(T!==null){var U=t.unstable_now();I=U;var K=!0;try{K=T(!0,U)}finally{K?A():(M=!1,T=null)}}else M=!1}var A;if(typeof x=="function")A=function(){x(V)};else if(typeof MessageChannel<"u"){var Le=new MessageChannel,dn=Le.port2;Le.port1.onmessage=V,A=function(){dn.postMessage(null)}}else A=function(){P(V,0)};function bi(U){T=U,M||(M=!0,A())}function Re(U,K){w=P(function(){U(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){E||v||(E=!0,bi(D))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var K=3;break;default:K=m}var Z=m;m=K;try{return U()}finally{m=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,K){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Z=m;m=U;try{return K()}finally{m=Z}},t.unstable_scheduleCallback=function(U,K,Z){var xe=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?xe+Z:xe):Z=xe,U){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=Z+je,U={id:h++,callback:K,priorityLevel:U,startTime:Z,expirationTime:je,sortIndex:-1},Z>xe?(U.sortIndex=Z,e(u,U),n(c)===null&&U===n(u)&&(k?(y(w),w=-1):k=!0,Re(C,Z-xe))):(U.sortIndex=je,e(c,U),E||v||(E=!0,bi(D))),U},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(U){var K=m;return function(){var Z=m;m=K;try{return U.apply(this,arguments)}finally{m=Z}}}})(Tw);bw.exports=Tw;var pS=bw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mS=j,Mt=pS;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _w=new Set,Mo={};function gi(t,e){is(t,e),is(t+"Capture",e)}function is(t,e){for(Mo[t]=e,t=0;t<e.length;t++)_w.add(e[t])}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ah=Object.prototype.hasOwnProperty,gS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,py={},my={};function yS(t){return ah.call(my,t)?!0:ah.call(py,t)?!1:gS.test(t)?my[t]=!0:(py[t]=!0,!1)}function vS(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wS(t,e,n,r){if(e===null||typeof e>"u"||vS(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var it={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){it[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];it[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){it[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){it[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){it[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){it[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){it[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){it[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){it[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jf=/[\-:]([a-z])/g;function Zf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jf,Zf);it[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jf,Zf);it[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jf,Zf);it[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){it[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});it.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){it[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function ep(t,e,n,r){var i=it.hasOwnProperty(e)?it[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wS(e,n,i,r)&&(n=null),r||i===null?yS(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Un=mS.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ha=Symbol.for("react.element"),Pi=Symbol.for("react.portal"),Ri=Symbol.for("react.fragment"),tp=Symbol.for("react.strict_mode"),lh=Symbol.for("react.profiler"),Ew=Symbol.for("react.provider"),Sw=Symbol.for("react.context"),np=Symbol.for("react.forward_ref"),ch=Symbol.for("react.suspense"),uh=Symbol.for("react.suspense_list"),rp=Symbol.for("react.memo"),Zn=Symbol.for("react.lazy"),kw=Symbol.for("react.offscreen"),gy=Symbol.iterator;function Qs(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var Se=Object.assign,dd;function ao(t){if(dd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dd=e&&e[1]||""}return`
`+dd+t}var hd=!1;function fd(t,e){if(!t||hd)return"";hd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{hd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ao(t):""}function xS(t){switch(t.tag){case 5:return ao(t.type);case 16:return ao("Lazy");case 13:return ao("Suspense");case 19:return ao("SuspenseList");case 0:case 2:case 15:return t=fd(t.type,!1),t;case 11:return t=fd(t.type.render,!1),t;case 1:return t=fd(t.type,!0),t;default:return""}}function dh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ri:return"Fragment";case Pi:return"Portal";case lh:return"Profiler";case tp:return"StrictMode";case ch:return"Suspense";case uh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sw:return(t.displayName||"Context")+".Consumer";case Ew:return(t._context.displayName||"Context")+".Provider";case np:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case rp:return e=t.displayName||null,e!==null?e:dh(t.type)||"Memo";case Zn:e=t._payload,t=t._init;try{return dh(t(e))}catch{}}return null}function bS(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return dh(e);case 8:return e===tp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function br(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Iw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TS(t){var e=Iw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ga(t){t._valueTracker||(t._valueTracker=TS(t))}function Aw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Iw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Wl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hh(t,e){var n=e.checked;return Se({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function yy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=br(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cw(t,e){e=e.checked,e!=null&&ep(t,"checked",e,!1)}function fh(t,e){Cw(t,e);var n=br(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ph(t,e.type,n):e.hasOwnProperty("defaultValue")&&ph(t,e.type,br(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function vy(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ph(t,e,n){(e!=="number"||Wl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var lo=Array.isArray;function Gi(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+br(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function mh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return Se({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(lo(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:br(n)}}function Pw(t,e){var n=br(e.value),r=br(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ka,jw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ka=Ka||document.createElement("div"),Ka.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ka.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fo(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_S=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(t){_S.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wo[e]=wo[t]})});function Dw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wo.hasOwnProperty(t)&&wo[t]?(""+e).trim():e+"px"}function Vw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Dw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ES=Se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yh(t,e){if(e){if(ES[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function vh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wh=null;function ip(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var xh=null,Ki=null,Qi=null;function by(t){if(t=xa(t)){if(typeof xh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=Hc(e),xh(t.stateNode,t.type,e))}}function Nw(t){Ki?Qi?Qi.push(t):Qi=[t]:Ki=t}function Lw(){if(Ki){var t=Ki,e=Qi;if(Qi=Ki=null,by(t),e)for(t=0;t<e.length;t++)by(e[t])}}function Mw(t,e){return t(e)}function Fw(){}var pd=!1;function Ow(t,e,n){if(pd)return t(e,n);pd=!0;try{return Mw(t,e,n)}finally{pd=!1,(Ki!==null||Qi!==null)&&(Fw(),Lw())}}function Oo(t,e){var n=t.stateNode;if(n===null)return null;var r=Hc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var bh=!1;if(Vn)try{var Ys={};Object.defineProperty(Ys,"passive",{get:function(){bh=!0}}),window.addEventListener("test",Ys,Ys),window.removeEventListener("test",Ys,Ys)}catch{bh=!1}function SS(t,e,n,r,i,s,o,a,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var xo=!1,$l=null,Hl=!1,Th=null,kS={onError:function(t){xo=!0,$l=t}};function IS(t,e,n,r,i,s,o,a,c){xo=!1,$l=null,SS.apply(kS,arguments)}function AS(t,e,n,r,i,s,o,a,c){if(IS.apply(this,arguments),xo){if(xo){var u=$l;xo=!1,$l=null}else throw Error(B(198));Hl||(Hl=!0,Th=u)}}function yi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Bw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ty(t){if(yi(t)!==t)throw Error(B(188))}function CS(t){var e=t.alternate;if(!e){if(e=yi(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Ty(i),t;if(s===r)return Ty(i),e;s=s.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function zw(t){return t=CS(t),t!==null?Uw(t):null}function Uw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Uw(t);if(e!==null)return e;t=t.sibling}return null}var qw=Mt.unstable_scheduleCallback,_y=Mt.unstable_cancelCallback,PS=Mt.unstable_shouldYield,RS=Mt.unstable_requestPaint,Ne=Mt.unstable_now,jS=Mt.unstable_getCurrentPriorityLevel,sp=Mt.unstable_ImmediatePriority,Ww=Mt.unstable_UserBlockingPriority,Gl=Mt.unstable_NormalPriority,DS=Mt.unstable_LowPriority,$w=Mt.unstable_IdlePriority,Uc=null,vn=null;function VS(t){if(vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Uc,t,void 0,(t.current.flags&128)===128)}catch{}}var on=Math.clz32?Math.clz32:MS,NS=Math.log,LS=Math.LN2;function MS(t){return t>>>=0,t===0?32:31-(NS(t)/LS|0)|0}var Qa=64,Ya=4194304;function co(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Kl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=co(a):(s&=o,s!==0&&(r=co(s)))}else o=n&~i,o!==0?r=co(o):s!==0&&(r=co(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-on(e),i=1<<n,r|=t[n],e&=~i;return r}function FS(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-on(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=FS(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function _h(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Hw(){var t=Qa;return Qa<<=1,!(Qa&4194240)&&(Qa=64),t}function md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function va(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-on(e),t[e]=n}function BS(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-on(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function op(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-on(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ue=0;function Gw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Kw,ap,Qw,Yw,Xw,Eh=!1,Xa=[],ar=null,lr=null,cr=null,Bo=new Map,zo=new Map,tr=[],zS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ey(t,e){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":cr=null;break;case"pointerover":case"pointerout":Bo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zo.delete(e.pointerId)}}function Xs(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=xa(e),e!==null&&ap(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function US(t,e,n,r,i){switch(e){case"focusin":return ar=Xs(ar,t,e,n,r,i),!0;case"dragenter":return lr=Xs(lr,t,e,n,r,i),!0;case"mouseover":return cr=Xs(cr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bo.set(s,Xs(Bo.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zo.set(s,Xs(zo.get(s)||null,t,e,n,r,i)),!0}return!1}function Jw(t){var e=Zr(t.target);if(e!==null){var n=yi(e);if(n!==null){if(e=n.tag,e===13){if(e=Bw(n),e!==null){t.blockedOn=e,Xw(t.priority,function(){Qw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tl(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wh=r,n.target.dispatchEvent(r),wh=null}else return e=xa(n),e!==null&&ap(e),t.blockedOn=n,!1;e.shift()}return!0}function Sy(t,e,n){Tl(t)&&n.delete(e)}function qS(){Eh=!1,ar!==null&&Tl(ar)&&(ar=null),lr!==null&&Tl(lr)&&(lr=null),cr!==null&&Tl(cr)&&(cr=null),Bo.forEach(Sy),zo.forEach(Sy)}function Js(t,e){t.blockedOn===e&&(t.blockedOn=null,Eh||(Eh=!0,Mt.unstable_scheduleCallback(Mt.unstable_NormalPriority,qS)))}function Uo(t){function e(i){return Js(i,t)}if(0<Xa.length){Js(Xa[0],t);for(var n=1;n<Xa.length;n++){var r=Xa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ar!==null&&Js(ar,t),lr!==null&&Js(lr,t),cr!==null&&Js(cr,t),Bo.forEach(e),zo.forEach(e),n=0;n<tr.length;n++)r=tr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<tr.length&&(n=tr[0],n.blockedOn===null);)Jw(n),n.blockedOn===null&&tr.shift()}var Yi=Un.ReactCurrentBatchConfig,Ql=!0;function WS(t,e,n,r){var i=ue,s=Yi.transition;Yi.transition=null;try{ue=1,lp(t,e,n,r)}finally{ue=i,Yi.transition=s}}function $S(t,e,n,r){var i=ue,s=Yi.transition;Yi.transition=null;try{ue=4,lp(t,e,n,r)}finally{ue=i,Yi.transition=s}}function lp(t,e,n,r){if(Ql){var i=Sh(t,e,n,r);if(i===null)Sd(t,e,r,Yl,n),Ey(t,r);else if(US(i,t,e,n,r))r.stopPropagation();else if(Ey(t,r),e&4&&-1<zS.indexOf(t)){for(;i!==null;){var s=xa(i);if(s!==null&&Kw(s),s=Sh(t,e,n,r),s===null&&Sd(t,e,r,Yl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Sd(t,e,r,null,n)}}var Yl=null;function Sh(t,e,n,r){if(Yl=null,t=ip(r),t=Zr(t),t!==null)if(e=yi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Bw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yl=t,null}function Zw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jS()){case sp:return 1;case Ww:return 4;case Gl:case DS:return 16;case $w:return 536870912;default:return 16}default:return 16}}var rr=null,cp=null,_l=null;function ex(){if(_l)return _l;var t,e=cp,n=e.length,r,i="value"in rr?rr.value:rr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return _l=i.slice(t,1<r?1-r:void 0)}function El(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ja(){return!0}function ky(){return!1}function Bt(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ja:ky,this.isPropagationStopped=ky,this}return Se(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),e}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},up=Bt(bs),wa=Se({},bs,{view:0,detail:0}),HS=Bt(wa),gd,yd,Zs,qc=Se({},wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Zs&&(Zs&&t.type==="mousemove"?(gd=t.screenX-Zs.screenX,yd=t.screenY-Zs.screenY):yd=gd=0,Zs=t),gd)},movementY:function(t){return"movementY"in t?t.movementY:yd}}),Iy=Bt(qc),GS=Se({},qc,{dataTransfer:0}),KS=Bt(GS),QS=Se({},wa,{relatedTarget:0}),vd=Bt(QS),YS=Se({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),XS=Bt(YS),JS=Se({},bs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZS=Bt(JS),ek=Se({},bs,{data:0}),Ay=Bt(ek),tk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ik(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rk[t])?!!e[t]:!1}function dp(){return ik}var sk=Se({},wa,{key:function(t){if(t.key){var e=tk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=El(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dp,charCode:function(t){return t.type==="keypress"?El(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?El(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ok=Bt(sk),ak=Se({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cy=Bt(ak),lk=Se({},wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dp}),ck=Bt(lk),uk=Se({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),dk=Bt(uk),hk=Se({},qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fk=Bt(hk),pk=[9,13,27,32],hp=Vn&&"CompositionEvent"in window,bo=null;Vn&&"documentMode"in document&&(bo=document.documentMode);var mk=Vn&&"TextEvent"in window&&!bo,tx=Vn&&(!hp||bo&&8<bo&&11>=bo),Py=" ",Ry=!1;function nx(t,e){switch(t){case"keyup":return pk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ji=!1;function gk(t,e){switch(t){case"compositionend":return rx(e);case"keypress":return e.which!==32?null:(Ry=!0,Py);case"textInput":return t=e.data,t===Py&&Ry?null:t;default:return null}}function yk(t,e){if(ji)return t==="compositionend"||!hp&&nx(t,e)?(t=ex(),_l=cp=rr=null,ji=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tx&&e.locale!=="ko"?null:e.data;default:return null}}var vk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!vk[t.type]:e==="textarea"}function ix(t,e,n,r){Nw(r),e=Xl(e,"onChange"),0<e.length&&(n=new up("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var To=null,qo=null;function wk(t){mx(t,0)}function Wc(t){var e=Ni(t);if(Aw(e))return t}function xk(t,e){if(t==="change")return e}var sx=!1;if(Vn){var wd;if(Vn){var xd="oninput"in document;if(!xd){var Dy=document.createElement("div");Dy.setAttribute("oninput","return;"),xd=typeof Dy.oninput=="function"}wd=xd}else wd=!1;sx=wd&&(!document.documentMode||9<document.documentMode)}function Vy(){To&&(To.detachEvent("onpropertychange",ox),qo=To=null)}function ox(t){if(t.propertyName==="value"&&Wc(qo)){var e=[];ix(e,qo,t,ip(t)),Ow(wk,e)}}function bk(t,e,n){t==="focusin"?(Vy(),To=e,qo=n,To.attachEvent("onpropertychange",ox)):t==="focusout"&&Vy()}function Tk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wc(qo)}function _k(t,e){if(t==="click")return Wc(e)}function Ek(t,e){if(t==="input"||t==="change")return Wc(e)}function Sk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var un=typeof Object.is=="function"?Object.is:Sk;function Wo(t,e){if(un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ah.call(e,i)||!un(t[i],e[i]))return!1}return!0}function Ny(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ly(t,e){var n=Ny(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ny(n)}}function ax(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ax(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lx(){for(var t=window,e=Wl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Wl(t.document)}return e}function fp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kk(t){var e=lx(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ax(n.ownerDocument.documentElement,n)){if(r!==null&&fp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ly(n,s);var o=Ly(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Ik=Vn&&"documentMode"in document&&11>=document.documentMode,Di=null,kh=null,_o=null,Ih=!1;function My(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ih||Di==null||Di!==Wl(r)||(r=Di,"selectionStart"in r&&fp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),_o&&Wo(_o,r)||(_o=r,r=Xl(kh,"onSelect"),0<r.length&&(e=new up("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Di)))}function Za(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vi={animationend:Za("Animation","AnimationEnd"),animationiteration:Za("Animation","AnimationIteration"),animationstart:Za("Animation","AnimationStart"),transitionend:Za("Transition","TransitionEnd")},bd={},cx={};Vn&&(cx=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function $c(t){if(bd[t])return bd[t];if(!Vi[t])return t;var e=Vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cx)return bd[t]=e[n];return t}var ux=$c("animationend"),dx=$c("animationiteration"),hx=$c("animationstart"),fx=$c("transitionend"),px=new Map,Fy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function jr(t,e){px.set(t,e),gi(e,[t])}for(var Td=0;Td<Fy.length;Td++){var _d=Fy[Td],Ak=_d.toLowerCase(),Ck=_d[0].toUpperCase()+_d.slice(1);jr(Ak,"on"+Ck)}jr(ux,"onAnimationEnd");jr(dx,"onAnimationIteration");jr(hx,"onAnimationStart");jr("dblclick","onDoubleClick");jr("focusin","onFocus");jr("focusout","onBlur");jr(fx,"onTransitionEnd");is("onMouseEnter",["mouseout","mouseover"]);is("onMouseLeave",["mouseout","mouseover"]);is("onPointerEnter",["pointerout","pointerover"]);is("onPointerLeave",["pointerout","pointerover"]);gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pk=new Set("cancel close invalid load scroll toggle".split(" ").concat(uo));function Oy(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,AS(r,e,void 0,t),t.currentTarget=null}function mx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,u=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Oy(i,a,u),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,u=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Oy(i,a,u),s=c}}}if(Hl)throw t=Th,Hl=!1,Th=null,t}function me(t,e){var n=e[jh];n===void 0&&(n=e[jh]=new Set);var r=t+"__bubble";n.has(r)||(gx(e,t,2,!1),n.add(r))}function Ed(t,e,n){var r=0;e&&(r|=4),gx(n,t,r,e)}var el="_reactListening"+Math.random().toString(36).slice(2);function $o(t){if(!t[el]){t[el]=!0,_w.forEach(function(n){n!=="selectionchange"&&(Pk.has(n)||Ed(n,!1,t),Ed(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[el]||(e[el]=!0,Ed("selectionchange",!1,e))}}function gx(t,e,n,r){switch(Zw(e)){case 1:var i=WS;break;case 4:i=$S;break;default:i=lp}n=i.bind(null,e,n,t),i=void 0,!bh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Sd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Zr(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Ow(function(){var u=s,h=ip(n),f=[];e:{var m=px.get(t);if(m!==void 0){var v=up,E=t;switch(t){case"keypress":if(El(n)===0)break e;case"keydown":case"keyup":v=ok;break;case"focusin":E="focus",v=vd;break;case"focusout":E="blur",v=vd;break;case"beforeblur":case"afterblur":v=vd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Iy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=KS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=ck;break;case ux:case dx:case hx:v=XS;break;case fx:v=dk;break;case"scroll":v=HS;break;case"wheel":v=fk;break;case"copy":case"cut":case"paste":v=ZS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Cy}var k=(e&4)!==0,P=!k&&t==="scroll",y=k?m!==null?m+"Capture":null:m;k=[];for(var x=u,_;x!==null;){_=x;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,y!==null&&(C=Oo(x,y),C!=null&&k.push(Ho(x,C,_)))),P)break;x=x.return}0<k.length&&(m=new v(m,E,null,n,h),f.push({event:m,listeners:k}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&n!==wh&&(E=n.relatedTarget||n.fromElement)&&(Zr(E)||E[Nn]))break e;if((v||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,v?(E=n.relatedTarget||n.toElement,v=u,E=E?Zr(E):null,E!==null&&(P=yi(E),E!==P||E.tag!==5&&E.tag!==6)&&(E=null)):(v=null,E=u),v!==E)){if(k=Iy,C="onMouseLeave",y="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(k=Cy,C="onPointerLeave",y="onPointerEnter",x="pointer"),P=v==null?m:Ni(v),_=E==null?m:Ni(E),m=new k(C,x+"leave",v,n,h),m.target=P,m.relatedTarget=_,C=null,Zr(h)===u&&(k=new k(y,x+"enter",E,n,h),k.target=_,k.relatedTarget=P,C=k),P=C,v&&E)t:{for(k=v,y=E,x=0,_=k;_;_=Si(_))x++;for(_=0,C=y;C;C=Si(C))_++;for(;0<x-_;)k=Si(k),x--;for(;0<_-x;)y=Si(y),_--;for(;x--;){if(k===y||y!==null&&k===y.alternate)break t;k=Si(k),y=Si(y)}k=null}else k=null;v!==null&&By(f,m,v,k,!1),E!==null&&P!==null&&By(f,P,E,k,!0)}}e:{if(m=u?Ni(u):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var D=xk;else if(jy(m))if(sx)D=Ek;else{D=Tk;var M=bk}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=_k);if(D&&(D=D(t,u))){ix(f,D,n,h);break e}M&&M(t,m,u),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&ph(m,"number",m.value)}switch(M=u?Ni(u):window,t){case"focusin":(jy(M)||M.contentEditable==="true")&&(Di=M,kh=u,_o=null);break;case"focusout":_o=kh=Di=null;break;case"mousedown":Ih=!0;break;case"contextmenu":case"mouseup":case"dragend":Ih=!1,My(f,n,h);break;case"selectionchange":if(Ik)break;case"keydown":case"keyup":My(f,n,h)}var T;if(hp)e:{switch(t){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else ji?nx(t,n)&&(w="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(w="onCompositionStart");w&&(tx&&n.locale!=="ko"&&(ji||w!=="onCompositionStart"?w==="onCompositionEnd"&&ji&&(T=ex()):(rr=h,cp="value"in rr?rr.value:rr.textContent,ji=!0)),M=Xl(u,w),0<M.length&&(w=new Ay(w,t,null,n,h),f.push({event:w,listeners:M}),T?w.data=T:(T=rx(n),T!==null&&(w.data=T)))),(T=mk?gk(t,n):yk(t,n))&&(u=Xl(u,"onBeforeInput"),0<u.length&&(h=new Ay("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:u}),h.data=T))}mx(f,e)})}function Ho(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Xl(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Oo(t,n),s!=null&&r.unshift(Ho(t,s,i)),s=Oo(t,e),s!=null&&r.push(Ho(t,s,i))),t=t.return}return r}function Si(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function By(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,u=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&u!==null&&(a=u,i?(c=Oo(n,s),c!=null&&o.unshift(Ho(n,c,a))):i||(c=Oo(n,s),c!=null&&o.push(Ho(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Rk=/\r\n?/g,jk=/\u0000|\uFFFD/g;function zy(t){return(typeof t=="string"?t:""+t).replace(Rk,`
`).replace(jk,"")}function tl(t,e,n){if(e=zy(e),zy(t)!==e&&n)throw Error(B(425))}function Jl(){}var Ah=null,Ch=null;function Ph(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rh=typeof setTimeout=="function"?setTimeout:void 0,Dk=typeof clearTimeout=="function"?clearTimeout:void 0,Uy=typeof Promise=="function"?Promise:void 0,Vk=typeof queueMicrotask=="function"?queueMicrotask:typeof Uy<"u"?function(t){return Uy.resolve(null).then(t).catch(Nk)}:Rh;function Nk(t){setTimeout(function(){throw t})}function kd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Uo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Uo(e)}function ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ts=Math.random().toString(36).slice(2),yn="__reactFiber$"+Ts,Go="__reactProps$"+Ts,Nn="__reactContainer$"+Ts,jh="__reactEvents$"+Ts,Lk="__reactListeners$"+Ts,Mk="__reactHandles$"+Ts;function Zr(t){var e=t[yn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Nn]||n[yn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qy(t);t!==null;){if(n=t[yn])return n;t=qy(t)}return e}t=n,n=t.parentNode}return null}function xa(t){return t=t[yn]||t[Nn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ni(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function Hc(t){return t[Go]||null}var Dh=[],Li=-1;function Dr(t){return{current:t}}function ve(t){0>Li||(t.current=Dh[Li],Dh[Li]=null,Li--)}function fe(t,e){Li++,Dh[Li]=t.current,t.current=e}var Tr={},mt=Dr(Tr),At=Dr(!1),ai=Tr;function ss(t,e){var n=t.type.contextTypes;if(!n)return Tr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ct(t){return t=t.childContextTypes,t!=null}function Zl(){ve(At),ve(mt)}function Wy(t,e,n){if(mt.current!==Tr)throw Error(B(168));fe(mt,e),fe(At,n)}function yx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,bS(t)||"Unknown",i));return Se({},n,r)}function ec(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Tr,ai=mt.current,fe(mt,t),fe(At,At.current),!0}function $y(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=yx(t,e,ai),r.__reactInternalMemoizedMergedChildContext=t,ve(At),ve(mt),fe(mt,t)):ve(At),fe(At,n)}var An=null,Gc=!1,Id=!1;function vx(t){An===null?An=[t]:An.push(t)}function Fk(t){Gc=!0,vx(t)}function Vr(){if(!Id&&An!==null){Id=!0;var t=0,e=ue;try{var n=An;for(ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}An=null,Gc=!1}catch(i){throw An!==null&&(An=An.slice(t+1)),qw(sp,Vr),i}finally{ue=e,Id=!1}}return null}var Mi=[],Fi=0,tc=null,nc=0,$t=[],Ht=0,li=null,Cn=1,Pn="";function Kr(t,e){Mi[Fi++]=nc,Mi[Fi++]=tc,tc=t,nc=e}function wx(t,e,n){$t[Ht++]=Cn,$t[Ht++]=Pn,$t[Ht++]=li,li=t;var r=Cn;t=Pn;var i=32-on(r)-1;r&=~(1<<i),n+=1;var s=32-on(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Cn=1<<32-on(e)+i|n<<i|r,Pn=s+t}else Cn=1<<s|n<<i|r,Pn=t}function pp(t){t.return!==null&&(Kr(t,1),wx(t,1,0))}function mp(t){for(;t===tc;)tc=Mi[--Fi],Mi[Fi]=null,nc=Mi[--Fi],Mi[Fi]=null;for(;t===li;)li=$t[--Ht],$t[Ht]=null,Pn=$t[--Ht],$t[Ht]=null,Cn=$t[--Ht],$t[Ht]=null}var Nt=null,Dt=null,be=!1,sn=null;function xx(t,e){var n=Kt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Hy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nt=t,Dt=ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nt=t,Dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=li!==null?{id:Cn,overflow:Pn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Kt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nt=t,Dt=null,!0):!1;default:return!1}}function Vh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nh(t){if(be){var e=Dt;if(e){var n=e;if(!Hy(t,e)){if(Vh(t))throw Error(B(418));e=ur(n.nextSibling);var r=Nt;e&&Hy(t,e)?xx(r,n):(t.flags=t.flags&-4097|2,be=!1,Nt=t)}}else{if(Vh(t))throw Error(B(418));t.flags=t.flags&-4097|2,be=!1,Nt=t}}}function Gy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nt=t}function nl(t){if(t!==Nt)return!1;if(!be)return Gy(t),be=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ph(t.type,t.memoizedProps)),e&&(e=Dt)){if(Vh(t))throw bx(),Error(B(418));for(;e;)xx(t,e),e=ur(e.nextSibling)}if(Gy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Dt=ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Dt=null}}else Dt=Nt?ur(t.stateNode.nextSibling):null;return!0}function bx(){for(var t=Dt;t;)t=ur(t.nextSibling)}function os(){Dt=Nt=null,be=!1}function gp(t){sn===null?sn=[t]:sn.push(t)}var Ok=Un.ReactCurrentBatchConfig;function eo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function rl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ky(t){var e=t._init;return e(t._payload)}function Tx(t){function e(y,x){if(t){var _=y.deletions;_===null?(y.deletions=[x],y.flags|=16):_.push(x)}}function n(y,x){if(!t)return null;for(;x!==null;)e(y,x),x=x.sibling;return null}function r(y,x){for(y=new Map;x!==null;)x.key!==null?y.set(x.key,x):y.set(x.index,x),x=x.sibling;return y}function i(y,x){return y=pr(y,x),y.index=0,y.sibling=null,y}function s(y,x,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<x?(y.flags|=2,x):_):(y.flags|=2,x)):(y.flags|=1048576,x)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,x,_,C){return x===null||x.tag!==6?(x=Vd(_,y.mode,C),x.return=y,x):(x=i(x,_),x.return=y,x)}function c(y,x,_,C){var D=_.type;return D===Ri?h(y,x,_.props.children,C,_.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Zn&&Ky(D)===x.type)?(C=i(x,_.props),C.ref=eo(y,x,_),C.return=y,C):(C=Rl(_.type,_.key,_.props,null,y.mode,C),C.ref=eo(y,x,_),C.return=y,C)}function u(y,x,_,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Nd(_,y.mode,C),x.return=y,x):(x=i(x,_.children||[]),x.return=y,x)}function h(y,x,_,C,D){return x===null||x.tag!==7?(x=si(_,y.mode,C,D),x.return=y,x):(x=i(x,_),x.return=y,x)}function f(y,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Vd(""+x,y.mode,_),x.return=y,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ha:return _=Rl(x.type,x.key,x.props,null,y.mode,_),_.ref=eo(y,null,x),_.return=y,_;case Pi:return x=Nd(x,y.mode,_),x.return=y,x;case Zn:var C=x._init;return f(y,C(x._payload),_)}if(lo(x)||Qs(x))return x=si(x,y.mode,_,null),x.return=y,x;rl(y,x)}return null}function m(y,x,_,C){var D=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return D!==null?null:a(y,x,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ha:return _.key===D?c(y,x,_,C):null;case Pi:return _.key===D?u(y,x,_,C):null;case Zn:return D=_._init,m(y,x,D(_._payload),C)}if(lo(_)||Qs(_))return D!==null?null:h(y,x,_,C,null);rl(y,_)}return null}function v(y,x,_,C,D){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(_)||null,a(x,y,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ha:return y=y.get(C.key===null?_:C.key)||null,c(x,y,C,D);case Pi:return y=y.get(C.key===null?_:C.key)||null,u(x,y,C,D);case Zn:var M=C._init;return v(y,x,_,M(C._payload),D)}if(lo(C)||Qs(C))return y=y.get(_)||null,h(x,y,C,D,null);rl(x,C)}return null}function E(y,x,_,C){for(var D=null,M=null,T=x,w=x=0,S=null;T!==null&&w<_.length;w++){T.index>w?(S=T,T=null):S=T.sibling;var I=m(y,T,_[w],C);if(I===null){T===null&&(T=S);break}t&&T&&I.alternate===null&&e(y,T),x=s(I,x,w),M===null?D=I:M.sibling=I,M=I,T=S}if(w===_.length)return n(y,T),be&&Kr(y,w),D;if(T===null){for(;w<_.length;w++)T=f(y,_[w],C),T!==null&&(x=s(T,x,w),M===null?D=T:M.sibling=T,M=T);return be&&Kr(y,w),D}for(T=r(y,T);w<_.length;w++)S=v(T,y,w,_[w],C),S!==null&&(t&&S.alternate!==null&&T.delete(S.key===null?w:S.key),x=s(S,x,w),M===null?D=S:M.sibling=S,M=S);return t&&T.forEach(function(R){return e(y,R)}),be&&Kr(y,w),D}function k(y,x,_,C){var D=Qs(_);if(typeof D!="function")throw Error(B(150));if(_=D.call(_),_==null)throw Error(B(151));for(var M=D=null,T=x,w=x=0,S=null,I=_.next();T!==null&&!I.done;w++,I=_.next()){T.index>w?(S=T,T=null):S=T.sibling;var R=m(y,T,I.value,C);if(R===null){T===null&&(T=S);break}t&&T&&R.alternate===null&&e(y,T),x=s(R,x,w),M===null?D=R:M.sibling=R,M=R,T=S}if(I.done)return n(y,T),be&&Kr(y,w),D;if(T===null){for(;!I.done;w++,I=_.next())I=f(y,I.value,C),I!==null&&(x=s(I,x,w),M===null?D=I:M.sibling=I,M=I);return be&&Kr(y,w),D}for(T=r(y,T);!I.done;w++,I=_.next())I=v(T,y,w,I.value,C),I!==null&&(t&&I.alternate!==null&&T.delete(I.key===null?w:I.key),x=s(I,x,w),M===null?D=I:M.sibling=I,M=I);return t&&T.forEach(function(V){return e(y,V)}),be&&Kr(y,w),D}function P(y,x,_,C){if(typeof _=="object"&&_!==null&&_.type===Ri&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Ha:e:{for(var D=_.key,M=x;M!==null;){if(M.key===D){if(D=_.type,D===Ri){if(M.tag===7){n(y,M.sibling),x=i(M,_.props.children),x.return=y,y=x;break e}}else if(M.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Zn&&Ky(D)===M.type){n(y,M.sibling),x=i(M,_.props),x.ref=eo(y,M,_),x.return=y,y=x;break e}n(y,M);break}else e(y,M);M=M.sibling}_.type===Ri?(x=si(_.props.children,y.mode,C,_.key),x.return=y,y=x):(C=Rl(_.type,_.key,_.props,null,y.mode,C),C.ref=eo(y,x,_),C.return=y,y=C)}return o(y);case Pi:e:{for(M=_.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(y,x.sibling),x=i(x,_.children||[]),x.return=y,y=x;break e}else{n(y,x);break}else e(y,x);x=x.sibling}x=Nd(_,y.mode,C),x.return=y,y=x}return o(y);case Zn:return M=_._init,P(y,x,M(_._payload),C)}if(lo(_))return E(y,x,_,C);if(Qs(_))return k(y,x,_,C);rl(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(y,x.sibling),x=i(x,_),x.return=y,y=x):(n(y,x),x=Vd(_,y.mode,C),x.return=y,y=x),o(y)):n(y,x)}return P}var as=Tx(!0),_x=Tx(!1),rc=Dr(null),ic=null,Oi=null,yp=null;function vp(){yp=Oi=ic=null}function wp(t){var e=rc.current;ve(rc),t._currentValue=e}function Lh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){ic=t,yp=Oi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(It=!0),t.firstContext=null)}function Yt(t){var e=t._currentValue;if(yp!==t)if(t={context:t,memoizedValue:e,next:null},Oi===null){if(ic===null)throw Error(B(308));Oi=t,ic.dependencies={lanes:0,firstContext:t}}else Oi=Oi.next=t;return e}var ei=null;function xp(t){ei===null?ei=[t]:ei.push(t)}function Ex(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ln(t,r)}function Ln(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var er=!1;function bp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function dr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ae&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ln(t,n)}return i=r.interleaved,i===null?(e.next=e,xp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ln(t,n)}function Sl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,op(t,n)}}function Qy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function sc(t,e,n,r){var i=t.updateQueue;er=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,u=c.next;c.next=null,o===null?s=u:o.next=u,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=c))}if(s!==null){var f=i.baseState;o=0,h=u=c=null,a=s;do{var m=a.lane,v=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var E=t,k=a;switch(m=e,v=n,k.tag){case 1:if(E=k.payload,typeof E=="function"){f=E.call(v,f,m);break e}f=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=k.payload,m=typeof E=="function"?E.call(v,f,m):E,m==null)break e;f=Se({},f,m);break e;case 2:er=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=v,c=f):h=h.next=v,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ui|=o,t.lanes=o,t.memoizedState=f}}function Yy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var ba={},wn=Dr(ba),Ko=Dr(ba),Qo=Dr(ba);function ti(t){if(t===ba)throw Error(B(174));return t}function Tp(t,e){switch(fe(Qo,e),fe(Ko,t),fe(wn,ba),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gh(e,t)}ve(wn),fe(wn,e)}function ls(){ve(wn),ve(Ko),ve(Qo)}function kx(t){ti(Qo.current);var e=ti(wn.current),n=gh(e,t.type);e!==n&&(fe(Ko,t),fe(wn,n))}function _p(t){Ko.current===t&&(ve(wn),ve(Ko))}var Te=Dr(0);function oc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ad=[];function Ep(){for(var t=0;t<Ad.length;t++)Ad[t]._workInProgressVersionPrimary=null;Ad.length=0}var kl=Un.ReactCurrentDispatcher,Cd=Un.ReactCurrentBatchConfig,ci=0,Ee=null,Ue=null,Qe=null,ac=!1,Eo=!1,Yo=0,Bk=0;function at(){throw Error(B(321))}function Sp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!un(t[n],e[n]))return!1;return!0}function kp(t,e,n,r,i,s){if(ci=s,Ee=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kl.current=t===null||t.memoizedState===null?Wk:$k,t=n(r,i),Eo){s=0;do{if(Eo=!1,Yo=0,25<=s)throw Error(B(301));s+=1,Qe=Ue=null,e.updateQueue=null,kl.current=Hk,t=n(r,i)}while(Eo)}if(kl.current=lc,e=Ue!==null&&Ue.next!==null,ci=0,Qe=Ue=Ee=null,ac=!1,e)throw Error(B(300));return t}function Ip(){var t=Yo!==0;return Yo=0,t}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qe===null?Ee.memoizedState=Qe=t:Qe=Qe.next=t,Qe}function Xt(){if(Ue===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Ue.next;var e=Qe===null?Ee.memoizedState:Qe.next;if(e!==null)Qe=e,Ue=t;else{if(t===null)throw Error(B(310));Ue=t,t={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Qe===null?Ee.memoizedState=Qe=t:Qe=Qe.next=t}return Qe}function Xo(t,e){return typeof e=="function"?e(t):e}function Pd(t){var e=Xt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Ue,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,u=s;do{var h=u.lane;if((ci&h)===h)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,Ee.lanes|=h,ui|=h}u=u.next}while(u!==null&&u!==s);c===null?o=r:c.next=a,un(r,e.memoizedState)||(It=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ee.lanes|=s,ui|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Rd(t){var e=Xt(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);un(s,e.memoizedState)||(It=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Ix(){}function Ax(t,e){var n=Ee,r=Xt(),i=e(),s=!un(r.memoizedState,i);if(s&&(r.memoizedState=i,It=!0),r=r.queue,Ap(Rx.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Qe!==null&&Qe.memoizedState.tag&1){if(n.flags|=2048,Jo(9,Px.bind(null,n,r,i,e),void 0,null),Xe===null)throw Error(B(349));ci&30||Cx(n,e,i)}return i}function Cx(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Px(t,e,n,r){e.value=n,e.getSnapshot=r,jx(e)&&Dx(t)}function Rx(t,e,n){return n(function(){jx(e)&&Dx(t)})}function jx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!un(t,n)}catch{return!0}}function Dx(t){var e=Ln(t,1);e!==null&&an(e,t,1,-1)}function Xy(t){var e=mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:t},e.queue=t,t=t.dispatch=qk.bind(null,Ee,t),[e.memoizedState,t]}function Jo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ee.updateQueue,e===null?(e={lastEffect:null,stores:null},Ee.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Vx(){return Xt().memoizedState}function Il(t,e,n,r){var i=mn();Ee.flags|=t,i.memoizedState=Jo(1|e,n,void 0,r===void 0?null:r)}function Kc(t,e,n,r){var i=Xt();r=r===void 0?null:r;var s=void 0;if(Ue!==null){var o=Ue.memoizedState;if(s=o.destroy,r!==null&&Sp(r,o.deps)){i.memoizedState=Jo(e,n,s,r);return}}Ee.flags|=t,i.memoizedState=Jo(1|e,n,s,r)}function Jy(t,e){return Il(8390656,8,t,e)}function Ap(t,e){return Kc(2048,8,t,e)}function Nx(t,e){return Kc(4,2,t,e)}function Lx(t,e){return Kc(4,4,t,e)}function Mx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fx(t,e,n){return n=n!=null?n.concat([t]):null,Kc(4,4,Mx.bind(null,e,t),n)}function Cp(){}function Ox(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bx(t,e){var n=Xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zx(t,e,n){return ci&21?(un(n,e)||(n=Hw(),Ee.lanes|=n,ui|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,It=!0),t.memoizedState=n)}function zk(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var r=Cd.transition;Cd.transition={};try{t(!1),e()}finally{ue=n,Cd.transition=r}}function Ux(){return Xt().memoizedState}function Uk(t,e,n){var r=fr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qx(t))Wx(e,n);else if(n=Ex(t,e,n,r),n!==null){var i=wt();an(n,t,r,i),$x(n,e,r)}}function qk(t,e,n){var r=fr(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qx(t))Wx(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,un(a,o)){var c=e.interleaved;c===null?(i.next=i,xp(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=Ex(t,e,i,r),n!==null&&(i=wt(),an(n,t,r,i),$x(n,e,r))}}function qx(t){var e=t.alternate;return t===Ee||e!==null&&e===Ee}function Wx(t,e){Eo=ac=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $x(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,op(t,n)}}var lc={readContext:Yt,useCallback:at,useContext:at,useEffect:at,useImperativeHandle:at,useInsertionEffect:at,useLayoutEffect:at,useMemo:at,useReducer:at,useRef:at,useState:at,useDebugValue:at,useDeferredValue:at,useTransition:at,useMutableSource:at,useSyncExternalStore:at,useId:at,unstable_isNewReconciler:!1},Wk={readContext:Yt,useCallback:function(t,e){return mn().memoizedState=[t,e===void 0?null:e],t},useContext:Yt,useEffect:Jy,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Il(4194308,4,Mx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Il(4194308,4,t,e)},useInsertionEffect:function(t,e){return Il(4,2,t,e)},useMemo:function(t,e){var n=mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Uk.bind(null,Ee,t),[r.memoizedState,t]},useRef:function(t){var e=mn();return t={current:t},e.memoizedState=t},useState:Xy,useDebugValue:Cp,useDeferredValue:function(t){return mn().memoizedState=t},useTransition:function(){var t=Xy(!1),e=t[0];return t=zk.bind(null,t[1]),mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ee,i=mn();if(be){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),Xe===null)throw Error(B(349));ci&30||Cx(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Jy(Rx.bind(null,r,s,t),[t]),r.flags|=2048,Jo(9,Px.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=mn(),e=Xe.identifierPrefix;if(be){var n=Pn,r=Cn;n=(r&~(1<<32-on(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bk++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},$k={readContext:Yt,useCallback:Ox,useContext:Yt,useEffect:Ap,useImperativeHandle:Fx,useInsertionEffect:Nx,useLayoutEffect:Lx,useMemo:Bx,useReducer:Pd,useRef:Vx,useState:function(){return Pd(Xo)},useDebugValue:Cp,useDeferredValue:function(t){var e=Xt();return zx(e,Ue.memoizedState,t)},useTransition:function(){var t=Pd(Xo)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:Ix,useSyncExternalStore:Ax,useId:Ux,unstable_isNewReconciler:!1},Hk={readContext:Yt,useCallback:Ox,useContext:Yt,useEffect:Ap,useImperativeHandle:Fx,useInsertionEffect:Nx,useLayoutEffect:Lx,useMemo:Bx,useReducer:Rd,useRef:Vx,useState:function(){return Rd(Xo)},useDebugValue:Cp,useDeferredValue:function(t){var e=Xt();return Ue===null?e.memoizedState=t:zx(e,Ue.memoizedState,t)},useTransition:function(){var t=Rd(Xo)[0],e=Xt().memoizedState;return[t,e]},useMutableSource:Ix,useSyncExternalStore:Ax,useId:Ux,unstable_isNewReconciler:!1};function nn(t,e){if(t&&t.defaultProps){e=Se({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Mh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Se({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qc={isMounted:function(t){return(t=t._reactInternals)?yi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=wt(),i=fr(t),s=Rn(r,i);s.payload=e,n!=null&&(s.callback=n),e=dr(t,s,i),e!==null&&(an(e,t,i,r),Sl(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=wt(),i=fr(t),s=Rn(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=dr(t,s,i),e!==null&&(an(e,t,i,r),Sl(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=wt(),r=fr(t),i=Rn(n,r);i.tag=2,e!=null&&(i.callback=e),e=dr(t,i,r),e!==null&&(an(e,t,r,n),Sl(e,t,r))}};function Zy(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wo(n,r)||!Wo(i,s):!0}function Hx(t,e,n){var r=!1,i=Tr,s=e.contextType;return typeof s=="object"&&s!==null?s=Yt(s):(i=Ct(e)?ai:mt.current,r=e.contextTypes,s=(r=r!=null)?ss(t,i):Tr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ev(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qc.enqueueReplaceState(e,e.state,null)}function Fh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Yt(s):(s=Ct(e)?ai:mt.current,i.context=ss(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Mh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qc.enqueueReplaceState(i,i.state,null),sc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function cs(t,e){try{var n="",r=e;do n+=xS(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Oh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Gk=typeof WeakMap=="function"?WeakMap:Map;function Gx(t,e,n){n=Rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uc||(uc=!0,Qh=r),Oh(t,e)},n}function Kx(t,e,n){n=Rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Oh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Oh(t,e),typeof r!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Gk;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=aI.bind(null,t,e,n),e.then(t,t))}function nv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Rn(-1,1),e.tag=2,dr(n,e,1))),n.lanes|=1),t)}var Kk=Un.ReactCurrentOwner,It=!1;function vt(t,e,n,r){e.child=t===null?_x(e,null,n,r):as(e,t.child,n,r)}function iv(t,e,n,r,i){n=n.render;var s=e.ref;return Xi(e,i),r=kp(t,e,n,r,s,i),n=Ip(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(be&&n&&pp(e),e.flags|=1,vt(t,e,r,i),e.child)}function sv(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Mp(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Qx(t,e,s,r,i)):(t=Rl(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wo,n(o,r)&&t.ref===e.ref)return Mn(t,e,i)}return e.flags|=1,t=pr(s,r),t.ref=e.ref,t.return=e,e.child=t}function Qx(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Wo(s,r)&&t.ref===e.ref)if(It=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(It=!0);else return e.lanes=t.lanes,Mn(t,e,i)}return Bh(t,e,n,r,i)}function Yx(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(zi,jt),jt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(zi,jt),jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,fe(zi,jt),jt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,fe(zi,jt),jt|=r;return vt(t,e,i,n),e.child}function Xx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bh(t,e,n,r,i){var s=Ct(n)?ai:mt.current;return s=ss(e,s),Xi(e,i),n=kp(t,e,n,r,s,i),r=Ip(),t!==null&&!It?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Mn(t,e,i)):(be&&r&&pp(e),e.flags|=1,vt(t,e,n,i),e.child)}function ov(t,e,n,r,i){if(Ct(n)){var s=!0;ec(e)}else s=!1;if(Xi(e,i),e.stateNode===null)Al(t,e),Hx(e,n,r),Fh(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Yt(u):(u=Ct(n)?ai:mt.current,u=ss(e,u));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==u)&&ev(e,o,r,u),er=!1;var m=e.memoizedState;o.state=m,sc(e,r,o,i),c=e.memoizedState,a!==r||m!==c||At.current||er?(typeof h=="function"&&(Mh(e,n,h,r),c=e.memoizedState),(a=er||Zy(e,n,a,r,m,c,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Sx(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:nn(e.type,a),o.props=u,f=e.pendingProps,m=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Yt(c):(c=Ct(n)?ai:mt.current,c=ss(e,c));var v=n.getDerivedStateFromProps;(h=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==c)&&ev(e,o,r,c),er=!1,m=e.memoizedState,o.state=m,sc(e,r,o,i);var E=e.memoizedState;a!==f||m!==E||At.current||er?(typeof v=="function"&&(Mh(e,n,v,r),E=e.memoizedState),(u=er||Zy(e,n,u,r,m,E,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,E,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,E,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=E),o.props=r,o.state=E,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return zh(t,e,n,r,s,i)}function zh(t,e,n,r,i,s){Xx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&$y(e,n,!1),Mn(t,e,s);r=e.stateNode,Kk.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=as(e,t.child,null,s),e.child=as(e,null,a,s)):vt(t,e,a,s),e.memoizedState=r.state,i&&$y(e,n,!0),e.child}function Jx(t){var e=t.stateNode;e.pendingContext?Wy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wy(t,e.context,!1),Tp(t,e.containerInfo)}function av(t,e,n,r,i){return os(),gp(i),e.flags|=256,vt(t,e,n,r),e.child}var Uh={dehydrated:null,treeContext:null,retryLane:0};function qh(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zx(t,e,n){var r=e.pendingProps,i=Te.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),fe(Te,i&1),t===null)return Nh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Jc(o,r,0,null),t=si(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qh(n),e.memoizedState=Uh,t):Pp(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Qk(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=pr(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=pr(a,s):(s=si(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Uh,r}return s=t.child,t=s.sibling,r=pr(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pp(t,e){return e=Jc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function il(t,e,n,r){return r!==null&&gp(r),as(e,t.child,null,n),t=Pp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Qk(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=jd(Error(B(422))),il(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Jc({mode:"visible",children:r.children},i,0,null),s=si(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&as(e,t.child,null,o),e.child.memoizedState=qh(o),e.memoizedState=Uh,s);if(!(e.mode&1))return il(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(B(419)),r=jd(s,r,void 0),il(t,e,o,r)}if(a=(o&t.childLanes)!==0,It||a){if(r=Xe,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ln(t,i),an(r,t,i,-1))}return Lp(),r=jd(Error(B(421))),il(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Dt=ur(i.nextSibling),Nt=e,be=!0,sn=null,t!==null&&($t[Ht++]=Cn,$t[Ht++]=Pn,$t[Ht++]=li,Cn=t.id,Pn=t.overflow,li=e),e=Pp(e,r.children),e.flags|=4096,e)}function lv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Lh(t.return,e,n)}function Dd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vt(t,e,r.children,n),r=Te.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lv(t,n,e);else if(t.tag===19)lv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(fe(Te,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&oc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Dd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&oc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Dd(e,!0,n,null,s);break;case"together":Dd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Al(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ui|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=pr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=pr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Yk(t,e,n){switch(e.tag){case 3:Jx(e),os();break;case 5:kx(e);break;case 1:Ct(e.type)&&ec(e);break;case 4:Tp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;fe(rc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(fe(Te,Te.current&1),e.flags|=128,null):n&e.child.childLanes?Zx(t,e,n):(fe(Te,Te.current&1),t=Mn(t,e,n),t!==null?t.sibling:null);fe(Te,Te.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),fe(Te,Te.current),r)break;return null;case 22:case 23:return e.lanes=0,Yx(t,e,n)}return Mn(t,e,n)}var tb,Wh,nb,rb;tb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wh=function(){};nb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ti(wn.current);var s=null;switch(n){case"input":i=hh(t,i),r=hh(t,r),s=[];break;case"select":i=Se({},i,{value:void 0}),r=Se({},r,{value:void 0}),s=[];break;case"textarea":i=mh(t,i),r=mh(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Jl)}yh(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mo.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var c=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==a&&(c!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&me("scroll",t),s||a===c||(s=[])):(s=s||[]).push(u,c))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rb=function(t,e,n,r){n!==r&&(e.flags|=4)};function to(t,e){if(!be)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xk(t,e,n){var r=e.pendingProps;switch(mp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(e),null;case 1:return Ct(e.type)&&Zl(),lt(e),null;case 3:return r=e.stateNode,ls(),ve(At),ve(mt),Ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,sn!==null&&(Jh(sn),sn=null))),Wh(t,e),lt(e),null;case 5:_p(e);var i=ti(Qo.current);if(n=e.type,t!==null&&e.stateNode!=null)nb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return lt(e),null}if(t=ti(wn.current),nl(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[yn]=e,r[Go]=s,t=(e.mode&1)!==0,n){case"dialog":me("cancel",r),me("close",r);break;case"iframe":case"object":case"embed":me("load",r);break;case"video":case"audio":for(i=0;i<uo.length;i++)me(uo[i],r);break;case"source":me("error",r);break;case"img":case"image":case"link":me("error",r),me("load",r);break;case"details":me("toggle",r);break;case"input":yy(r,s),me("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},me("invalid",r);break;case"textarea":wy(r,s),me("invalid",r)}yh(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,a,t),i=["children",""+a]):Mo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&me("scroll",r)}switch(n){case"input":Ga(r),vy(r,s,!0);break;case"textarea":Ga(r),xy(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Jl)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[yn]=e,t[Go]=r,tb(t,e,!1,!1),e.stateNode=t;e:{switch(o=vh(n,r),n){case"dialog":me("cancel",t),me("close",t),i=r;break;case"iframe":case"object":case"embed":me("load",t),i=r;break;case"video":case"audio":for(i=0;i<uo.length;i++)me(uo[i],t);i=r;break;case"source":me("error",t),i=r;break;case"img":case"image":case"link":me("error",t),me("load",t),i=r;break;case"details":me("toggle",t),i=r;break;case"input":yy(t,r),i=hh(t,r),me("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Se({},r,{value:void 0}),me("invalid",t);break;case"textarea":wy(t,r),i=mh(t,r),me("invalid",t);break;default:i=r}yh(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?Vw(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&jw(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fo(t,c):typeof c=="number"&&Fo(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Mo.hasOwnProperty(s)?c!=null&&s==="onScroll"&&me("scroll",t):c!=null&&ep(t,s,c,o))}switch(n){case"input":Ga(t),vy(t,r,!1);break;case"textarea":Ga(t),xy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+br(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Gi(t,!!r.multiple,s,!1):r.defaultValue!=null&&Gi(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Jl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return lt(e),null;case 6:if(t&&e.stateNode!=null)rb(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=ti(Qo.current),ti(wn.current),nl(e)){if(r=e.stateNode,n=e.memoizedProps,r[yn]=e,(s=r.nodeValue!==n)&&(t=Nt,t!==null))switch(t.tag){case 3:tl(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[yn]=e,e.stateNode=r}return lt(e),null;case 13:if(ve(Te),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(be&&Dt!==null&&e.mode&1&&!(e.flags&128))bx(),os(),e.flags|=98560,s=!1;else if(s=nl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(B(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(B(317));s[yn]=e}else os(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;lt(e),s=!1}else sn!==null&&(Jh(sn),sn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Te.current&1?We===0&&(We=3):Lp())),e.updateQueue!==null&&(e.flags|=4),lt(e),null);case 4:return ls(),Wh(t,e),t===null&&$o(e.stateNode.containerInfo),lt(e),null;case 10:return wp(e.type._context),lt(e),null;case 17:return Ct(e.type)&&Zl(),lt(e),null;case 19:if(ve(Te),s=e.memoizedState,s===null)return lt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)to(s,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=oc(t),o!==null){for(e.flags|=128,to(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(Te,Te.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ne()>us&&(e.flags|=128,r=!0,to(s,!1),e.lanes=4194304)}else{if(!r)if(t=oc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),to(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!be)return lt(e),null}else 2*Ne()-s.renderingStartTime>us&&n!==1073741824&&(e.flags|=128,r=!0,to(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ne(),e.sibling=null,n=Te.current,fe(Te,r?n&1|2:n&1),e):(lt(e),null);case 22:case 23:return Np(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?jt&1073741824&&(lt(e),e.subtreeFlags&6&&(e.flags|=8192)):lt(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function Jk(t,e){switch(mp(e),e.tag){case 1:return Ct(e.type)&&Zl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ls(),ve(At),ve(mt),Ep(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return _p(e),null;case 13:if(ve(Te),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));os()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ve(Te),null;case 4:return ls(),null;case 10:return wp(e.type._context),null;case 22:case 23:return Np(),null;case 24:return null;default:return null}}var sl=!1,ht=!1,Zk=typeof WeakSet=="function"?WeakSet:Set,W=null;function Bi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ce(t,e,r)}else n.current=null}function $h(t,e,n){try{n()}catch(r){Ce(t,e,r)}}var cv=!1;function eI(t,e){if(Ah=Ql,t=lx(),fp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,u=0,h=0,f=t,m=null;t:for(;;){for(var v;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===t)break t;if(m===n&&++u===i&&(a=o),m===s&&++h===r&&(c=o),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ch={focusedElem:t,selectionRange:n},Ql=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var k=E.memoizedProps,P=E.memoizedState,y=e.stateNode,x=y.getSnapshotBeforeUpdate(e.elementType===e.type?k:nn(e.type,k),P);y.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(C){Ce(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return E=cv,cv=!1,E}function So(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&$h(e,n,s)}i=i.next}while(i!==r)}}function Yc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Hh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ib(t){var e=t.alternate;e!==null&&(t.alternate=null,ib(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yn],delete e[Go],delete e[jh],delete e[Lk],delete e[Mk])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sb(t){return t.tag===5||t.tag===3||t.tag===4}function uv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Gh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Jl));else if(r!==4&&(t=t.child,t!==null))for(Gh(t,e,n),t=t.sibling;t!==null;)Gh(t,e,n),t=t.sibling}function Kh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Kh(t,e,n),t=t.sibling;t!==null;)Kh(t,e,n),t=t.sibling}var Ze=null,rn=!1;function Yn(t,e,n){for(n=n.child;n!==null;)ob(t,e,n),n=n.sibling}function ob(t,e,n){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Uc,n)}catch{}switch(n.tag){case 5:ht||Bi(n,e);case 6:var r=Ze,i=rn;Ze=null,Yn(t,e,n),Ze=r,rn=i,Ze!==null&&(rn?(t=Ze,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ze.removeChild(n.stateNode));break;case 18:Ze!==null&&(rn?(t=Ze,n=n.stateNode,t.nodeType===8?kd(t.parentNode,n):t.nodeType===1&&kd(t,n),Uo(t)):kd(Ze,n.stateNode));break;case 4:r=Ze,i=rn,Ze=n.stateNode.containerInfo,rn=!0,Yn(t,e,n),Ze=r,rn=i;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&$h(n,e,o),i=i.next}while(i!==r)}Yn(t,e,n);break;case 1:if(!ht&&(Bi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ce(n,e,a)}Yn(t,e,n);break;case 21:Yn(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,Yn(t,e,n),ht=r):Yn(t,e,n);break;default:Yn(t,e,n)}}function dv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Zk),e.forEach(function(r){var i=cI.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Zt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ze=a.stateNode,rn=!1;break e;case 3:Ze=a.stateNode.containerInfo,rn=!0;break e;case 4:Ze=a.stateNode.containerInfo,rn=!0;break e}a=a.return}if(Ze===null)throw Error(B(160));ob(s,o,i),Ze=null,rn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Ce(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ab(e,t),e=e.sibling}function ab(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Zt(e,t),pn(t),r&4){try{So(3,t,t.return),Yc(3,t)}catch(k){Ce(t,t.return,k)}try{So(5,t,t.return)}catch(k){Ce(t,t.return,k)}}break;case 1:Zt(e,t),pn(t),r&512&&n!==null&&Bi(n,n.return);break;case 5:if(Zt(e,t),pn(t),r&512&&n!==null&&Bi(n,n.return),t.flags&32){var i=t.stateNode;try{Fo(i,"")}catch(k){Ce(t,t.return,k)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Cw(i,s),vh(a,o);var u=vh(a,s);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?Vw(i,f):h==="dangerouslySetInnerHTML"?jw(i,f):h==="children"?Fo(i,f):ep(i,h,f,u)}switch(a){case"input":fh(i,s);break;case"textarea":Pw(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Gi(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Gi(i,!!s.multiple,s.defaultValue,!0):Gi(i,!!s.multiple,s.multiple?[]:"",!1))}i[Go]=s}catch(k){Ce(t,t.return,k)}}break;case 6:if(Zt(e,t),pn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(k){Ce(t,t.return,k)}}break;case 3:if(Zt(e,t),pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uo(e.containerInfo)}catch(k){Ce(t,t.return,k)}break;case 4:Zt(e,t),pn(t);break;case 13:Zt(e,t),pn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Dp=Ne())),r&4&&dv(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(u=ht)||h,Zt(e,t),ht=u):Zt(e,t),pn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(W=t,h=t.child;h!==null;){for(f=W=h;W!==null;){switch(m=W,v=m.child,m.tag){case 0:case 11:case 14:case 15:So(4,m,m.return);break;case 1:Bi(m,m.return);var E=m.stateNode;if(typeof E.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(k){Ce(r,n,k)}}break;case 5:Bi(m,m.return);break;case 22:if(m.memoizedState!==null){fv(f);continue}}v!==null?(v.return=m,W=v):fv(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Dw("display",o))}catch(k){Ce(t,t.return,k)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(k){Ce(t,t.return,k)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Zt(e,t),pn(t),r&4&&dv(t);break;case 21:break;default:Zt(e,t),pn(t)}}function pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sb(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Fo(i,""),r.flags&=-33);var s=uv(t);Kh(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=uv(t);Gh(t,a,o);break;default:throw Error(B(161))}}catch(c){Ce(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tI(t,e,n){W=t,lb(t)}function lb(t,e,n){for(var r=(t.mode&1)!==0;W!==null;){var i=W,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sl;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||ht;a=sl;var u=ht;if(sl=o,(ht=c)&&!u)for(W=i;W!==null;)o=W,c=o.child,o.tag===22&&o.memoizedState!==null?pv(i):c!==null?(c.return=o,W=c):pv(i);for(;s!==null;)W=s,lb(s),s=s.sibling;W=i,sl=a,ht=u}hv(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,W=s):hv(t)}}function hv(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||Yc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:nn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Yy(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Yy(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Uo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}ht||e.flags&512&&Hh(e)}catch(m){Ce(e,e.return,m)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function fv(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function pv(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yc(4,e)}catch(c){Ce(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Ce(e,i,c)}}var s=e.return;try{Hh(e)}catch(c){Ce(e,s,c)}break;case 5:var o=e.return;try{Hh(e)}catch(c){Ce(e,o,c)}}}catch(c){Ce(e,e.return,c)}if(e===t){W=null;break}var a=e.sibling;if(a!==null){a.return=e.return,W=a;break}W=e.return}}var nI=Math.ceil,cc=Un.ReactCurrentDispatcher,Rp=Un.ReactCurrentOwner,Qt=Un.ReactCurrentBatchConfig,ae=0,Xe=null,Fe=null,rt=0,jt=0,zi=Dr(0),We=0,Zo=null,ui=0,Xc=0,jp=0,ko=null,St=null,Dp=0,us=1/0,In=null,uc=!1,Qh=null,hr=null,ol=!1,ir=null,dc=0,Io=0,Yh=null,Cl=-1,Pl=0;function wt(){return ae&6?Ne():Cl!==-1?Cl:Cl=Ne()}function fr(t){return t.mode&1?ae&2&&rt!==0?rt&-rt:Ok.transition!==null?(Pl===0&&(Pl=Hw()),Pl):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Zw(t.type)),t):1}function an(t,e,n,r){if(50<Io)throw Io=0,Yh=null,Error(B(185));va(t,n,r),(!(ae&2)||t!==Xe)&&(t===Xe&&(!(ae&2)&&(Xc|=n),We===4&&nr(t,rt)),Pt(t,r),n===1&&ae===0&&!(e.mode&1)&&(us=Ne()+500,Gc&&Vr()))}function Pt(t,e){var n=t.callbackNode;OS(t,e);var r=Kl(t,t===Xe?rt:0);if(r===0)n!==null&&_y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_y(n),e===1)t.tag===0?Fk(mv.bind(null,t)):vx(mv.bind(null,t)),Vk(function(){!(ae&6)&&Vr()}),n=null;else{switch(Gw(r)){case 1:n=sp;break;case 4:n=Ww;break;case 16:n=Gl;break;case 536870912:n=$w;break;default:n=Gl}n=gb(n,cb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function cb(t,e){if(Cl=-1,Pl=0,ae&6)throw Error(B(327));var n=t.callbackNode;if(Ji()&&t.callbackNode!==n)return null;var r=Kl(t,t===Xe?rt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=hc(t,r);else{e=r;var i=ae;ae|=2;var s=db();(Xe!==t||rt!==e)&&(In=null,us=Ne()+500,ii(t,e));do try{sI();break}catch(a){ub(t,a)}while(!0);vp(),cc.current=s,ae=i,Fe!==null?e=0:(Xe=null,rt=0,e=We)}if(e!==0){if(e===2&&(i=_h(t),i!==0&&(r=i,e=Xh(t,i))),e===1)throw n=Zo,ii(t,0),nr(t,r),Pt(t,Ne()),n;if(e===6)nr(t,r);else{if(i=t.current.alternate,!(r&30)&&!rI(i)&&(e=hc(t,r),e===2&&(s=_h(t),s!==0&&(r=s,e=Xh(t,s))),e===1))throw n=Zo,ii(t,0),nr(t,r),Pt(t,Ne()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:Qr(t,St,In);break;case 3:if(nr(t,r),(r&130023424)===r&&(e=Dp+500-Ne(),10<e)){if(Kl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){wt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rh(Qr.bind(null,t,St,In),e);break}Qr(t,St,In);break;case 4:if(nr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-on(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nI(r/1960))-r,10<r){t.timeoutHandle=Rh(Qr.bind(null,t,St,In),r);break}Qr(t,St,In);break;case 5:Qr(t,St,In);break;default:throw Error(B(329))}}}return Pt(t,Ne()),t.callbackNode===n?cb.bind(null,t):null}function Xh(t,e){var n=ko;return t.current.memoizedState.isDehydrated&&(ii(t,e).flags|=256),t=hc(t,e),t!==2&&(e=St,St=n,e!==null&&Jh(e)),t}function Jh(t){St===null?St=t:St.push.apply(St,t)}function rI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!un(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function nr(t,e){for(e&=~jp,e&=~Xc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-on(e),r=1<<n;t[n]=-1,e&=~r}}function mv(t){if(ae&6)throw Error(B(327));Ji();var e=Kl(t,0);if(!(e&1))return Pt(t,Ne()),null;var n=hc(t,e);if(t.tag!==0&&n===2){var r=_h(t);r!==0&&(e=r,n=Xh(t,r))}if(n===1)throw n=Zo,ii(t,0),nr(t,e),Pt(t,Ne()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qr(t,St,In),Pt(t,Ne()),null}function Vp(t,e){var n=ae;ae|=1;try{return t(e)}finally{ae=n,ae===0&&(us=Ne()+500,Gc&&Vr())}}function di(t){ir!==null&&ir.tag===0&&!(ae&6)&&Ji();var e=ae;ae|=1;var n=Qt.transition,r=ue;try{if(Qt.transition=null,ue=1,t)return t()}finally{ue=r,Qt.transition=n,ae=e,!(ae&6)&&Vr()}}function Np(){jt=zi.current,ve(zi)}function ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Dk(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(mp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zl();break;case 3:ls(),ve(At),ve(mt),Ep();break;case 5:_p(r);break;case 4:ls();break;case 13:ve(Te);break;case 19:ve(Te);break;case 10:wp(r.type._context);break;case 22:case 23:Np()}n=n.return}if(Xe=t,Fe=t=pr(t.current,null),rt=jt=e,We=0,Zo=null,jp=Xc=ui=0,St=ko=null,ei!==null){for(e=0;e<ei.length;e++)if(n=ei[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}ei=null}return t}function ub(t,e){do{var n=Fe;try{if(vp(),kl.current=lc,ac){for(var r=Ee.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ac=!1}if(ci=0,Qe=Ue=Ee=null,Eo=!1,Yo=0,Rp.current=null,n===null||n.return===null){We=1,Zo=e,Fe=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=rt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var v=nv(o);if(v!==null){v.flags&=-257,rv(v,o,a,s,e),v.mode&1&&tv(s,u,e),e=v,c=u;var E=e.updateQueue;if(E===null){var k=new Set;k.add(c),e.updateQueue=k}else E.add(c);break e}else{if(!(e&1)){tv(s,u,e),Lp();break e}c=Error(B(426))}}else if(be&&a.mode&1){var P=nv(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),rv(P,o,a,s,e),gp(cs(c,a));break e}}s=c=cs(c,a),We!==4&&(We=2),ko===null?ko=[s]:ko.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=Gx(s,c,e);Qy(s,y);break e;case 1:a=c;var x=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(hr===null||!hr.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=Kx(s,a,e);Qy(s,C);break e}}s=s.return}while(s!==null)}fb(n)}catch(D){e=D,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(!0)}function db(){var t=cc.current;return cc.current=lc,t===null?lc:t}function Lp(){(We===0||We===3||We===2)&&(We=4),Xe===null||!(ui&268435455)&&!(Xc&268435455)||nr(Xe,rt)}function hc(t,e){var n=ae;ae|=2;var r=db();(Xe!==t||rt!==e)&&(In=null,ii(t,e));do try{iI();break}catch(i){ub(t,i)}while(!0);if(vp(),ae=n,cc.current=r,Fe!==null)throw Error(B(261));return Xe=null,rt=0,We}function iI(){for(;Fe!==null;)hb(Fe)}function sI(){for(;Fe!==null&&!PS();)hb(Fe)}function hb(t){var e=mb(t.alternate,t,jt);t.memoizedProps=t.pendingProps,e===null?fb(t):Fe=e,Rp.current=null}function fb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Jk(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Fe=null;return}}else if(n=Xk(n,e,jt),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);We===0&&(We=5)}function Qr(t,e,n){var r=ue,i=Qt.transition;try{Qt.transition=null,ue=1,oI(t,e,n,r)}finally{Qt.transition=i,ue=r}return null}function oI(t,e,n,r){do Ji();while(ir!==null);if(ae&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(BS(t,s),t===Xe&&(Fe=Xe=null,rt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ol||(ol=!0,gb(Gl,function(){return Ji(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qt.transition,Qt.transition=null;var o=ue;ue=1;var a=ae;ae|=4,Rp.current=null,eI(t,n),ab(n,t),kk(Ch),Ql=!!Ah,Ch=Ah=null,t.current=n,tI(n),RS(),ae=a,ue=o,Qt.transition=s}else t.current=n;if(ol&&(ol=!1,ir=t,dc=i),s=t.pendingLanes,s===0&&(hr=null),VS(n.stateNode),Pt(t,Ne()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uc)throw uc=!1,t=Qh,Qh=null,t;return dc&1&&t.tag!==0&&Ji(),s=t.pendingLanes,s&1?t===Yh?Io++:(Io=0,Yh=t):Io=0,Vr(),null}function Ji(){if(ir!==null){var t=Gw(dc),e=Qt.transition,n=ue;try{if(Qt.transition=null,ue=16>t?16:t,ir===null)var r=!1;else{if(t=ir,ir=null,dc=0,ae&6)throw Error(B(331));var i=ae;for(ae|=4,W=t.current;W!==null;){var s=W,o=s.child;if(W.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var u=a[c];for(W=u;W!==null;){var h=W;switch(h.tag){case 0:case 11:case 15:So(8,h,s)}var f=h.child;if(f!==null)f.return=h,W=f;else for(;W!==null;){h=W;var m=h.sibling,v=h.return;if(ib(h),h===u){W=null;break}if(m!==null){m.return=v,W=m;break}W=v}}}var E=s.alternate;if(E!==null){var k=E.child;if(k!==null){E.child=null;do{var P=k.sibling;k.sibling=null,k=P}while(k!==null)}}W=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,W=o;else e:for(;W!==null;){if(s=W,s.flags&2048)switch(s.tag){case 0:case 11:case 15:So(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,W=y;break e}W=s.return}}var x=t.current;for(W=x;W!==null;){o=W;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,W=_;else e:for(o=x;W!==null;){if(a=W,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yc(9,a)}}catch(D){Ce(a,a.return,D)}if(a===o){W=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,W=C;break e}W=a.return}}if(ae=i,Vr(),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Uc,t)}catch{}r=!0}return r}finally{ue=n,Qt.transition=e}}return!1}function gv(t,e,n){e=cs(n,e),e=Gx(t,e,1),t=dr(t,e,1),e=wt(),t!==null&&(va(t,1,e),Pt(t,e))}function Ce(t,e,n){if(t.tag===3)gv(t,t,n);else for(;e!==null;){if(e.tag===3){gv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(hr===null||!hr.has(r))){t=cs(n,t),t=Kx(e,t,1),e=dr(e,t,1),t=wt(),e!==null&&(va(e,1,t),Pt(e,t));break}}e=e.return}}function aI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=wt(),t.pingedLanes|=t.suspendedLanes&n,Xe===t&&(rt&n)===n&&(We===4||We===3&&(rt&130023424)===rt&&500>Ne()-Dp?ii(t,0):jp|=n),Pt(t,e)}function pb(t,e){e===0&&(t.mode&1?(e=Ya,Ya<<=1,!(Ya&130023424)&&(Ya=4194304)):e=1);var n=wt();t=Ln(t,e),t!==null&&(va(t,e,n),Pt(t,n))}function lI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pb(t,n)}function cI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),pb(t,n)}var mb;mb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||At.current)It=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return It=!1,Yk(t,e,n);It=!!(t.flags&131072)}else It=!1,be&&e.flags&1048576&&wx(e,nc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Al(t,e),t=e.pendingProps;var i=ss(e,mt.current);Xi(e,n),i=kp(null,e,r,t,i,n);var s=Ip();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ct(r)?(s=!0,ec(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bp(e),i.updater=Qc,e.stateNode=i,i._reactInternals=e,Fh(e,r,t,n),e=zh(null,e,r,!0,s,n)):(e.tag=0,be&&s&&pp(e),vt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Al(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dI(r),t=nn(r,t),i){case 0:e=Bh(null,e,r,t,n);break e;case 1:e=ov(null,e,r,t,n);break e;case 11:e=iv(null,e,r,t,n);break e;case 14:e=sv(null,e,r,nn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),Bh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),ov(t,e,r,i,n);case 3:e:{if(Jx(e),t===null)throw Error(B(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Sx(t,e),sc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=cs(Error(B(423)),e),e=av(t,e,r,n,i);break e}else if(r!==i){i=cs(Error(B(424)),e),e=av(t,e,r,n,i);break e}else for(Dt=ur(e.stateNode.containerInfo.firstChild),Nt=e,be=!0,sn=null,n=_x(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(os(),r===i){e=Mn(t,e,n);break e}vt(t,e,r,n)}e=e.child}return e;case 5:return kx(e),t===null&&Nh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Ph(r,i)?o=null:s!==null&&Ph(r,s)&&(e.flags|=32),Xx(t,e),vt(t,e,o,n),e.child;case 6:return t===null&&Nh(e),null;case 13:return Zx(t,e,n);case 4:return Tp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=as(e,null,r,n):vt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),iv(t,e,r,i,n);case 7:return vt(t,e,e.pendingProps,n),e.child;case 8:return vt(t,e,e.pendingProps.children,n),e.child;case 12:return vt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,fe(rc,r._currentValue),r._currentValue=o,s!==null)if(un(s.value,o)){if(s.children===i.children&&!At.current){e=Mn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Rn(-1,n&-n),c.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),Lh(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(B(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Lh(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xi(e,n),i=Yt(i),r=r(i),e.flags|=1,vt(t,e,r,n),e.child;case 14:return r=e.type,i=nn(r,e.pendingProps),i=nn(r.type,i),sv(t,e,r,i,n);case 15:return Qx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:nn(r,i),Al(t,e),e.tag=1,Ct(r)?(t=!0,ec(e)):t=!1,Xi(e,n),Hx(e,r,i),Fh(e,r,i,n),zh(null,e,r,!0,t,n);case 19:return eb(t,e,n);case 22:return Yx(t,e,n)}throw Error(B(156,e.tag))};function gb(t,e){return qw(t,e)}function uI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Kt(t,e,n,r){return new uI(t,e,n,r)}function Mp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dI(t){if(typeof t=="function")return Mp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===np)return 11;if(t===rp)return 14}return 2}function pr(t,e){var n=t.alternate;return n===null?(n=Kt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Rl(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Mp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ri:return si(n.children,i,s,e);case tp:o=8,i|=8;break;case lh:return t=Kt(12,n,e,i|2),t.elementType=lh,t.lanes=s,t;case ch:return t=Kt(13,n,e,i),t.elementType=ch,t.lanes=s,t;case uh:return t=Kt(19,n,e,i),t.elementType=uh,t.lanes=s,t;case kw:return Jc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ew:o=10;break e;case Sw:o=9;break e;case np:o=11;break e;case rp:o=14;break e;case Zn:o=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=Kt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function si(t,e,n,r){return t=Kt(7,t,r,e),t.lanes=n,t}function Jc(t,e,n,r){return t=Kt(22,t,r,e),t.elementType=kw,t.lanes=n,t.stateNode={isHidden:!1},t}function Vd(t,e,n){return t=Kt(6,t,null,e),t.lanes=n,t}function Nd(t,e,n){return e=Kt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hI(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=md(0),this.expirationTimes=md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=md(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fp(t,e,n,r,i,s,o,a,c){return t=new hI(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Kt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(s),t}function fI(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yb(t){if(!t)return Tr;t=t._reactInternals;e:{if(yi(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ct(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Ct(n))return yx(t,n,e)}return e}function vb(t,e,n,r,i,s,o,a,c){return t=Fp(n,r,!0,t,i,s,o,a,c),t.context=yb(null),n=t.current,r=wt(),i=fr(n),s=Rn(r,i),s.callback=e??null,dr(n,s,i),t.current.lanes=i,va(t,i,r),Pt(t,r),t}function Zc(t,e,n,r){var i=e.current,s=wt(),o=fr(i);return n=yb(n),e.context===null?e.context=n:e.pendingContext=n,e=Rn(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=dr(i,e,o),t!==null&&(an(t,i,o,s),Sl(t,i,o)),o}function fc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Op(t,e){yv(t,e),(t=t.alternate)&&yv(t,e)}function pI(){return null}var wb=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bp(t){this._internalRoot=t}eu.prototype.render=Bp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));Zc(t,e,null,null)};eu.prototype.unmount=Bp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;di(function(){Zc(null,t,null,null)}),e[Nn]=null}};function eu(t){this._internalRoot=t}eu.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<tr.length&&e!==0&&e<tr[n].priority;n++);tr.splice(n,0,t),n===0&&Jw(t)}};function zp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vv(){}function mI(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=fc(o);s.call(u)}}var o=vb(e,r,t,0,null,!1,!1,"",vv);return t._reactRootContainer=o,t[Nn]=o.current,$o(t.nodeType===8?t.parentNode:t),di(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=fc(c);a.call(u)}}var c=Fp(t,0,!1,null,null,!1,!1,"",vv);return t._reactRootContainer=c,t[Nn]=c.current,$o(t.nodeType===8?t.parentNode:t),di(function(){Zc(e,c,n,r)}),c}function nu(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=fc(o);a.call(c)}}Zc(e,o,t,i)}else o=mI(n,e,t,i,r);return fc(o)}Kw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=co(e.pendingLanes);n!==0&&(op(e,n|1),Pt(e,Ne()),!(ae&6)&&(us=Ne()+500,Vr()))}break;case 13:di(function(){var r=Ln(t,1);if(r!==null){var i=wt();an(r,t,1,i)}}),Op(t,1)}};ap=function(t){if(t.tag===13){var e=Ln(t,134217728);if(e!==null){var n=wt();an(e,t,134217728,n)}Op(t,134217728)}};Qw=function(t){if(t.tag===13){var e=fr(t),n=Ln(t,e);if(n!==null){var r=wt();an(n,t,e,r)}Op(t,e)}};Yw=function(){return ue};Xw=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};xh=function(t,e,n){switch(e){case"input":if(fh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hc(r);if(!i)throw Error(B(90));Aw(r),fh(r,i)}}}break;case"textarea":Pw(t,n);break;case"select":e=n.value,e!=null&&Gi(t,!!n.multiple,e,!1)}};Mw=Vp;Fw=di;var gI={usingClientEntryPoint:!1,Events:[xa,Ni,Hc,Nw,Lw,Vp]},no={findFiberByHostInstance:Zr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},yI={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Un.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=zw(t),t===null?null:t.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||pI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{Uc=al.inject(yI),vn=al}catch{}}Ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gI;Ot.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zp(e))throw Error(B(200));return fI(t,e,null,n)};Ot.createRoot=function(t,e){if(!zp(t))throw Error(B(299));var n=!1,r="",i=wb;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fp(t,1,!1,null,null,n,!1,r,i),t[Nn]=e.current,$o(t.nodeType===8?t.parentNode:t),new Bp(e)};Ot.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=zw(e),t=t===null?null:t.stateNode,t};Ot.flushSync=function(t){return di(t)};Ot.hydrate=function(t,e,n){if(!tu(e))throw Error(B(200));return nu(null,t,e,!0,n)};Ot.hydrateRoot=function(t,e,n){if(!zp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=wb;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vb(e,null,t,1,n??null,i,!1,s,o),t[Nn]=e.current,$o(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new eu(e)};Ot.render=function(t,e,n){if(!tu(e))throw Error(B(200));return nu(null,t,e,!1,n)};Ot.unmountComponentAtNode=function(t){if(!tu(t))throw Error(B(40));return t._reactRootContainer?(di(function(){nu(null,null,t,!1,function(){t._reactRootContainer=null,t[Nn]=null})}),!0):!1};Ot.unstable_batchedUpdates=Vp;Ot.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tu(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return nu(t,e,n,!1,r)};Ot.version="18.3.1-next-f1338f8080-20240426";function xb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xb)}catch(t){console.error(t)}}xb(),xw.exports=Ot;var vI=xw.exports,wv=vI;oh.createRoot=wv.createRoot,oh.hydrateRoot=wv.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ea(){return ea=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ea.apply(this,arguments)}var sr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(sr||(sr={}));const xv="popstate";function wI(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Zh("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:pc(i)}return bI(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Up(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xI(){return Math.random().toString(36).substr(2,8)}function bv(t,e){return{usr:t.state,key:t.key,idx:e}}function Zh(t,e,n,r){return n===void 0&&(n=null),ea({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_s(e):e,{state:n,key:e&&e.key||r||xI()})}function pc(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _s(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function bI(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=sr.Pop,c=null,u=h();u==null&&(u=0,o.replaceState(ea({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=sr.Pop;let P=h(),y=P==null?null:P-u;u=P,c&&c({action:a,location:k.location,delta:y})}function m(P,y){a=sr.Push;let x=Zh(k.location,P,y);u=h()+1;let _=bv(x,u),C=k.createHref(x);try{o.pushState(_,"",C)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(C)}s&&c&&c({action:a,location:k.location,delta:1})}function v(P,y){a=sr.Replace;let x=Zh(k.location,P,y);u=h();let _=bv(x,u),C=k.createHref(x);o.replaceState(_,"",C),s&&c&&c({action:a,location:k.location,delta:0})}function E(P){let y=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof P=="string"?P:pc(P);return x=x.replace(/ $/,"%20"),Pe(y,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,y)}let k={get action(){return a},get location(){return t(i,o)},listen(P){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xv,f),c=P,()=>{i.removeEventListener(xv,f),c=null}},createHref(P){return e(i,P)},createURL:E,encodeLocation(P){let y=E(P);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:v,go(P){return o.go(P)}};return k}var Tv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Tv||(Tv={}));function TI(t,e,n){return n===void 0&&(n="/"),_I(t,e,n)}function _I(t,e,n,r){let i=typeof e=="string"?_s(e):e,s=ds(i.pathname||"/",n);if(s==null)return null;let o=bb(t);EI(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=NI(s);a=DI(o[c],u)}return a}function bb(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Pe(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=mr([r,c.relativePath]),h=n.concat(c);s.children&&s.children.length>0&&(Pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),bb(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:RI(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of Tb(s.path))i(s,o,c)}),e}function Tb(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=Tb(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function EI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:jI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const SI=/^:[\w-]+$/,kI=3,II=2,AI=1,CI=10,PI=-2,_v=t=>t==="*";function RI(t,e){let n=t.split("/"),r=n.length;return n.some(_v)&&(r+=PI),e&&(r+=II),n.filter(i=>!_v(i)).reduce((i,s)=>i+(SI.test(s)?kI:s===""?AI:CI),r)}function jI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DI(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,h=s==="/"?e:e.slice(s.length)||"/",f=ef({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},h),m=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:mr([s,f.pathname]),pathnameBase:BI(mr([s,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(s=mr([s,f.pathnameBase]))}return o}function ef(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=VI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,h,f)=>{let{paramName:m,isOptional:v}=h;if(m==="*"){let k=a[f]||"";o=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const E=a[f];return v&&!E?u[m]=void 0:u[m]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function VI(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Up(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function NI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Up(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ds(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const LI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,MI=t=>LI.test(t);function FI(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_s(t):t,s;if(n)if(MI(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Up(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=Ev(n.substring(1),"/"):s=Ev(n,e)}else s=e;return{pathname:s,search:zI(r),hash:UI(i)}}function Ev(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ld(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function OI(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _b(t,e){let n=OI(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Eb(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_s(t):(i=ea({},t),Pe(!i.pathname||!i.pathname.includes("?"),Ld("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),Ld("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),Ld("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let c=FI(i,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||h)&&(c.pathname+="/"),c}const mr=t=>t.join("/").replace(/\/\/+/g,"/"),BI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qI(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Sb=["post","put","patch","delete"];new Set(Sb);const WI=["get",...Sb];new Set(WI);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ta(){return ta=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ta.apply(this,arguments)}const ru=j.createContext(null),kb=j.createContext(null),Nr=j.createContext(null),iu=j.createContext(null),Lr=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Ib=j.createContext(null);function $I(t,e){let{relative:n}=e===void 0?{}:e;Ta()||Pe(!1);let{basename:r,navigator:i}=j.useContext(Nr),{hash:s,pathname:o,search:a}=su(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:mr([r,o])),i.createHref({pathname:c,search:a,hash:s})}function Ta(){return j.useContext(iu)!=null}function Es(){return Ta()||Pe(!1),j.useContext(iu).location}function Ab(t){j.useContext(Nr).static||j.useLayoutEffect(t)}function qp(){let{isDataRoute:t}=j.useContext(Lr);return t?sA():HI()}function HI(){Ta()||Pe(!1);let t=j.useContext(ru),{basename:e,future:n,navigator:r}=j.useContext(Nr),{matches:i}=j.useContext(Lr),{pathname:s}=Es(),o=JSON.stringify(_b(i,n.v7_relativeSplatPath)),a=j.useRef(!1);return Ab(()=>{a.current=!0}),j.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=Eb(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:mr([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,s,t])}function GI(){let{matches:t}=j.useContext(Lr),e=t[t.length-1];return e?e.params:{}}function su(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(Nr),{matches:i}=j.useContext(Lr),{pathname:s}=Es(),o=JSON.stringify(_b(i,r.v7_relativeSplatPath));return j.useMemo(()=>Eb(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function KI(t,e){return QI(t,e)}function QI(t,e,n,r){Ta()||Pe(!1);let{navigator:i}=j.useContext(Nr),{matches:s}=j.useContext(Lr),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Es(),h;if(e){var f;let P=typeof e=="string"?_s(e):e;c==="/"||(f=P.pathname)!=null&&f.startsWith(c)||Pe(!1),h=P}else h=u;let m=h.pathname||"/",v=m;if(c!=="/"){let P=c.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(P.length).join("/")}let E=TI(t,{pathname:v}),k=eA(E&&E.map(P=>Object.assign({},P,{params:Object.assign({},a,P.params),pathname:mr([c,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:mr([c,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),s,n,r);return e&&k?j.createElement(iu.Provider,{value:{location:ta({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:sr.Pop}},k):k}function YI(){let t=iA(),e=qI(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const XI=j.createElement(YI,null);class JI extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(Lr.Provider,{value:this.props.routeContext},j.createElement(Ib.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ZI(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(ru);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Lr.Provider,{value:e},r)}function eA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||Pe(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:m,errors:v}=n,E=f.route.loader&&m[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||E){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let v,E=!1,k=null,P=null;n&&(v=a&&f.route.id?a[f.route.id]:void 0,k=f.route.errorElement||XI,c&&(u<0&&m===0?(oA("route-fallback"),E=!0,P=null):u===m&&(E=!0,P=f.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,m+1)),x=()=>{let _;return v?_=k:E?_=P:f.route.Component?_=j.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=h,j.createElement(ZI,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?j.createElement(JI,{location:n.location,revalidation:n.revalidation,component:k,error:v,children:x(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):x()},null)}var Cb=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Cb||{}),Pb=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Pb||{});function tA(t){let e=j.useContext(ru);return e||Pe(!1),e}function nA(t){let e=j.useContext(kb);return e||Pe(!1),e}function rA(t){let e=j.useContext(Lr);return e||Pe(!1),e}function Rb(t){let e=rA(),n=e.matches[e.matches.length-1];return n.route.id||Pe(!1),n.route.id}function iA(){var t;let e=j.useContext(Ib),n=nA(),r=Rb();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function sA(){let{router:t}=tA(Cb.UseNavigateStable),e=Rb(Pb.UseNavigateStable),n=j.useRef(!1);return Ab(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ta({fromRouteId:e},s)))},[t,e])}const Sv={};function oA(t,e,n){Sv[t]||(Sv[t]=!0)}function aA(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Tt(t){Pe(!1)}function lA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=sr.Pop,navigator:s,static:o=!1,future:a}=t;Ta()&&Pe(!1);let c=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:c,navigator:s,static:o,future:ta({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=_s(r));let{pathname:h="/",search:f="",hash:m="",state:v=null,key:E="default"}=r,k=j.useMemo(()=>{let P=ds(h,c);return P==null?null:{location:{pathname:P,search:f,hash:m,state:v,key:E},navigationType:i}},[c,h,f,m,v,E,i]);return k==null?null:j.createElement(Nr.Provider,{value:u},j.createElement(iu.Provider,{children:n,value:k}))}function cA(t){let{children:e,location:n}=t;return KI(tf(e),n)}new Promise(()=>{});function tf(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,tf(r.props.children,s));return}r.type!==Tt&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tf(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mc(){return mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mc.apply(this,arguments)}function jb(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function uA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function dA(t,e){return t.button===0&&(!e||e==="_self")&&!uA(t)}const hA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fA=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],pA="6";try{window.__reactRouterVersion=pA}catch{}const mA=j.createContext({isTransitioning:!1}),gA="startTransition",kv=aS[gA];function yA(t){let{basename:e,children:n,future:r,window:i}=t,s=j.useRef();s.current==null&&(s.current=wI({window:i,v5Compat:!0}));let o=s.current,[a,c]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},h=j.useCallback(f=>{u&&kv?kv(()=>c(f)):c(f)},[c,u]);return j.useLayoutEffect(()=>o.listen(h),[o,h]),j.useEffect(()=>aA(r),[r]),j.createElement(lA,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const vA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,le=j.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:u,preventScrollReset:h,viewTransition:f}=e,m=jb(e,hA),{basename:v}=j.useContext(Nr),E,k=!1;if(typeof u=="string"&&wA.test(u)&&(E=u,vA))try{let _=new URL(window.location.href),C=u.startsWith("//")?new URL(_.protocol+u):new URL(u),D=ds(C.pathname,v);C.origin===_.origin&&D!=null?u=D+C.search+C.hash:k=!0}catch{}let P=$I(u,{relative:i}),y=TA(u,{replace:o,state:a,target:c,preventScrollReset:h,relative:i,viewTransition:f});function x(_){r&&r(_),_.defaultPrevented||y(_)}return j.createElement("a",mc({},m,{href:E||P,onClick:k||s?r:x,ref:n,target:c}))}),xA=j.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:c,viewTransition:u,children:h}=e,f=jb(e,fA),m=su(c,{relative:f.relative}),v=Es(),E=j.useContext(kb),{navigator:k,basename:P}=j.useContext(Nr),y=E!=null&&_A(m)&&u===!0,x=k.encodeLocation?k.encodeLocation(m).pathname:m.pathname,_=v.pathname,C=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;i||(_=_.toLowerCase(),C=C?C.toLowerCase():null,x=x.toLowerCase()),C&&P&&(C=ds(C,P)||C);const D=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let M=_===x||!o&&_.startsWith(x)&&_.charAt(D)==="/",T=C!=null&&(C===x||!o&&C.startsWith(x)&&C.charAt(x.length)==="/"),w={isActive:M,isPending:T,isTransitioning:y},S=M?r:void 0,I;typeof s=="function"?I=s(w):I=[s,M?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let R=typeof a=="function"?a(w):a;return j.createElement(le,mc({},f,{"aria-current":S,className:I,ref:n,style:R,to:c,viewTransition:u}),typeof h=="function"?h(w):h)});var nf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nf||(nf={}));var Iv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Iv||(Iv={}));function bA(t){let e=j.useContext(ru);return e||Pe(!1),e}function TA(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=qp(),u=Es(),h=su(t,{relative:o});return j.useCallback(f=>{if(dA(f,n)){f.preventDefault();let m=r!==void 0?r:pc(u)===pc(h);c(t,{replace:m,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,c,h,r,i,n,t,s,o,a])}function _A(t,e){e===void 0&&(e={});let n=j.useContext(mA);n==null&&Pe(!1);let{basename:r}=bA(nf.useViewTransitionState),i=su(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=ds(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ds(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ef(i.pathname,o)!=null||ef(i.pathname,s)!=null}const Db=j.createContext({theme:"light",toggle:()=>{}});function EA({children:t}){const[e,n]=j.useState("light");j.useEffect(()=>{const s=localStorage.getItem("theme")||"light";n(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const r=()=>{const i=e==="dark"?"light":"dark";n(i),document.documentElement.classList.toggle("dark",i==="dark"),localStorage.setItem("theme",i)};return d.jsx(Db.Provider,{value:{theme:e,toggle:r},children:t})}const SA=()=>j.useContext(Db),Wp=j.createContext({});function $p(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const ou=j.createContext(null),Hp=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class kA extends j.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function IA({children:t,isPresent:e}){const n=j.useId(),r=j.useRef(null),i=j.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=j.useContext(Hp);return j.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:u}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),d.jsx(kA,{isPresent:e,childRef:r,sizeRef:i,children:j.cloneElement(t,{ref:r})})}const AA=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=$p(CA),c=j.useId(),u=j.useCallback(f=>{a.set(f,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),h=j.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:u,register:f=>(a.set(f,!1),()=>a.delete(f))}),s?[Math.random(),u]:[n,u]);return j.useMemo(()=>{a.forEach((f,m)=>a.set(m,!1))},[n]),j.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=d.jsx(IA,{isPresent:n,children:t})),d.jsx(ou.Provider,{value:h,children:t})};function CA(){return new Map}function Vb(t=!0){const e=j.useContext(ou);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=j.useId();j.useEffect(()=>{t&&i(s)},[t]);const o=j.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const ll=t=>t.key||"";function Av(t){const e=[];return j.Children.forEach(t,n=>{j.isValidElement(n)&&e.push(n)}),e}const Gp=typeof window<"u",Nb=Gp?j.useLayoutEffect:j.useEffect,jl=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,c]=Vb(o),u=j.useMemo(()=>Av(t),[t]),h=o&&!a?[]:u.map(ll),f=j.useRef(!0),m=j.useRef(u),v=$p(()=>new Map),[E,k]=j.useState(u),[P,y]=j.useState(u);Nb(()=>{f.current=!1,m.current=u;for(let C=0;C<P.length;C++){const D=ll(P[C]);h.includes(D)?v.delete(D):v.get(D)!==!0&&v.set(D,!1)}},[P,h.length,h.join("-")]);const x=[];if(u!==E){let C=[...u];for(let D=0;D<P.length;D++){const M=P[D],T=ll(M);h.includes(T)||(C.splice(D,0,M),x.push(M))}s==="wait"&&x.length&&(C=x),y(Av(C)),k(u);return}const{forceRender:_}=j.useContext(Wp);return d.jsx(d.Fragment,{children:P.map(C=>{const D=ll(C),M=o&&!a?!1:u===P||h.includes(D),T=()=>{if(v.has(D))v.set(D,!0);else return;let w=!0;v.forEach(S=>{S||(w=!1)}),w&&(_==null||_(),y(m.current),o&&(c==null||c()),r&&r())};return d.jsx(AA,{isPresent:M,initial:!f.current||n?void 0:!1,custom:M?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:M?void 0:T,children:C},D)})})},Lt=t=>t;let Lb=Lt;function Kp(t){let e;return()=>(e===void 0&&(e=t()),e)}const hs=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},jn=t=>t*1e3,Dn=t=>t/1e3,PA={useManualTiming:!1};function RA(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(u){s.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,h=!1,f=!1)=>{const v=f&&r?e:n;return h&&s.add(u),v.has(u)||v.add(u),u},cancel:u=>{n.delete(u),s.delete(u)},process:u=>{if(o=u,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,c.process(u))}};return c}const cl=["read","resolveKeyframes","update","preRender","render","postRender"],jA=40;function Mb(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=cl.reduce((y,x)=>(y[x]=RA(s),y),{}),{read:a,resolveKeyframes:c,update:u,preRender:h,render:f,postRender:m}=o,v=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,jA),1),i.timestamp=y,i.isProcessing=!0,a.process(i),c.process(i),u.process(i),h.process(i),f.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(v))},E=()=>{n=!0,r=!0,i.isProcessing||t(v)};return{schedule:cl.reduce((y,x)=>{const _=o[x];return y[x]=(C,D=!1,M=!1)=>(n||E(),_.schedule(C,D,M)),y},{}),cancel:y=>{for(let x=0;x<cl.length;x++)o[cl[x]].cancel(y)},state:i,steps:o}}const{schedule:we,cancel:_r,state:et,steps:Md}=Mb(typeof requestAnimationFrame<"u"?requestAnimationFrame:Lt,!0),Fb=j.createContext({strict:!1}),Cv={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},fs={};for(const t in Cv)fs[t]={isEnabled:e=>Cv[t].some(n=>!!e[n])};function DA(t){for(const e in t)fs[e]={...fs[e],...t[e]}}const VA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gc(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||VA.has(t)}let Ob=t=>!gc(t);function NA(t){t&&(Ob=e=>e.startsWith("on")?!gc(e):t(e))}try{NA(require("@emotion/is-prop-valid").default)}catch{}function LA(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(Ob(i)||n===!0&&gc(i)||!e&&!gc(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function MA(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const au=j.createContext({});function na(t){return typeof t=="string"||Array.isArray(t)}function lu(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Qp=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yp=["initial",...Qp];function cu(t){return lu(t.animate)||Yp.some(e=>na(t[e]))}function Bb(t){return!!(cu(t)||t.variants)}function FA(t,e){if(cu(t)){const{initial:n,animate:r}=t;return{initial:n===!1||na(n)?n:void 0,animate:na(r)?r:void 0}}return t.inherit!==!1?e:{}}function OA(t){const{initial:e,animate:n}=FA(t,j.useContext(au));return j.useMemo(()=>({initial:e,animate:n}),[Pv(e),Pv(n)])}function Pv(t){return Array.isArray(t)?t.join(" "):t}const BA=Symbol.for("motionComponentSymbol");function Ui(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function zA(t,e,n){return j.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ui(n)&&(n.current=r))},[e])}const Xp=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),UA="framerAppearId",zb="data-"+Xp(UA),{schedule:Jp}=Mb(queueMicrotask,!1),Ub=j.createContext({});function qA(t,e,n,r,i){var s,o;const{visualElement:a}=j.useContext(au),c=j.useContext(Fb),u=j.useContext(ou),h=j.useContext(Hp).reducedMotion,f=j.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(t,{visualState:e,parent:a,props:n,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:h}));const m=f.current,v=j.useContext(Ub);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&WA(f.current,n,i,v);const E=j.useRef(!1);j.useInsertionEffect(()=>{m&&E.current&&m.update(n,u)});const k=n[zb],P=j.useRef(!!k&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,k))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,k)));return Nb(()=>{m&&(E.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),Jp.render(m.render),P.current&&m.animationState&&m.animationState.animateChanges())}),j.useEffect(()=>{m&&(!P.current&&m.animationState&&m.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,k)}),P.current=!1))}),m}function WA(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:qb(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Ui(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:u})}function qb(t){if(t)return t.options.allowProjection!==!1?t.projection:qb(t.parent)}function $A({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&DA(t);function a(u,h){let f;const m={...j.useContext(Hp),...u,layoutId:HA(u)},{isStatic:v}=m,E=OA(u),k=r(u,v);if(!v&&Gp){GA();const P=KA(m);f=P.MeasureLayout,E.visualElement=qA(i,k,m,e,P.ProjectionNode)}return d.jsxs(au.Provider,{value:E,children:[f&&E.visualElement?d.jsx(f,{visualElement:E.visualElement,...m}):null,n(i,u,zA(k,E.visualElement,h),k,v,E.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=j.forwardRef(a);return c[BA]=i,c}function HA({layoutId:t}){const e=j.useContext(Wp).id;return e&&t!==void 0?e+"-"+t:t}function GA(t,e){j.useContext(Fb).strict}function KA(t){const{drag:e,layout:n}=fs;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const QA=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Zp(t){return typeof t!="string"||t.includes("-")?!1:!!(QA.indexOf(t)>-1||/[A-Z]/u.test(t))}function Rv(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function em(t,e,n,r){if(typeof e=="function"){const[i,s]=Rv(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Rv(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const rf=t=>Array.isArray(t),YA=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),XA=t=>rf(t)?t[t.length-1]||0:t,pt=t=>!!(t&&t.getVelocity);function Dl(t){const e=pt(t)?t.get():t;return YA(e)?e.toValue():e}function JA({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:ZA(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const Wb=t=>(e,n)=>{const r=j.useContext(au),i=j.useContext(ou),s=()=>JA(t,e,r,i);return n?s():$p(s)};function ZA(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=Dl(s[m]);let{initial:o,animate:a}=t;const c=cu(t),u=Bb(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const f=h?a:o;if(f&&typeof f!="boolean"&&!lu(f)){const m=Array.isArray(f)?f:[f];for(let v=0;v<m.length;v++){const E=em(t,m[v]);if(E){const{transitionEnd:k,transition:P,...y}=E;for(const x in y){let _=y[x];if(Array.isArray(_)){const C=h?_.length-1:0;_=_[C]}_!==null&&(i[x]=_)}for(const x in k)i[x]=k[x]}}}return i}const Ss=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],vi=new Set(Ss),$b=t=>e=>typeof e=="string"&&e.startsWith(t),Hb=$b("--"),eC=$b("var(--"),tm=t=>eC(t)?tC.test(t.split("/*")[0].trim()):!1,tC=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Gb=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Fn=(t,e,n)=>n>e?e:n<t?t:n,ks={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},ra={...ks,transform:t=>Fn(0,1,t)},ul={...ks,default:1},_a=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Jn=_a("deg"),xn=_a("%"),Q=_a("px"),nC=_a("vh"),rC=_a("vw"),jv={...xn,parse:t=>xn.parse(t)/100,transform:t=>xn.transform(t*100)},iC={borderWidth:Q,borderTopWidth:Q,borderRightWidth:Q,borderBottomWidth:Q,borderLeftWidth:Q,borderRadius:Q,radius:Q,borderTopLeftRadius:Q,borderTopRightRadius:Q,borderBottomRightRadius:Q,borderBottomLeftRadius:Q,width:Q,maxWidth:Q,height:Q,maxHeight:Q,top:Q,right:Q,bottom:Q,left:Q,padding:Q,paddingTop:Q,paddingRight:Q,paddingBottom:Q,paddingLeft:Q,margin:Q,marginTop:Q,marginRight:Q,marginBottom:Q,marginLeft:Q,backgroundPositionX:Q,backgroundPositionY:Q},sC={rotate:Jn,rotateX:Jn,rotateY:Jn,rotateZ:Jn,scale:ul,scaleX:ul,scaleY:ul,scaleZ:ul,skew:Jn,skewX:Jn,skewY:Jn,distance:Q,translateX:Q,translateY:Q,translateZ:Q,x:Q,y:Q,z:Q,perspective:Q,transformPerspective:Q,opacity:ra,originX:jv,originY:jv,originZ:Q},Dv={...ks,transform:Math.round},nm={...iC,...sC,zIndex:Dv,size:Q,fillOpacity:ra,strokeOpacity:ra,numOctaves:Dv},oC={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aC=Ss.length;function lC(t,e,n){let r="",i=!0;for(let s=0;s<aC;s++){const o=Ss[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=Gb(a,nm[o]);if(!c){i=!1;const h=oC[o]||o;r+=`${h}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function rm(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(vi.has(c)){o=!0;continue}else if(Hb(c)){i[c]=u;continue}else{const h=Gb(u,nm[c]);c.startsWith("origin")?(a=!0,s[c]=h):r[c]=h}}if(e.transform||(o||n?r.transform=lC(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:h=0}=s;r.transformOrigin=`${c} ${u} ${h}`}}const cC={offset:"stroke-dashoffset",array:"stroke-dasharray"},uC={offset:"strokeDashoffset",array:"strokeDasharray"};function dC(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?cC:uC;t[s.offset]=Q.transform(-r);const o=Q.transform(e),a=Q.transform(n);t[s.array]=`${o} ${a}`}function Vv(t,e,n){return typeof t=="string"?t:Q.transform(e+n*t)}function hC(t,e,n){const r=Vv(e,t.x,t.width),i=Vv(n,t.y,t.height);return`${r} ${i}`}function im(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...u},h,f){if(rm(t,u,f),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:v,dimensions:E}=t;m.transform&&(E&&(v.transform=m.transform),delete m.transform),E&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=hC(E,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&dC(m,o,a,c,!1)}const sm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Kb=()=>({...sm(),attrs:{}}),om=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Qb(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const Yb=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Xb(t,e,n,r){Qb(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(Yb.has(i)?i:Xp(i),e.attrs[i])}const yc={};function fC(t){Object.assign(yc,t)}function Jb(t,{layout:e,layoutId:n}){return vi.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!yc[t]||t==="opacity")}function am(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(pt(i[o])||e.style&&pt(e.style[o])||Jb(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function Zb(t,e,n){const r=am(t,e,n);for(const i in t)if(pt(t[i])||pt(e[i])){const s=Ss.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function pC(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const Nv=["x","y","width","height","cx","cy","r"],mC={useVisualState:Wb({scrapeMotionValuesFromProps:Zb,createRenderState:Kb,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(vi.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<Nv.length;a++){const c=Nv[a];t[c]!==e[c]&&(o=!0)}o&&we.read(()=>{pC(n,r),we.render(()=>{im(r,i,om(n.tagName),t.transformTemplate),Xb(n,r)})})}})},gC={useVisualState:Wb({scrapeMotionValuesFromProps:am,createRenderState:sm})};function eT(t,e,n){for(const r in e)!pt(e[r])&&!Jb(r,n)&&(t[r]=e[r])}function yC({transformTemplate:t},e){return j.useMemo(()=>{const n=sm();return rm(n,e,t),Object.assign({},n.vars,n.style)},[e])}function vC(t,e){const n=t.style||{},r={};return eT(r,n,t),Object.assign(r,yC(t,e)),r}function wC(t,e){const n={},r=vC(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function xC(t,e,n,r){const i=j.useMemo(()=>{const s=Kb();return im(s,e,om(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};eT(s,t.style,t),i.style={...s,...i.style}}return i}function bC(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(Zp(n)?xC:wC)(r,s,o,n),u=LA(r,typeof n=="string",t),h=n!==j.Fragment?{...u,...c,ref:i}:{},{children:f}=r,m=j.useMemo(()=>pt(f)?f.get():f,[f]);return j.createElement(n,{...h,children:m})}}function TC(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...Zp(r)?mC:gC,preloadedFeatures:t,useRender:bC(i),createVisualElement:e,Component:r};return $A(o)}}function tT(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function uu(t,e,n){const r=t.getProps();return em(r,e,n!==void 0?n:r.custom,t)}const _C=Kp(()=>window.ScrollTimeline!==void 0);class EC{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(_C()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class SC extends EC{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function lm(t,e){return t?t[e]||t.default||t:void 0}const sf=2e4;function nT(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sf;)e+=n,r=t.next(e);return e>=sf?1/0:e}function cm(t){return typeof t=="function"}function Lv(t,e){t.timeline=e,t.onfinish=null}const um=t=>Array.isArray(t)&&typeof t[0]=="number",kC={linearEasing:void 0};function IC(t,e){const n=Kp(t);return()=>{var r;return(r=kC[e])!==null&&r!==void 0?r:n()}}const vc=IC(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),rT=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(hs(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function iT(t){return!!(typeof t=="function"&&vc()||!t||typeof t=="string"&&(t in of||vc())||um(t)||Array.isArray(t)&&t.every(iT))}const ho=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,of={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ho([0,.65,.55,1]),circOut:ho([.55,0,1,.45]),backIn:ho([.31,.01,.66,-.59]),backOut:ho([.33,1.53,.69,.99])};function sT(t,e){if(t)return typeof t=="function"&&vc()?rT(t,e):um(t)?ho(t):Array.isArray(t)?t.map(n=>sT(n,e)||of.easeOut):of[t]}const tn={x:!1,y:!1};function oT(){return tn.x||tn.y}function aT(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function lT(t,e){const n=aT(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function Mv(t){return e=>{e.pointerType==="touch"||oT()||t(e)}}function AC(t,e,n={}){const[r,i,s]=lT(t,n),o=Mv(a=>{const{target:c}=a,u=e(a);if(typeof u!="function"||!c)return;const h=Mv(f=>{u(f),c.removeEventListener("pointerleave",h)});c.addEventListener("pointerleave",h,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const cT=(t,e)=>e?t===e?!0:cT(t,e.parentElement):!1,dm=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,CC=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function PC(t){return CC.has(t.tagName)||t.tabIndex!==-1}const fo=new WeakSet;function Fv(t){return e=>{e.key==="Enter"&&t(e)}}function Fd(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const RC=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Fv(()=>{if(fo.has(n))return;Fd(n,"down");const i=Fv(()=>{Fd(n,"up")}),s=()=>Fd(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Ov(t){return dm(t)&&!oT()}function jC(t,e,n={}){const[r,i,s]=lT(t,n),o=a=>{const c=a.currentTarget;if(!Ov(a)||fo.has(c))return;fo.add(c);const u=e(a),h=(v,E)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",m),!(!Ov(v)||!fo.has(c))&&(fo.delete(c),typeof u=="function"&&u(v,{success:E}))},f=v=>{h(v,n.useGlobalTarget||cT(c,v.target))},m=v=>{h(v,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{!PC(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",u=>RC(u,i),i)}),s}function DC(t){return t==="x"||t==="y"?tn[t]?null:(tn[t]=!0,()=>{tn[t]=!1}):tn.x||tn.y?null:(tn.x=tn.y=!0,()=>{tn.x=tn.y=!1})}const uT=new Set(["width","height","top","left","right","bottom",...Ss]);let Vl;function VC(){Vl=void 0}const bn={now:()=>(Vl===void 0&&bn.set(et.isProcessing||PA.useManualTiming?et.timestamp:performance.now()),Vl),set:t=>{Vl=t,queueMicrotask(VC)}};function hm(t,e){t.indexOf(e)===-1&&t.push(e)}function fm(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class pm{constructor(){this.subscriptions=[]}add(e){return hm(this.subscriptions,e),()=>fm(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function dT(t,e){return e?t*(1e3/e):0}const Bv=30,NC=t=>!isNaN(parseFloat(t));class LC{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=bn.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=bn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=NC(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new pm);const r=this.events[e].add(n);return e==="change"?()=>{r(),we.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Bv)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,Bv);return dT(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ia(t,e){return new LC(t,e)}function MC(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,ia(n))}function FC(t,e){const n=uu(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=XA(s[o]);MC(t,o,a)}}function OC(t){return!!(pt(t)&&t.add)}function af(t,e){const n=t.getValue("willChange");if(OC(n))return n.add(e)}function hT(t){return t.props[zb]}const fT=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,BC=1e-7,zC=12;function UC(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=fT(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>BC&&++a<zC);return o}function Ea(t,e,n,r){if(t===e&&n===r)return Lt;const i=s=>UC(s,0,1,t,n);return s=>s===0||s===1?s:fT(i(s),e,r)}const pT=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mT=t=>e=>1-t(1-e),gT=Ea(.33,1.53,.69,.99),mm=mT(gT),yT=pT(mm),vT=t=>(t*=2)<1?.5*mm(t):.5*(2-Math.pow(2,-10*(t-1))),gm=t=>1-Math.sin(Math.acos(t)),wT=mT(gm),xT=pT(gm),bT=t=>/^0[^.\s]+$/u.test(t);function qC(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||bT(t):!0}const Ao=t=>Math.round(t*1e5)/1e5,ym=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function WC(t){return t==null}const $C=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,vm=(t,e)=>n=>!!(typeof n=="string"&&$C.test(n)&&n.startsWith(t)||e&&!WC(n)&&Object.prototype.hasOwnProperty.call(n,e)),TT=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(ym);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},HC=t=>Fn(0,255,t),Od={...ks,transform:t=>Math.round(HC(t))},ni={test:vm("rgb","red"),parse:TT("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Od.transform(t)+", "+Od.transform(e)+", "+Od.transform(n)+", "+Ao(ra.transform(r))+")"};function GC(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const lf={test:vm("#"),parse:GC,transform:ni.transform},qi={test:vm("hsl","hue"),parse:TT("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+xn.transform(Ao(e))+", "+xn.transform(Ao(n))+", "+Ao(ra.transform(r))+")"},ut={test:t=>ni.test(t)||lf.test(t)||qi.test(t),parse:t=>ni.test(t)?ni.parse(t):qi.test(t)?qi.parse(t):lf.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ni.transform(t):qi.transform(t)},KC=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function QC(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ym))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(KC))===null||n===void 0?void 0:n.length)||0)>0}const _T="number",ET="color",YC="var",XC="var(",zv="${}",JC=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sa(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(JC,c=>(ut.test(c)?(r.color.push(s),i.push(ET),n.push(ut.parse(c))):c.startsWith(XC)?(r.var.push(s),i.push(YC),n.push(c)):(r.number.push(s),i.push(_T),n.push(parseFloat(c))),++s,zv)).split(zv);return{values:n,split:a,indexes:r,types:i}}function ST(t){return sa(t).values}function kT(t){const{split:e,types:n}=sa(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===_T?s+=Ao(i[o]):a===ET?s+=ut.transform(i[o]):s+=i[o]}return s}}const ZC=t=>typeof t=="number"?0:t;function eP(t){const e=ST(t);return kT(t)(e.map(ZC))}const Er={test:QC,parse:ST,createTransformer:kT,getAnimatableNone:eP},tP=new Set(["brightness","contrast","saturate","opacity"]);function nP(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ym)||[];if(!r)return t;const i=n.replace(r,"");let s=tP.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const rP=/\b([a-z-]*)\(.*?\)/gu,cf={...Er,getAnimatableNone:t=>{const e=t.match(rP);return e?e.map(nP).join(" "):t}},iP={...nm,color:ut,backgroundColor:ut,outlineColor:ut,fill:ut,stroke:ut,borderColor:ut,borderTopColor:ut,borderRightColor:ut,borderBottomColor:ut,borderLeftColor:ut,filter:cf,WebkitFilter:cf},wm=t=>iP[t];function IT(t,e){let n=wm(t);return n!==cf&&(n=Er),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const sP=new Set(["auto","none","0"]);function oP(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!sP.has(s)&&sa(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=IT(n,i)}const Uv=t=>t===ks||t===Q,qv=(t,e)=>parseFloat(t.split(", ")[e]),Wv=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return qv(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?qv(s[1],t):0}},aP=new Set(["x","y","z"]),lP=Ss.filter(t=>!aP.has(t));function cP(t){const e=[];return lP.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const ps={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Wv(4,13),y:Wv(5,14)};ps.translateX=ps.x;ps.translateY=ps.y;const oi=new Set;let uf=!1,df=!1;function AT(){if(df){const t=Array.from(oi).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=cP(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}df=!1,uf=!1,oi.forEach(t=>t.complete()),oi.clear()}function CT(){oi.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(df=!0)})}function uP(){CT(),AT()}class xm{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(oi.add(this),uf||(uf=!0,we.read(CT),we.resolveKeyframes(AT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),oi.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,oi.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const PT=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),dP=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function hP(t){const e=dP.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function RT(t,e,n=1){const[r,i]=hP(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return PT(o)?parseFloat(o):o}return tm(i)?RT(i,e,n+1):i}const jT=t=>e=>e.test(t),fP={test:t=>t==="auto",parse:t=>t},DT=[ks,Q,xn,Jn,rC,nC,fP],$v=t=>DT.find(jT(t));class VT extends xm{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),tm(u))){const h=RT(u,n.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!uT.has(r)||e.length!==2)return;const[i,s]=e,o=$v(i),a=$v(s);if(o!==a)if(Uv(o)&&Uv(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)qC(e[i])&&r.push(i);r.length&&oP(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ps[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=ps[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{n.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const Hv=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Er.test(t)||t==="0")&&!t.startsWith("url("));function pP(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function mP(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=Hv(i,e),a=Hv(s,e);return!o||!a?!1:pP(t)||(n==="spring"||cm(n))&&r}const gP=t=>t!==null;function du(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(gP),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const yP=40;class NT{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=bn.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>yP?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&uP(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=bn.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:c,isGenerator:u}=this.options;if(!u&&!mP(e,r,i,s))if(o)this.options.duration=0;else{c&&c(du(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const _e=(t,e,n)=>t+(e-t)*n;function Bd(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function vP({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=Bd(c,a,t+1/3),s=Bd(c,a,t),o=Bd(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function wc(t,e){return n=>n>0?e:t}const zd=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},wP=[lf,ni,qi],xP=t=>wP.find(e=>e.test(t));function Gv(t){const e=xP(t);if(!e)return!1;let n=e.parse(t);return e===qi&&(n=vP(n)),n}const Kv=(t,e)=>{const n=Gv(t),r=Gv(e);if(!n||!r)return wc(t,e);const i={...n};return s=>(i.red=zd(n.red,r.red,s),i.green=zd(n.green,r.green,s),i.blue=zd(n.blue,r.blue,s),i.alpha=_e(n.alpha,r.alpha,s),ni.transform(i))},bP=(t,e)=>n=>e(t(n)),Sa=(...t)=>t.reduce(bP),hf=new Set(["none","hidden"]);function TP(t,e){return hf.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function _P(t,e){return n=>_e(t,e,n)}function bm(t){return typeof t=="number"?_P:typeof t=="string"?tm(t)?wc:ut.test(t)?Kv:kP:Array.isArray(t)?LT:typeof t=="object"?ut.test(t)?Kv:EP:wc}function LT(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>bm(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function EP(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=bm(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function SP(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],c=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=c,i[o]++}return r}const kP=(t,e)=>{const n=Er.createTransformer(e),r=sa(t),i=sa(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?hf.has(t)&&!i.values.length||hf.has(e)&&!r.values.length?TP(t,e):Sa(LT(SP(r,i),i.values),n):wc(t,e)};function MT(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?_e(t,e,n):bm(t)(t,e)}const IP=5;function FT(t,e,n){const r=Math.max(e-IP,0);return dT(n-t(r),e-r)}const Ae={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Ud=.001;function AP({duration:t=Ae.duration,bounce:e=Ae.bounce,velocity:n=Ae.velocity,mass:r=Ae.mass}){let i,s,o=1-e;o=Fn(Ae.minDamping,Ae.maxDamping,o),t=Fn(Ae.minDuration,Ae.maxDuration,Dn(t)),o<1?(i=u=>{const h=u*o,f=h*t,m=h-n,v=ff(u,o),E=Math.exp(-f);return Ud-m/v*E},s=u=>{const f=u*o*t,m=f*n+n,v=Math.pow(o,2)*Math.pow(u,2)*t,E=Math.exp(-f),k=ff(Math.pow(u,2),o);return(-i(u)+Ud>0?-1:1)*((m-v)*E)/k}):(i=u=>{const h=Math.exp(-u*t),f=(u-n)*t+1;return-Ud+h*f},s=u=>{const h=Math.exp(-u*t),f=(n-u)*(t*t);return h*f});const a=5/t,c=PP(i,s,a);if(t=jn(t),isNaN(c))return{stiffness:Ae.stiffness,damping:Ae.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const CP=12;function PP(t,e,n){let r=n;for(let i=1;i<CP;i++)r=r-t(r)/e(r);return r}function ff(t,e){return t*Math.sqrt(1-e*e)}const RP=["duration","bounce"],jP=["stiffness","damping","mass"];function Qv(t,e){return e.some(n=>t[n]!==void 0)}function DP(t){let e={velocity:Ae.velocity,stiffness:Ae.stiffness,damping:Ae.damping,mass:Ae.mass,isResolvedFromDuration:!1,...t};if(!Qv(t,jP)&&Qv(t,RP))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Fn(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ae.mass,stiffness:i,damping:s}}else{const n=AP(t);e={...e,...n,mass:Ae.mass},e.isResolvedFromDuration=!0}return e}function OT(t=Ae.visualDuration,e=Ae.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:u,mass:h,duration:f,velocity:m,isResolvedFromDuration:v}=DP({...n,velocity:-Dn(n.velocity||0)}),E=m||0,k=u/(2*Math.sqrt(c*h)),P=o-s,y=Dn(Math.sqrt(c/h)),x=Math.abs(P)<5;r||(r=x?Ae.restSpeed.granular:Ae.restSpeed.default),i||(i=x?Ae.restDelta.granular:Ae.restDelta.default);let _;if(k<1){const D=ff(y,k);_=M=>{const T=Math.exp(-k*y*M);return o-T*((E+k*y*P)/D*Math.sin(D*M)+P*Math.cos(D*M))}}else if(k===1)_=D=>o-Math.exp(-y*D)*(P+(E+y*P)*D);else{const D=y*Math.sqrt(k*k-1);_=M=>{const T=Math.exp(-k*y*M),w=Math.min(D*M,300);return o-T*((E+k*y*P)*Math.sinh(w)+D*P*Math.cosh(w))/D}}const C={calculatedDuration:v&&f||null,next:D=>{const M=_(D);if(v)a.done=D>=f;else{let T=0;k<1&&(T=D===0?jn(E):FT(_,D,M));const w=Math.abs(T)<=r,S=Math.abs(o-M)<=i;a.done=w&&S}return a.value=a.done?o:M,a},toString:()=>{const D=Math.min(nT(C),sf),M=rT(T=>C.next(D*T).value,D,30);return D+"ms "+M}};return C}function Yv({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:h}){const f=t[0],m={done:!1,value:f},v=w=>a!==void 0&&w<a||c!==void 0&&w>c,E=w=>a===void 0?c:c===void 0||Math.abs(a-w)<Math.abs(c-w)?a:c;let k=n*e;const P=f+k,y=o===void 0?P:o(P);y!==P&&(k=y-f);const x=w=>-k*Math.exp(-w/r),_=w=>y+x(w),C=w=>{const S=x(w),I=_(w);m.done=Math.abs(S)<=u,m.value=m.done?y:I};let D,M;const T=w=>{v(m.value)&&(D=w,M=OT({keyframes:[m.value,E(m.value)],velocity:FT(_,w,m.value),damping:i,stiffness:s,restDelta:u,restSpeed:h}))};return T(0),{calculatedDuration:null,next:w=>{let S=!1;return!M&&D===void 0&&(S=!0,C(w),T(w)),D!==void 0&&w>=D?M.next(w-D):(!S&&C(w),m)}}}const VP=Ea(.42,0,1,1),NP=Ea(0,0,.58,1),BT=Ea(.42,0,.58,1),LP=t=>Array.isArray(t)&&typeof t[0]!="number",MP={linear:Lt,easeIn:VP,easeInOut:BT,easeOut:NP,circIn:gm,circInOut:xT,circOut:wT,backIn:mm,backInOut:yT,backOut:gT,anticipate:vT},Xv=t=>{if(um(t)){Lb(t.length===4);const[e,n,r,i]=t;return Ea(e,n,r,i)}else if(typeof t=="string")return MP[t];return t};function FP(t,e,n){const r=[],i=n||MT,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Lt:e;a=Sa(c,a)}r.push(a)}return r}function OP(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Lb(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=FP(e,r,i),c=a.length,u=h=>{if(o&&h<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(h<t[f+1]);f++);const m=hs(t[f],t[f+1],h);return a[f](m)};return n?h=>u(Fn(t[0],t[s-1],h)):u}function BP(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=hs(0,e,r);t.push(_e(n,1,i))}}function zP(t){const e=[0];return BP(e,t.length-1),e}function UP(t,e){return t.map(n=>n*e)}function qP(t,e){return t.map(()=>e||BT).splice(0,t.length-1)}function xc({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=LP(r)?r.map(Xv):Xv(r),s={done:!1,value:e[0]},o=UP(n&&n.length===e.length?n:zP(e),t),a=OP(o,e,{ease:Array.isArray(i)?i:qP(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const WP=t=>{const e=({timestamp:n})=>t(n);return{start:()=>we.update(e,!0),stop:()=>_r(e),now:()=>et.isProcessing?et.timestamp:bn.now()}},$P={decay:Yv,inertia:Yv,tween:xc,keyframes:xc,spring:OT},HP=t=>t/100;class Tm extends NT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||xm,a=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=cm(n)?n:$P[n]||xc;let c,u;a!==xc&&typeof e[0]!="number"&&(c=Sa(HP,MT(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(u=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=nT(h));const{calculatedDuration:f}=h,m=f+i,v=m*(r+1)-i;return{generator:h,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:m,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:w}=this.options;return{done:!0,value:w[w.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:u,totalDuration:h,resolvedDuration:f}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:v,repeatType:E,repeatDelay:k,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-m*(this.speed>=0?1:-1),x=this.speed>=0?y<0:y>h;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let _=this.currentTime,C=s;if(v){const w=Math.min(this.currentTime,h)/f;let S=Math.floor(w),I=w%1;!I&&w>=1&&(I=1),I===1&&S--,S=Math.min(S,v+1),!!(S%2)&&(E==="reverse"?(I=1-I,k&&(I-=k/f)):E==="mirror"&&(C=o)),_=Fn(0,1,I)*f}const D=x?{done:!1,value:c[0]}:C.next(_);a&&(D.value=a(D.value));let{done:M}=D;!x&&u!==null&&(M=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const T=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return T&&i!==void 0&&(D.value=du(c,this.options,i)),P&&P(D.value),T&&this.finish(),D}get duration(){const{resolved:e}=this;return e?Dn(e.calculatedDuration):0}get time(){return Dn(this.currentTime)}set time(e){e=jn(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Dn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=WP,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const GP=new Set(["opacity","clipPath","filter","transform"]);function KP(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const u={[e]:n};c&&(u.offset=c);const h=sT(a,i);return Array.isArray(h)&&(u.easing=h),t.animate(u,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const QP=Kp(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bc=10,YP=2e4;function XP(t){return cm(t.type)||t.type==="spring"||!iT(t.ease)}function JP(t,e){const n=new Tm({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<YP;)r=n.sample(s),i.push(r.value),s+=bc;return{times:void 0,keyframes:i,duration:s-bc,ease:"linear"}}const zT={anticipate:vT,backInOut:yT,circInOut:xT};function ZP(t){return t in zT}class Jv extends NT{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new VT(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:c,startTime:u}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&vc()&&ZP(s)&&(s=zT[s]),XP(this.options)){const{onComplete:f,onUpdate:m,motionValue:v,element:E,...k}=this.options,P=JP(e,k);e=P.keyframes,e.length===1&&(e[1]=e[0]),r=P.duration,i=P.times,s=P.ease,o="keyframes"}const h=KP(a.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=u??this.calcStartTime(),this.pendingTimeline?(Lv(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:f}=this.options;a.set(du(e,this.options,n)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Dn(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Dn(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=jn(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Lt;const{animation:r}=n;Lv(r,e)}return Lt}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:h,onComplete:f,element:m,...v}=this.options,E=new Tm({...v,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),k=jn(this.time);u.setWithVelocity(E.sample(k-bc).value,E.sample(k).value,bc)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=n.owner.getProps();return QP()&&r&&GP.has(r)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const eR={type:"spring",stiffness:500,damping:25,restSpeed:10},tR=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),nR={type:"keyframes",duration:.8},rR={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},iR=(t,{keyframes:e})=>e.length>2?nR:vi.has(t)?t.startsWith("scale")?tR(e[1]):eR:rR;function sR({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:u,...h}){return!!Object.keys(h).length}const _m=(t,e,n,r={},i,s)=>o=>{const a=lm(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-jn(c);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};sR(a)||(h={...h,...iR(t,h)}),h.duration&&(h.duration=jn(h.duration)),h.repeatDelay&&(h.repeatDelay=jn(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let f=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const m=du(h.keyframes,a);if(m!==void 0)return we.update(()=>{h.onUpdate(m),h.onComplete()}),new SC([])}return!s&&Jv.supports(h)?new Jv(h):new Tm(h)};function oR({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function UT(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const u=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const m=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),v=c[f];if(v===void 0||h&&oR(h,f))continue;const E={delay:n,...lm(o||{},f)};let k=!1;if(window.MotionHandoffAnimation){const y=hT(t);if(y){const x=window.MotionHandoffAnimation(y,f,we);x!==null&&(E.startTime=x,k=!0)}}af(t,f),m.start(_m(f,m,v,t.shouldReduceMotion&&uT.has(f)?{type:!1}:E,t,k));const P=m.animation;P&&u.push(P)}return a&&Promise.all(u).then(()=>{we.update(()=>{a&&FC(t,a)})}),u}function pf(t,e,n={}){var r;const i=uu(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(UT(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:f,staggerDirection:m}=s;return aR(t,e,h+u,f,m,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,h]=c==="beforeChildren"?[o,a]:[a,o];return u().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function aR(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(lR).forEach((u,h)=>{u.notify("AnimationStart",e),o.push(pf(u,e,{...s,delay:n+c(h)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function lR(t,e){return t.sortNodePosition(e)}function cR(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>pf(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=pf(t,e,n);else{const i=typeof e=="function"?uu(t,e,n.custom):e;r=Promise.all(UT(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const uR=Yp.length;function qT(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?qT(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<uR;n++){const r=Yp[n],i=t.props[r];(na(i)||i===!1)&&(e[r]=i)}return e}const dR=[...Qp].reverse(),hR=Qp.length;function fR(t){return e=>Promise.all(e.map(({animation:n,options:r})=>cR(t,n,r)))}function pR(t){let e=fR(t),n=Zv(),r=!0;const i=c=>(u,h)=>{var f;const m=uu(t,h,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(m){const{transition:v,transitionEnd:E,...k}=m;u={...u,...k,...E}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,h=qT(t.parent)||{},f=[],m=new Set;let v={},E=1/0;for(let P=0;P<hR;P++){const y=dR[P],x=n[y],_=u[y]!==void 0?u[y]:h[y],C=na(_),D=y===c?x.isActive:null;D===!1&&(E=P);let M=_===h[y]&&_!==u[y]&&C;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...v},!x.isActive&&D===null||!_&&!x.prevProp||lu(_)||typeof _=="boolean")continue;const T=mR(x.prevProp,_);let w=T||y===c&&x.isActive&&!M&&C||P>E&&C,S=!1;const I=Array.isArray(_)?_:[_];let R=I.reduce(i(y),{});D===!1&&(R={});const{prevResolvedValues:V={}}=x,A={...V,...R},Le=Re=>{w=!0,m.has(Re)&&(S=!0,m.delete(Re)),x.needsAnimating[Re]=!0;const U=t.getValue(Re);U&&(U.liveStyle=!1)};for(const Re in A){const U=R[Re],K=V[Re];if(v.hasOwnProperty(Re))continue;let Z=!1;rf(U)&&rf(K)?Z=!tT(U,K):Z=U!==K,Z?U!=null?Le(Re):m.add(Re):U!==void 0&&m.has(Re)?Le(Re):x.protectedKeys[Re]=!0}x.prevProp=_,x.prevResolvedValues=R,x.isActive&&(v={...v,...R}),r&&t.blockInitialAnimation&&(w=!1),w&&(!(M&&T)||S)&&f.push(...I.map(Re=>({animation:Re,options:{type:y}})))}if(m.size){const P={};m.forEach(y=>{const x=t.getBaseTarget(y),_=t.getValue(y);_&&(_.liveStyle=!0),P[y]=x??null}),f.push({animation:P})}let k=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(f):Promise.resolve()}function a(c,u){var h;if(n[c].isActive===u)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var v;return(v=m.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),n[c].isActive=u;const f=o(c);for(const m in n)n[m].protectedKeys={};return f}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=Zv(),r=!0}}}function mR(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!tT(e,t):!1}function Gr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Zv(){return{animate:Gr(!0),whileInView:Gr(),whileHover:Gr(),whileTap:Gr(),whileDrag:Gr(),whileFocus:Gr(),exit:Gr()}}class Mr{constructor(e){this.isMounted=!1,this.node=e}update(){}}class gR extends Mr{constructor(e){super(e),e.animationState||(e.animationState=pR(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();lu(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let yR=0;class vR extends Mr{constructor(){super(...arguments),this.id=yR++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const wR={animation:{Feature:gR},exit:{Feature:vR}};function oa(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function ka(t){return{point:{x:t.pageX,y:t.pageY}}}const xR=t=>e=>dm(e)&&t(e,ka(e));function Co(t,e,n,r){return oa(t,e,xR(n),r)}const e0=(t,e)=>Math.abs(t-e);function bR(t,e){const n=e0(t.x,e.x),r=e0(t.y,e.y);return Math.sqrt(n**2+r**2)}class WT{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Wd(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,v=bR(f.offset,{x:0,y:0})>=3;if(!m&&!v)return;const{point:E}=f,{timestamp:k}=et;this.history.push({...E,timestamp:k});const{onStart:P,onMove:y}=this.handlers;m||(P&&P(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=qd(m,this.transformPagePoint),we.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:v,onSessionEnd:E,resumeAnimation:k}=this.handlers;if(this.dragSnapToOrigin&&k&&k(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=Wd(f.type==="pointercancel"?this.lastMoveEventInfo:qd(m,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,P),E&&E(f,P)},!dm(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=ka(e),a=qd(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=et;this.history=[{...c,timestamp:u}];const{onSessionStart:h}=n;h&&h(e,Wd(a,this.history)),this.removeListeners=Sa(Co(this.contextWindow,"pointermove",this.handlePointerMove),Co(this.contextWindow,"pointerup",this.handlePointerUp),Co(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),_r(this.updatePoint)}}function qd(t,e){return e?{point:e(t.point)}:t}function t0(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wd({point:t},e){return{point:t,delta:t0(t,$T(e)),offset:t0(t,TR(e)),velocity:_R(e,.1)}}function TR(t){return t[0]}function $T(t){return t[t.length-1]}function _R(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=$T(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>jn(e)));)n--;if(!r)return{x:0,y:0};const s=Dn(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const HT=1e-4,ER=1-HT,SR=1+HT,GT=.01,kR=0-GT,IR=0+GT;function Ft(t){return t.max-t.min}function AR(t,e,n){return Math.abs(t-e)<=n}function n0(t,e,n,r=.5){t.origin=r,t.originPoint=_e(e.min,e.max,t.origin),t.scale=Ft(n)/Ft(e),t.translate=_e(n.min,n.max,t.origin)-t.originPoint,(t.scale>=ER&&t.scale<=SR||isNaN(t.scale))&&(t.scale=1),(t.translate>=kR&&t.translate<=IR||isNaN(t.translate))&&(t.translate=0)}function Po(t,e,n,r){n0(t.x,e.x,n.x,r?r.originX:void 0),n0(t.y,e.y,n.y,r?r.originY:void 0)}function r0(t,e,n){t.min=n.min+e.min,t.max=t.min+Ft(e)}function CR(t,e,n){r0(t.x,e.x,n.x),r0(t.y,e.y,n.y)}function i0(t,e,n){t.min=e.min-n.min,t.max=t.min+Ft(e)}function Ro(t,e,n){i0(t.x,e.x,n.x),i0(t.y,e.y,n.y)}function PR(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_e(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_e(n,t,r.max):Math.min(t,n)),t}function s0(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function RR(t,{top:e,left:n,bottom:r,right:i}){return{x:s0(t.x,n,i),y:s0(t.y,e,r)}}function o0(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function jR(t,e){return{x:o0(t.x,e.x),y:o0(t.y,e.y)}}function DR(t,e){let n=.5;const r=Ft(t),i=Ft(e);return i>r?n=hs(e.min,e.max-r,t.min):r>i&&(n=hs(t.min,t.max-i,e.min)),Fn(0,1,n)}function VR(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mf=.35;function NR(t=mf){return t===!1?t=0:t===!0&&(t=mf),{x:a0(t,"left","right"),y:a0(t,"top","bottom")}}function a0(t,e,n){return{min:l0(t,e),max:l0(t,n)}}function l0(t,e){return typeof t=="number"?t:t[e]||0}const c0=()=>({translate:0,scale:1,origin:0,originPoint:0}),Wi=()=>({x:c0(),y:c0()}),u0=()=>({min:0,max:0}),De=()=>({x:u0(),y:u0()});function Wt(t){return[t("x"),t("y")]}function KT({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function LR({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function MR(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function $d(t){return t===void 0||t===1}function gf({scale:t,scaleX:e,scaleY:n}){return!$d(t)||!$d(e)||!$d(n)}function Yr(t){return gf(t)||QT(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function QT(t){return d0(t.x)||d0(t.y)}function d0(t){return t&&t!=="0%"}function Tc(t,e,n){const r=t-n,i=e*r;return n+i}function h0(t,e,n,r,i){return i!==void 0&&(t=Tc(t,i,r)),Tc(t,n,r)+e}function yf(t,e=0,n=1,r,i){t.min=h0(t.min,e,n,r,i),t.max=h0(t.max,e,n,r,i)}function YT(t,{x:e,y:n}){yf(t.x,e.translate,e.scale,e.originPoint),yf(t.y,n.translate,n.scale,n.originPoint)}const f0=.999999999999,p0=1.0000000000001;function FR(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Hi(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,YT(t,o)),r&&Yr(s.latestValues)&&Hi(t,s.latestValues))}e.x<p0&&e.x>f0&&(e.x=1),e.y<p0&&e.y>f0&&(e.y=1)}function $i(t,e){t.min=t.min+e,t.max=t.max+e}function m0(t,e,n,r,i=.5){const s=_e(t.min,t.max,i);yf(t,e,n,s,r)}function Hi(t,e){m0(t.x,e.x,e.scaleX,e.scale,e.originX),m0(t.y,e.y,e.scaleY,e.scale,e.originY)}function XT(t,e){return KT(MR(t.getBoundingClientRect(),e))}function OR(t,e,n){const r=XT(t,n),{scroll:i}=e;return i&&($i(r.x,i.offset.x),$i(r.y,i.offset.y)),r}const JT=({current:t})=>t?t.ownerDocument.defaultView:null,BR=new WeakMap;class zR{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=De(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(ka(h).point)},s=(h,f)=>{const{drag:m,dragPropagation:v,onDragStart:E}=this.getProps();if(m&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=DC(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wt(P=>{let y=this.getAxisMotionValue(P).get()||0;if(xn.test(y)){const{projection:x}=this.visualElement;if(x&&x.layout){const _=x.layout.layoutBox[P];_&&(y=Ft(_)*(parseFloat(y)/100))}}this.originPoint[P]=y}),E&&we.postRender(()=>E(h,f)),af(this.visualElement,"transform");const{animationState:k}=this.visualElement;k&&k.setActive("whileDrag",!0)},o=(h,f)=>{const{dragPropagation:m,dragDirectionLock:v,onDirectionLock:E,onDrag:k}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:P}=f;if(v&&this.currentDirection===null){this.currentDirection=UR(P),this.currentDirection!==null&&E&&E(this.currentDirection);return}this.updateAxis("x",f.point,P),this.updateAxis("y",f.point,P),this.visualElement.render(),k&&k(h,f)},a=(h,f)=>this.stop(h,f),c=()=>Wt(h=>{var f;return this.getAnimationState(h)==="paused"&&((f=this.getAxisMotionValue(h).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new WT(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:JT(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&we.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!dl(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=PR(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ui(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=RR(i.layoutBox,n):this.constraints=!1,this.elastic=NR(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Wt(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=VR(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ui(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=OR(r,i.root,this.visualElement.getTransformPagePoint());let o=jR(i.layout.layoutBox,s);if(n){const a=n(LR(o));this.hasMutatedConstraints=!!a,a&&(o=KT(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Wt(h=>{if(!dl(h,n,this.currentDirection))return;let f=c&&c[h]||{};o&&(f={min:0,max:0});const m=i?200:1e6,v=i?40:1e7,E={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(h,E)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return af(this.visualElement,e),r.start(_m(e,r,0,n,this.visualElement,!1))}stopAnimation(){Wt(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Wt(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Wt(n=>{const{drag:r}=this.getProps();if(!dl(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-_e(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ui(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Wt(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=DR({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wt(o=>{if(!dl(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(_e(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;BR.set(this.visualElement,this);const e=this.visualElement.current,n=Co(e,"pointerdown",c=>{const{drag:u,dragListener:h=!0}=this.getProps();u&&h&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Ui(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),we.read(r);const o=oa(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Wt(h=>{const f=this.getAxisMotionValue(h);f&&(this.originPoint[h]+=c[h].translate,f.set(f.get()+c[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=mf,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function dl(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function UR(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qR extends Mr{constructor(e){super(e),this.removeGroupControls=Lt,this.removeListeners=Lt,this.controls=new zR(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Lt}unmount(){this.removeGroupControls(),this.removeListeners()}}const g0=t=>(e,n)=>{t&&we.postRender(()=>t(e,n))};class WR extends Mr{constructor(){super(...arguments),this.removePointerDownListener=Lt}onPointerDown(e){this.session=new WT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:g0(e),onStart:g0(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&we.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Co(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Nl={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function y0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ro={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Q.test(t))t=parseFloat(t);else return t;const n=y0(t,e.target.x),r=y0(t,e.target.y);return`${n}% ${r}%`}},$R={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=Er.parse(t);if(i.length>5)return r;const s=Er.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const u=_e(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class HR extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;fC(GR),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Nl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||we.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Jp.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZT(t){const[e,n]=Vb(),r=j.useContext(Wp);return d.jsx(HR,{...t,layoutGroup:r,switchLayoutGroup:j.useContext(Ub),isPresent:e,safeToRemove:n})}const GR={borderRadius:{...ro,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ro,borderTopRightRadius:ro,borderBottomLeftRadius:ro,borderBottomRightRadius:ro,boxShadow:$R};function KR(t,e,n){const r=pt(t)?t:ia(t);return r.start(_m("",r,e,n)),r.animation}function QR(t){return t instanceof SVGElement&&t.tagName!=="svg"}const YR=(t,e)=>t.depth-e.depth;class XR{constructor(){this.children=[],this.isDirty=!1}add(e){hm(this.children,e),this.isDirty=!0}remove(e){fm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(YR),this.isDirty=!1,this.children.forEach(e)}}function JR(t,e){const n=bn.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(_r(r),t(s-e))};return we.read(r,!0),()=>_r(r)}const e_=["TopLeft","TopRight","BottomLeft","BottomRight"],ZR=e_.length,v0=t=>typeof t=="string"?parseFloat(t):t,w0=t=>typeof t=="number"||Q.test(t);function e4(t,e,n,r,i,s){i?(t.opacity=_e(0,n.opacity!==void 0?n.opacity:1,t4(r)),t.opacityExit=_e(e.opacity!==void 0?e.opacity:1,0,n4(r))):s&&(t.opacity=_e(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<ZR;o++){const a=`border${e_[o]}Radius`;let c=x0(e,a),u=x0(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||w0(c)===w0(u)?(t[a]=Math.max(_e(v0(c),v0(u),r),0),(xn.test(u)||xn.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=_e(e.rotate||0,n.rotate||0,r))}function x0(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const t4=t_(0,.5,wT),n4=t_(.5,.95,Lt);function t_(t,e,n){return r=>r<t?0:r>e?1:n(hs(t,e,r))}function b0(t,e){t.min=e.min,t.max=e.max}function qt(t,e){b0(t.x,e.x),b0(t.y,e.y)}function T0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function _0(t,e,n,r,i){return t-=e,t=Tc(t,1/n,r),i!==void 0&&(t=Tc(t,1/i,r)),t}function r4(t,e=0,n=1,r=.5,i,s=t,o=t){if(xn.test(e)&&(e=parseFloat(e),e=_e(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=_e(s.min,s.max,r);t===s&&(a-=e),t.min=_0(t.min,e,n,a,i),t.max=_0(t.max,e,n,a,i)}function E0(t,e,[n,r,i],s,o){r4(t,e[n],e[r],e[i],e.scale,s,o)}const i4=["x","scaleX","originX"],s4=["y","scaleY","originY"];function S0(t,e,n,r){E0(t.x,e,i4,n?n.x:void 0,r?r.x:void 0),E0(t.y,e,s4,n?n.y:void 0,r?r.y:void 0)}function k0(t){return t.translate===0&&t.scale===1}function n_(t){return k0(t.x)&&k0(t.y)}function I0(t,e){return t.min===e.min&&t.max===e.max}function o4(t,e){return I0(t.x,e.x)&&I0(t.y,e.y)}function A0(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function r_(t,e){return A0(t.x,e.x)&&A0(t.y,e.y)}function C0(t){return Ft(t.x)/Ft(t.y)}function P0(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class a4{constructor(){this.members=[]}add(e){hm(this.members,e),e.scheduleRender()}remove(e){if(fm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function l4(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:h,rotateX:f,rotateY:m,skewX:v,skewY:E}=n;u&&(r=`perspective(${u}px) ${r}`),h&&(r+=`rotate(${h}deg) `),f&&(r+=`rotateX(${f}deg) `),m&&(r+=`rotateY(${m}deg) `),v&&(r+=`skewX(${v}deg) `),E&&(r+=`skewY(${E}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const Xr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},po=typeof window<"u"&&window.MotionDebug!==void 0,Hd=["","X","Y","Z"],c4={visibility:"hidden"},R0=1e3;let u4=0;function Gd(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function i_(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=hT(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",we,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&i_(r)}function s_({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=u4++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,po&&(Xr.totalNodes=Xr.resolvedTargetDeltas=Xr.recalculatedProjection=0),this.nodes.forEach(f4),this.nodes.forEach(v4),this.nodes.forEach(w4),this.nodes.forEach(p4),po&&window.MotionDebug.record(Xr)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new XR)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new pm),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=QR(o),this.instance=o;const{layoutId:c,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=JR(m,250),Nl.hasAnimatedSinceResize&&(Nl.hasAnimatedSinceResize=!1,this.nodes.forEach(D0))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:v,layout:E})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||h.getDefaultTransition()||E4,{onLayoutAnimationStart:P,onLayoutAnimationComplete:y}=h.getProps(),x=!this.targetLayout||!r_(this.targetLayout,E)||v,_=!m&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||m&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const C={...lm(k,"layout"),onPlay:P,onComplete:y};(h.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else m||D0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=E})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,_r(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(x4),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&i_(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const f=this.path[h];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(j0);return}this.isUpdating||this.nodes.forEach(g4),this.isUpdating=!1,this.nodes.forEach(y4),this.nodes.forEach(d4),this.nodes.forEach(h4),this.clearAllSnapshots();const a=bn.now();et.delta=Fn(0,1e3/60,a-et.timestamp),et.timestamp=a,et.isProcessing=!0,Md.update.process(et),Md.preRender.process(et),Md.render.process(et),et.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Jp.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(m4),this.sharedNodes.forEach(b4)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,we.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){we.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=De(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!n_(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,h=u!==this.prevTransformTemplateValue;o&&(a||Yr(this.latestValues)||h)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),S4(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return De();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(k4))){const{scroll:h}=this.root;h&&($i(c.x,h.offset.x),$i(c.y,h.offset.y))}return c}removeElementScroll(o){var a;const c=De();if(qt(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:f,options:m}=h;h!==this.root&&f&&m.layoutScroll&&(f.wasRoot&&qt(c,o),$i(c.x,f.offset.x),$i(c.y,f.offset.y))}return c}applyTransform(o,a=!1){const c=De();qt(c,o);for(let u=0;u<this.path.length;u++){const h=this.path[u];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Hi(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Yr(h.latestValues)&&Hi(c,h.latestValues)}return Yr(this.latestValues)&&Hi(c,this.latestValues),c}removeTransform(o){const a=De();qt(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Yr(u.latestValues))continue;gf(u.latestValues)&&u.updateSnapshot();const h=De(),f=u.measurePageBox();qt(h,f),S0(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,h)}return Yr(this.latestValues)&&S0(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==et.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=et.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Ro(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=De(),this.targetWithTransforms=De()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),CR(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):qt(this.target,this.layout.layoutBox),YT(this.target,this.targetDelta)):qt(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=De(),this.relativeTargetOrigin=De(),Ro(this.relativeTargetOrigin,this.target,v.target),qt(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}po&&Xr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gf(this.parent.latestValues)||QT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===et.timestamp&&(u=!1),u)return;const{layout:h,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||f))return;qt(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,v=this.treeScale.y;FR(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=De());const{target:E}=a;if(!E){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(T0(this.prevProjectionDelta.x,this.projectionDelta.x),T0(this.prevProjectionDelta.y,this.projectionDelta.y)),Po(this.projectionDelta,this.layoutCorrected,E,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==v||!P0(this.projectionDelta.x,this.prevProjectionDelta.x)||!P0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",E)),po&&Xr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Wi(),this.projectionDelta=Wi(),this.projectionDeltaWithTransform=Wi()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},h={...this.latestValues},f=Wi();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=De(),v=c?c.source:void 0,E=this.layout?this.layout.source:void 0,k=v!==E,P=this.getStack(),y=!P||P.members.length<=1,x=!!(k&&!y&&this.options.crossfade===!0&&!this.path.some(_4));this.animationProgress=0;let _;this.mixTargetDelta=C=>{const D=C/1e3;V0(f.x,o.x,D),V0(f.y,o.y,D),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ro(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),T4(this.relativeTarget,this.relativeTargetOrigin,m,D),_&&o4(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=De()),qt(_,this.relativeTarget)),k&&(this.animationValues=h,e4(h,u,this.latestValues,D,x,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=D},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(_r(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=we.update(()=>{Nl.hasAnimatedSinceResize=!0,this.currentAnimation=KR(0,R0,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(R0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:h}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&o_(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||De();const f=Ft(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const m=Ft(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+m}qt(a,c),Hi(a,h),Po(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new a4),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&Gd("z",o,u,this.animationValues);for(let h=0;h<Hd.length;h++)Gd(`rotate${Hd[h]}`,o,u,this.animationValues),Gd(`skew${Hd[h]}`,o,u,this.animationValues);o.render();for(const h in u)o.setStaticValue(h,u[h]),this.animationValues&&(this.animationValues[h]=u[h]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return c4;const u={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Dl(o==null?void 0:o.pointerEvents)||"",u.transform=h?h(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const k={};return this.options.layoutId&&(k.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,k.pointerEvents=Dl(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Yr(this.latestValues)&&(k.transform=h?h({},""):"none",this.hasProjected=!1),k}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=l4(this.projectionDeltaWithTransform,this.treeScale,m),h&&(u.transform=h(m,u.transform));const{x:v,y:E}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${E.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:u.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const k in yc){if(m[k]===void 0)continue;const{correct:P,applyTo:y}=yc[k],x=u.transform==="none"?m[k]:P(m[k],f);if(y){const _=y.length;for(let C=0;C<_;C++)u[y[C]]=x}else u[k]=x}return this.options.layoutId&&(u.pointerEvents=f===this?Dl(o==null?void 0:o.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(j0),this.root.sharedNodes.clear()}}}function d4(t){t.updateLayout()}function h4(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Wt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],v=Ft(m);m.min=r[f].min,m.max=m.min+v}):o_(s,n.layoutBox,r)&&Wt(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],v=Ft(r[f]);m.max=m.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const a=Wi();Po(a,r,n.layoutBox);const c=Wi();o?Po(c,t.applyTransform(i,!0),n.measuredBox):Po(c,r,n.layoutBox);const u=!n_(a);let h=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:v}=f;if(m&&v){const E=De();Ro(E,n.layoutBox,m.layoutBox);const k=De();Ro(k,r,v.layoutBox),r_(E,k)||(h=!0),f.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=E,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function f4(t){po&&Xr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function p4(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function m4(t){t.clearSnapshot()}function j0(t){t.clearMeasurements()}function g4(t){t.isLayoutDirty=!1}function y4(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function D0(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function v4(t){t.resolveTargetDelta()}function w4(t){t.calcProjection()}function x4(t){t.resetSkewAndRotation()}function b4(t){t.removeLeadSnapshot()}function V0(t,e,n){t.translate=_e(e.translate,0,n),t.scale=_e(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function N0(t,e,n,r){t.min=_e(e.min,n.min,r),t.max=_e(e.max,n.max,r)}function T4(t,e,n,r){N0(t.x,e.x,n.x,r),N0(t.y,e.y,n.y,r)}function _4(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const E4={duration:.45,ease:[.4,0,.1,1]},L0=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),M0=L0("applewebkit/")&&!L0("chrome/")?Math.round:Lt;function F0(t){t.min=M0(t.min),t.max=M0(t.max)}function S4(t){F0(t.x),F0(t.y)}function o_(t,e,n){return t==="position"||t==="preserve-aspect"&&!AR(C0(e),C0(n),.2)}function k4(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const I4=s_({attachResizeListener:(t,e)=>oa(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kd={current:void 0},a_=s_({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kd.current){const t=new I4({});t.mount(window),t.setOptions({layoutScroll:!0}),Kd.current=t}return Kd.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),A4={pan:{Feature:WR},drag:{Feature:qR,ProjectionNode:a_,MeasureLayout:ZT}};function O0(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&we.postRender(()=>s(e,ka(e)))}class C4 extends Mr{mount(){const{current:e}=this.node;e&&(this.unmount=AC(e,n=>(O0(this.node,n,"Start"),r=>O0(this.node,r,"End"))))}unmount(){}}class P4 extends Mr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Sa(oa(this.node.current,"focus",()=>this.onFocus()),oa(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function B0(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&we.postRender(()=>s(e,ka(e)))}class R4 extends Mr{mount(){const{current:e}=this.node;e&&(this.unmount=jC(e,n=>(B0(this.node,n,"Start"),(r,{success:i})=>B0(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vf=new WeakMap,Qd=new WeakMap,j4=t=>{const e=vf.get(t.target);e&&e(t)},D4=t=>{t.forEach(j4)};function V4({root:t,...e}){const n=t||document;Qd.has(n)||Qd.set(n,{});const r=Qd.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(D4,{root:t,...e})),r[i]}function N4(t,e,n){const r=V4(e);return vf.set(t,n),r.observe(t),()=>{vf.delete(t),r.unobserve(t)}}const L4={some:0,all:1};class M4 extends Mr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:L4[i]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:h,onViewportLeave:f}=this.node.getProps(),m=u?h:f;m&&m(c)};return N4(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(F4(e,n))&&this.startObserver()}unmount(){}}function F4({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const O4={inView:{Feature:M4},tap:{Feature:R4},focus:{Feature:P4},hover:{Feature:C4}},B4={layout:{ProjectionNode:a_,MeasureLayout:ZT}},wf={current:null},l_={current:!1};function z4(){if(l_.current=!0,!!Gp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wf.current=t.matches;t.addListener(e),e()}else wf.current=!1}const U4=[...DT,ut,Er],q4=t=>U4.find(jT(t)),z0=new WeakMap;function W4(t,e,n){for(const r in e){const i=e[r],s=n[r];if(pt(i))t.addValue(r,i);else if(pt(s))t.addValue(r,ia(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,ia(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const U0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class $4{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xm,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=bn.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,we.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:h}=o;this.onUpdate=h,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=cu(n),this.isVariantNode=Bb(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in m){const E=m[v];c[v]!==void 0&&pt(E)&&E.set(c[v],!1)}}mount(e){this.current=e,z0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),l_.current||z4(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:wf.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){z0.delete(this.current),this.projection&&this.projection.unmount(),_r(this.notifyUpdate),_r(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=vi.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&we.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in fs){const n=fs[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):De()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<U0.length;r++){const i=U0[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=W4(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=ia(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(PT(i)||bT(i))?i=parseFloat(i):!q4(i)&&Er.test(n)&&(i=IT(e,n)),this.setBaseTarget(e,pt(i)?i.get():i)),pt(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=em(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!pt(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new pm),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class c_ extends $4{constructor(){super(...arguments),this.KeyframeResolver=VT}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pt(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function H4(t){return window.getComputedStyle(t)}class G4 extends c_{constructor(){super(...arguments),this.type="html",this.renderInstance=Qb}readValueFromInstance(e,n){if(vi.has(n)){const r=wm(n);return r&&r.default||0}else{const r=H4(e),i=(Hb(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return XT(e,n)}build(e,n,r){rm(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return am(e,n,r)}}class K4 extends c_{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=De}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(vi.has(n)){const r=wm(n);return r&&r.default||0}return n=Yb.has(n)?n:Xp(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Zb(e,n,r)}build(e,n,r){im(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){Xb(e,n,r,i)}mount(e){this.isSVGTag=om(e.tagName),super.mount(e)}}const Q4=(t,e)=>Zp(t)?new K4(e):new G4(e,{allowProjection:t!==j.Fragment}),Y4=TC({...wR,...O4,...A4,...B4},Q4),H=MA(Y4),X4={some:0,all:1};function J4(t,e,{root:n,margin:r,amount:i="some"}={}){const s=aT(t),o=new WeakMap,a=u=>{u.forEach(h=>{const f=o.get(h.target);if(h.isIntersecting!==!!f)if(h.isIntersecting){const m=e(h);typeof m=="function"?o.set(h.target,m):c.unobserve(h.target)}else typeof f=="function"&&(f(h),o.delete(h.target))})},c=new IntersectionObserver(a,{root:n,rootMargin:r,threshold:typeof i=="number"?i:X4[i]});return s.forEach(u=>c.observe(u)),()=>c.disconnect()}function u_(t,{root:e,margin:n,amount:r,once:i=!1}={}){const[s,o]=j.useState(!1);return j.useEffect(()=>{if(!t.current||i&&s)return;const a=()=>(o(!0),i?void 0:()=>o(!1)),c={root:e&&e.current||void 0,margin:n,amount:r};return J4(t.current,a,c)},[e,t,n,i,r]),s}const d_=j.createContext({push:()=>{}});function Z4({children:t}){const[e,n]=j.useState([]),r=j.useCallback(i=>{const s=Math.random().toString(36).slice(2);n(o=>[...o,{id:s,msg:i}]),setTimeout(()=>n(o=>o.filter(a=>a.id!==s)),4500)},[]);return d.jsxs(d_.Provider,{value:{push:r},children:[t,d.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-[100]",children:d.jsx(jl,{children:e.map(i=>d.jsx(H.div,{initial:{opacity:0,x:20,scale:.95},animate:{opacity:1,x:0,scale:1},exit:{opacity:0,x:20,scale:.95},style:{background:"var(--bg2)",border:"1px solid var(--border)",borderRadius:14,padding:"12px 16px",boxShadow:"var(--shadow2)"},children:d.jsx("div",{className:"text-sm",children:i.msg})},i.id))})})]})}const h_=()=>j.useContext(d_);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e6=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),f_=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var t6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n6=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},c)=>j.createElement("svg",{ref:c,...t6,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:f_("lucide",i),...a},[...o.map(([u,h])=>j.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=(t,e)=>{const n=j.forwardRef(({className:r,...i},s)=>j.createElement(n6,{ref:s,iconNode:e,className:f_(`lucide-${e6(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=X("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=X("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=X("Blocks",[["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["path",{d:"M10 21V8a1 1 0 0 0-1-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-5a1 1 0 0 0-1-1H3",key:"1fpvtg"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aa=X("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r6=X("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=X("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i6=X("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s6=X("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=X("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o6=X("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a6=X("ChartNoAxesColumn",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=X("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l6=X("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=X("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _c=X("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=X("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=X("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y_=X("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=X("Earth",[["path",{d:"M21.54 15H17a2 2 0 0 0-2 2v4.54",key:"1djwo0"}],["path",{d:"M7 3.34V5a3 3 0 0 0 3 3a2 2 0 0 1 2 2c0 1.1.9 2 2 2a2 2 0 0 0 2-2c0-1.1.9-2 2-2h3.17",key:"1tzkfa"}],["path",{d:"M11 21.95V18a2 2 0 0 0-2-2a2 2 0 0 1-2-2v-1a2 2 0 0 0-2-2H2.05",key:"14pb5j"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c6=X("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u6=X("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d6=X("FileCode2",[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v_=X("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=X("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=X("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=X("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=X("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=X("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h6=X("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f6=X("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=X("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p6=X("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m6=X("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g6=X("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y6=X("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=X("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v6=X("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=X("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w6=X("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x6=X("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b6=X("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=X("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=X("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _6=X("Workflow",[["rect",{width:"8",height:"8",x:"3",y:"3",rx:"2",key:"by2w9f"}],["path",{d:"M7 11v4a2 2 0 0 0 2 2h4",key:"xkn7yn"}],["rect",{width:"8",height:"8",x:"13",y:"13",rx:"2",key:"1cgmvn"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=X("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.441.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=X("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),E6="/favicon.png",H0=[{to:"/products/blockchain",icon:Is,label:"Blockchain Solutions",desc:"Smart contracts, DeFi & protocol infrastructure"},{to:"/products/ai",icon:hu,label:"AI Platform",desc:"Autonomous agents, NLP & ML at scale"},{to:"/products/consulting",icon:Sm,label:"Consulting",desc:"Strategy, advisory & digital transformation"}];function S6(){const{theme:t,toggle:e}=SA(),[n,r]=j.useState(!1),[i,s]=j.useState(!1),[o,a]=j.useState(!1),c=j.useRef(null),u=Es();j.useEffect(()=>{s(!1),r(!1)},[u]),j.useEffect(()=>{const f=()=>a(window.scrollY>12);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),j.useEffect(()=>{const f=m=>{c.current&&!c.current.contains(m.target)&&r(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const h=f=>({fontFamily:"var(--font-body)",fontSize:"0.875rem",fontWeight:500,color:f?"var(--tx)":"var(--tx2)",background:f?"var(--bg3)":"transparent",padding:"0.45rem 1rem",borderRadius:9,textDecoration:"none",whiteSpace:"nowrap",transition:"color .15s, background .15s",display:"inline-block"});return d.jsxs(d.Fragment,{children:[d.jsxs("header",{style:{position:"sticky",top:0,zIndex:100,background:"var(--bg2)",borderBottom:"1px solid var(--border)",boxShadow:o?"0 4px 28px rgba(0,0,0,0.08)":"none",transition:"box-shadow .3s"},children:[d.jsxs("div",{style:{maxWidth:1240,margin:"0 auto",padding:"0 2rem",height:70,display:"flex",alignItems:"center",justifyContent:"space-between",gap:"1.5rem"},children:[d.jsxs(le,{to:"/",style:{display:"flex",alignItems:"center",gap:"0.55rem",textDecoration:"none",flexShrink:0},children:[d.jsx("img",{src:E6,alt:"TrustLedgerLabs",style:{height:44,width:44,objectFit:"contain"}}),d.jsxs("span",{style:{fontFamily:"var(--font-display)",fontSize:"1.6rem",fontWeight:700,color:"var(--tx)",letterSpacing:"-0.02em",whiteSpace:"nowrap",lineHeight:1},children:["TrustLedger",d.jsx("span",{style:{color:"var(--gold)"},children:"Labs"})]})]}),d.jsxs("nav",{style:{display:"flex",alignItems:"center",gap:2},className:"nb-desk",children:[[{to:"/about",l:"About"},{to:"/blog",l:"Insights"},{to:"/jobs",l:"Open Roles"}].map(({to:f,l:m})=>d.jsx(xA,{to:f,style:({isActive:v})=>h(v),onMouseEnter:v=>{v.currentTarget.style.background==="transparent"&&(v.currentTarget.style.color="var(--tx)",v.currentTarget.style.background="var(--bg3)")},onMouseLeave:v=>{v.currentTarget.dataset.active||(v.currentTarget.style.color="var(--tx2)",v.currentTarget.style.background="transparent")},children:m},f)),d.jsxs("div",{ref:c,style:{position:"relative"},children:[d.jsxs("button",{onClick:()=>r(f=>!f),style:{...h(n),display:"flex",alignItems:"center",gap:4,border:"none",cursor:"pointer",fontFamily:"var(--font-body)"},children:["Products",d.jsx(m_,{size:13,style:{transition:"transform .2s",transform:n?"rotate(180deg)":"none"}})]}),n&&d.jsx("div",{style:{position:"absolute",top:"calc(100% + 10px)",left:"50%",transform:"translateX(-50%)",width:370,background:"var(--bg2)",border:"1px solid var(--border)",borderRadius:18,boxShadow:"0 24px 64px rgba(0,0,0,.13)",padding:"0.55rem",zIndex:200},children:H0.map(f=>d.jsxs(le,{to:f.to,onClick:()=>r(!1),style:{display:"flex",alignItems:"center",gap:"0.85rem",padding:"0.8rem 1rem",borderRadius:12,textDecoration:"none",transition:"background .15s"},onMouseEnter:m=>m.currentTarget.style.background="var(--bg3)",onMouseLeave:m=>m.currentTarget.style.background="transparent",children:[d.jsx("div",{style:{width:36,height:36,borderRadius:10,background:"var(--gold-bg)",color:"var(--gold)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:d.jsx(f.icon,{size:16})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"0.86rem",fontWeight:600,color:"var(--tx)",marginBottom:2},children:f.label}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"0.74rem",color:"var(--tx2)",fontWeight:300},children:f.desc})]})]},f.to))})]})]}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.6rem",flexShrink:0},children:[d.jsx("button",{onClick:e,style:{width:36,height:36,borderRadius:9,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg3)",border:"1px solid var(--border)",color:"var(--tx2)",cursor:"pointer"},children:t==="dark"?d.jsx(x6,{size:15}):d.jsx(f6,{size:15})}),d.jsxs(le,{to:"/schedule",className:"nb-desk",style:{display:"inline-flex",alignItems:"center",gap:6,padding:"0.52rem 1.3rem",background:"var(--gold)",color:"#fff",borderRadius:10,fontFamily:"var(--font-body)",fontSize:"0.84rem",fontWeight:600,textDecoration:"none",transition:"opacity .18s, transform .18s",whiteSpace:"nowrap"},onMouseEnter:f=>{f.currentTarget.style.opacity=".88",f.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:f=>{f.currentTarget.style.opacity="1",f.currentTarget.style.transform="translateY(0)"},children:["Schedule a Call ",d.jsx(Oe,{size:13})]}),d.jsxs(le,{to:"/contact",className:"nb-desk",style:{display:"inline-flex",alignItems:"center",gap:6,padding:"0.52rem 1.3rem",background:"var(--tx)",color:"var(--bg)",borderRadius:10,fontFamily:"var(--font-body)",fontSize:"0.84rem",fontWeight:600,textDecoration:"none",transition:"opacity .18s, transform .18s",whiteSpace:"nowrap"},onMouseEnter:f=>{f.currentTarget.style.opacity=".82",f.currentTarget.style.transform="translateY(-1px)"},onMouseLeave:f=>{f.currentTarget.style.opacity="1",f.currentTarget.style.transform="translateY(0)"},children:["Contact ",d.jsx(Oe,{size:13})]}),d.jsx("button",{onClick:()=>s(f=>!f),className:"nb-mob",style:{width:36,height:36,borderRadius:9,display:"none",alignItems:"center",justifyContent:"center",background:"var(--bg3)",border:"1px solid var(--border)",color:"var(--tx2)",cursor:"pointer"},children:i?d.jsx($0,{size:17}):d.jsx(h6,{size:17})})]})]}),d.jsx("style",{children:`
          @media(max-width:768px){ .nb-desk{display:none!important} .nb-mob{display:flex!important} }
        `})]}),d.jsxs("div",{style:{position:"fixed",inset:0,zIndex:99,background:"var(--bg2)",transform:i?"translateX(0)":"translateX(100%)",transition:"transform .3s cubic-bezier(.22,1,.36,1)",padding:"0 2rem 2rem",display:"flex",flexDirection:"column",fontFamily:"var(--font-body)"},children:[d.jsxs("div",{style:{height:70,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px solid var(--border)",marginBottom:"1.5rem"},children:[d.jsx(le,{to:"/",onClick:()=>s(!1),style:{textDecoration:"none"},children:d.jsxs("span",{style:{fontFamily:"var(--font-display)",fontSize:"1.5rem",fontWeight:700,color:"var(--tx)"},children:["TrustLedger",d.jsx("span",{style:{color:"var(--gold)"},children:"Labs"})]})}),d.jsx("button",{onClick:()=>s(!1),style:{width:36,height:36,borderRadius:9,display:"flex",alignItems:"center",justifyContent:"center",background:"var(--bg3)",border:"1px solid var(--border)",color:"var(--tx2)",cursor:"pointer"},children:d.jsx($0,{size:17})})]}),[{to:"/about",l:"About"},{to:"/blog",l:"Insights"},{to:"/jobs",l:"Open Roles"}].map(({to:f,l:m})=>d.jsx(le,{to:f,onClick:()=>s(!1),style:{padding:"0.95rem 0",fontSize:"1.05rem",fontWeight:500,color:"var(--tx)",textDecoration:"none",borderBottom:"1px solid var(--border)"},children:m},f)),d.jsxs("div",{style:{padding:"0.95rem 0",borderBottom:"1px solid var(--border)"},children:[d.jsx("div",{style:{fontSize:"0.66rem",fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--tx3)",marginBottom:"0.75rem"},children:"Products"}),H0.map(f=>d.jsxs(le,{to:f.to,onClick:()=>s(!1),style:{display:"flex",alignItems:"center",gap:8,padding:"0.45rem 0",fontSize:"0.92rem",color:"var(--tx2)",textDecoration:"none"},children:[d.jsx(f.icon,{size:14,style:{color:"var(--gold)"}})," ",f.label]},f.to))]}),d.jsxs(le,{to:"/schedule",onClick:()=>s(!1),style:{marginTop:"1.5rem",display:"flex",alignItems:"center",justifyContent:"center",gap:7,padding:"1rem",background:"var(--gold)",color:"#fff",borderRadius:12,fontWeight:600,fontSize:"0.95rem",textDecoration:"none"},children:["Schedule a Call ",d.jsx(Oe,{size:14})]}),d.jsxs(le,{to:"/contact",onClick:()=>s(!1),style:{marginTop:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",gap:7,padding:"1rem",background:"var(--tx)",color:"var(--bg)",borderRadius:12,fontWeight:600,fontSize:"0.95rem",textDecoration:"none"},children:["Contact Us ",d.jsx(Oe,{size:14})]})]})]})}function k6(){const t={fontSize:"0.66rem",fontWeight:700,letterSpacing:"0.2em",textTransform:"uppercase",color:"var(--tx3)",marginBottom:"1.2rem",fontFamily:"var(--font-body)"},e={fontSize:"0.86rem",color:"var(--tx2)",textDecoration:"none",fontWeight:300,display:"block",marginBottom:"0.6rem",fontFamily:"var(--font-body)",transition:"color .15s"};return d.jsxs("footer",{style:{background:"var(--bg2)",borderTop:"1px solid var(--border)",fontFamily:"var(--font-body)"},children:[d.jsxs("div",{style:{maxWidth:1240,margin:"0 auto",padding:"5rem 2rem 2.5rem",display:"grid",gridTemplateColumns:"2fr 1fr 1fr 1.7fr",gap:"3rem"},className:"ftr-grid",children:[d.jsx("style",{children:`
          @media(max-width:900px){ .ftr-grid{grid-template-columns:1fr 1fr!important} }
          @media(max-width:520px){ .ftr-grid{grid-template-columns:1fr!important} }
        `}),d.jsxs("div",{children:[d.jsxs("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.5rem",fontWeight:700,color:"var(--tx)",letterSpacing:"-0.02em",marginBottom:"0.75rem",lineHeight:1},children:["TrustLedger",d.jsx("span",{style:{color:"var(--gold)"},children:"Labs"})]}),d.jsx("p",{style:{fontSize:"0.86rem",color:"var(--tx2)",fontWeight:300,lineHeight:1.75,maxWidth:265,marginBottom:"0.5rem"},children:"Engineering the infrastructure layer where Artificial Intelligence and Blockchain converge  for enterprises that require verifiable trust at scale."}),d.jsx("p",{style:{fontSize:"0.72rem",color:"var(--tx3)",letterSpacing:"0.08em",textTransform:"uppercase",marginBottom:"1.25rem"},children:"Incorporated in Singapore"}),d.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:[{href:"https://www.linkedin.com/company/trustledgerlabs",I:km},{href:"https://github.com/orgs/TrustLedgerLabs/",I:v_}].map(({href:n,I:r})=>d.jsx("a",{href:n,target:"_blank",rel:"noopener noreferrer",style:{width:36,height:36,borderRadius:9,border:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--tx2)",textDecoration:"none",transition:"border-color .2s, color .2s"},onMouseEnter:i=>{i.currentTarget.style.borderColor="var(--gold)",i.currentTarget.style.color="var(--gold)"},onMouseLeave:i=>{i.currentTarget.style.borderColor="var(--border)",i.currentTarget.style.color="var(--tx2)"},children:d.jsx(r,{size:15})},n))})]}),d.jsxs("div",{children:[d.jsx("div",{style:t,children:"Products"}),[{to:"/products/blockchain",l:"Blockchain"},{to:"/products/ai",l:"AI Platform"},{to:"/products/consulting",l:"Consulting"}].map(({to:n,l:r})=>d.jsx(le,{to:n,style:e,onMouseEnter:i=>i.currentTarget.style.color="var(--gold)",onMouseLeave:i=>i.currentTarget.style.color="var(--tx2)",children:r},n))]}),d.jsxs("div",{children:[d.jsx("div",{style:t,children:"Company"}),[{to:"/about",l:"About Us"},{to:"/blog",l:"Insights"},{to:"/contact",l:"Contact"},{to:"/jobs",l:"Open Roles"}].map(({to:n,l:r})=>d.jsx(le,{to:n,style:e,onMouseEnter:i=>i.currentTarget.style.color="var(--gold)",onMouseLeave:i=>i.currentTarget.style.color="var(--tx2)",children:r},n))]}),d.jsxs("div",{children:[d.jsx("div",{style:t,children:"Intelligence Briefing"}),d.jsx("p",{style:{fontSize:"0.84rem",color:"var(--tx2)",fontWeight:300,lineHeight:1.7,marginBottom:"1rem"},children:"Monthly research dispatches on AI infrastructure, blockchain protocol design, and decentralised enterprise systems."}),d.jsxs("div",{style:{display:"flex",border:"1px solid var(--border)",borderRadius:10,overflow:"hidden",background:"var(--bg3)"},children:[d.jsx("input",{type:"email",placeholder:"your@email.com",className:"inp",style:{border:"none",borderRadius:0,background:"transparent",padding:"0.65rem 1rem",fontSize:"0.85rem"}}),d.jsx("button",{type:"button",style:{padding:"0 0.9rem",background:"var(--tx)",color:"var(--bg)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",transition:"opacity .18s"},onMouseEnter:n=>n.currentTarget.style.opacity=".8",onMouseLeave:n=>n.currentTarget.style.opacity="1",children:d.jsx(x_,{size:14})})]})]})]}),d.jsxs("div",{style:{maxWidth:1240,margin:"0 auto",padding:"1.5rem 2rem",borderTop:"1px solid var(--border)",display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",gap:"1rem"},children:[d.jsxs("span",{style:{fontSize:"0.76rem",color:"var(--tx3)",fontWeight:300},children:[" ",new Date().getFullYear()," TrustLedgerLabs Pte. Ltd. All rights reserved."]}),d.jsx("div",{style:{display:"flex",gap:"1.5rem"},children:["Privacy Policy","Terms of Service","Cookie Policy"].map(n=>d.jsx("a",{href:"#",style:{fontSize:"0.76rem",color:"var(--tx3)",textDecoration:"none",fontWeight:300,transition:"color .15s"},onMouseEnter:r=>r.currentTarget.style.color="var(--gold)",onMouseLeave:r=>r.currentTarget.style.color="var(--tx3)",children:n},n))})]})]})}const I6=()=>(qp(),d.jsx("div",{style:{position:"relative",width:"100vw",height:"100vh"},children:d.jsx("iframe",{title:"Forms App",allowTransparency:!0,allowFullScreen:!0,allow:"geolocation; microphone; camera",src:"https://vc3b3ipj.forms.app/form/6971a722f253df9dcdb8b12d",frameBorder:"0",style:{width:"100%",height:"100%",border:"none"}})})),Ml={hidden:{opacity:0,y:26},visible:(t=0)=>({opacity:1,y:0,transition:{duration:.6,delay:t*.1,ease:[.22,1,.36,1]}})};function Xn({children:t,i:e=0,style:n={}}){const r=j.useRef(null),i=u_(r,{once:!0,margin:"-60px"});return d.jsx(H.div,{ref:r,variants:Ml,custom:e,initial:"hidden",animate:i?"visible":"hidden",style:n,children:t})}const A6=[{icon:pu,value:"500+",label:"Enterprise Clients Served",sub:"Across 12+ global verticals",c:"#b5894a"},{icon:fu,value:"20+",label:"Production Deployments",sub:"Live in 8 countries",c:"#6366f1"},{icon:mu,value:"70+",label:"Expert Specialists",sub:"Engineers, researchers & strategists",c:"#b5894a"},{icon:a6,value:"99.99%",label:"Platform Uptime SLA",sub:"Enterprise-grade reliability",c:"#6366f1"}],C6=[{icon:Em,text:"AI-Driven Automation"},{icon:Is,text:"Smart Contract Infrastructure"},{icon:pu,text:"Zero-Trust Security"},{icon:fu,text:"Decentralised Applications"},{icon:T6,text:"Predictive Analytics"}],P6=[{year:"2024",title:"Company Founded",desc:"TrustLedgerLabs Pte. Ltd. incorporated in Singapore  purpose-built to architect decentralised, AI-augmented systems enterprises can trust unconditionally."},{year:"2025",title:"First Enterprise Deployment",desc:"Delivered our inaugural production AI automation and blockchain audit trail system for a regional financial services group, processing over 2 million transactions in 90 days."},{year:"2026",title:"Global Expansion",desc:"Scaled to 70+ specialists across Singapore, London and Dubai. Launched TrustLedger AI as a managed SaaS product. Onboarded clients across finance, healthcare and government."}],R6=[{icon:__,title:"Frontier-First Engineering",desc:"We operate at the technical vanguard  deploying ZK-proof privacy layers, autonomous AI agents, and cross-chain settlement protocols before they become mainstream."},{icon:w6,title:"Principled Craftsmanship",desc:"We treat every system as a long-term commitment. Every smart contract is audited. Every model is monitored. Institutional-grade rigour is our baseline, not our differentiator."},{icon:mu,title:"Cross-Disciplinary Rigour",desc:"Cryptographers, ML researchers, domain strategists and product designers working as one cohesive unit  because transformative infrastructure demands all these disciplines simultaneously."},{icon:w_,title:"Long-Term Stewardship",desc:"Our engagements don't end at delivery. Ongoing SLAs, performance reviews and adaptive roadmaps ensure the systems we build continue earning trust through every market cycle."}];function j6(){return d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)"},children:[d.jsxs("section",{style:{position:"relative",overflow:"hidden",minHeight:"88vh",display:"flex",alignItems:"center"},children:[d.jsx("div",{style:{position:"absolute",inset:0,backgroundImage:"url('https://images.unsplash.com/photo-1497366216548-37526070297c?q=80&w=2400')",backgroundSize:"cover",backgroundPosition:"center 35%",filter:"grayscale(15%)"}}),d.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(140deg,rgba(13,11,9,.94) 0%,rgba(13,11,9,.72) 55%,rgba(13,11,9,.48) 100%)"}}),d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0}}),d.jsx("div",{className:"wrap",style:{position:"relative",zIndex:1,paddingTop:"5rem",paddingBottom:"5rem"},children:d.jsxs(H.div,{initial:{opacity:0,y:32},animate:{opacity:1,y:0},transition:{duration:.8},children:[d.jsxs("div",{className:"badge",style:{marginBottom:"2rem",color:"var(--gold)"},children:[d.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"var(--gold)",flexShrink:0}}),"Est. 2024  Singapore  AI & Blockchain Infrastructure"]}),d.jsxs("h1",{className:"t-display",style:{color:"#f0ece4",marginBottom:"1.5rem"},children:["Building the Future",d.jsx("br",{}),"of ",d.jsx("em",{className:"t-italic",children:"Trusted"})," Intelligence"]}),d.jsx("p",{className:"t-body-lg",style:{color:"rgba(240,236,228,.6)",maxWidth:580,marginBottom:"2.75rem"},children:"TrustLedgerLabs architects enterprise-grade systems at the convergence of Artificial Intelligence and Blockchain  where verifiable trust, autonomous execution, and institutional-grade security form an inseparable whole."}),d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,marginBottom:"3rem"},children:C6.map(t=>d.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"6px 13px",background:"rgba(181,137,74,.1)",border:"1px solid rgba(181,137,74,.22)",borderRadius:7,fontFamily:"var(--font-body)",fontSize:".76rem",color:"rgba(240,236,228,.75)",fontWeight:500},children:[d.jsx(t.icon,{size:12,style:{color:"var(--gold)"}}),t.text]},t.text))}),d.jsxs("div",{style:{display:"flex",gap:"0.85rem",flexWrap:"wrap"},children:[d.jsxs(le,{to:"/contact",className:"btn btn-gold",children:["Engage TrustLedgerLabs ",d.jsx(Oe,{size:14})]}),d.jsx(le,{to:"/about",className:"btn btn-outline",style:{color:"rgba(240,236,228,.75)",borderColor:"rgba(240,236,228,.18)"},children:"Our Story"})]})]})})]}),d.jsx("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)"},children:d.jsx("div",{className:"wrap sect-sm",children:d.jsx(Xn,{children:d.jsxs("div",{style:{maxWidth:840},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"1rem"},children:"Our Purpose"}),d.jsx("blockquote",{className:"bq",style:{marginBottom:"1.5rem"},children:'"The most consequential infrastructure of the next decade will be simultaneously intelligent, transparent, and cryptographically accountable  and TrustLedgerLabs is building it."'}),d.jsx("p",{className:"t-body-lg",children:"We integrate advanced AI models with immutable ledger systems to deliver automated workflows that are fully auditable, regulatory-compliant, and resistant to adversarial conditions. Every system we build is designed not just to perform today, but to earn institutional trust over decades."})]})})})}),d.jsx("section",{style:{background:"var(--bg3)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(Xn,{style:{textAlign:"center",marginBottom:"3.5rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Traction & Impact"}),d.jsx("h2",{className:"t-h2",children:"Proven at Enterprise Scale"})]}),d.jsx("div",{className:"grid-divider",style:{gridTemplateColumns:"repeat(auto-fit,minmax(220px,1fr))"},children:A6.map((t,e)=>d.jsxs(H.div,{variants:Ml,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},style:{background:"var(--bg2)",padding:"2.5rem 2rem",cursor:"default",transition:"background .2s"},onMouseEnter:n=>n.currentTarget.style.background="var(--bg3)",onMouseLeave:n=>n.currentTarget.style.background="var(--bg2)",children:[d.jsx("div",{style:{width:42,height:42,borderRadius:11,background:t.c+"18",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.25rem"},children:d.jsx(t.icon,{size:20,style:{color:t.c}})}),d.jsx("div",{className:"stat-num",style:{marginBottom:".4rem"},children:t.value}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".88rem",fontWeight:600,color:"var(--tx)",marginBottom:".25rem"},children:t.label}),d.jsx("div",{className:"t-small",children:t.sub})]},t.label))})]})}),d.jsx("section",{style:{background:"var(--bg)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(Xn,{style:{marginBottom:"3.5rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Executive Leadership"}),d.jsx("h2",{className:"t-h2",children:"The Architect Behind the Vision"})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1.45fr",gap:"5rem",alignItems:"center"},className:"ceo-g",children:[d.jsx("style",{children:".ceo-g{@media(max-width:800px){grid-template-columns:1fr!important;gap:2.5rem!important}}"}),d.jsx(Xn,{i:0,children:d.jsxs("div",{style:{position:"relative"},children:[d.jsxs("div",{style:{borderRadius:22,overflow:"hidden",aspectRatio:"4/4",maxHeight:520,border:"1px solid var(--border)"},children:[d.jsx("img",{src:"CEO.png",alt:"Jerald Young, CEO of TrustLedgerLabs",style:{width:"100%",height:"100%",objectFit:"cover",objectPosition:"top center",filter:"grayscale(8%)",display:"block",transition:"transform .5s,filter .4s"},onMouseEnter:t=>{t.target.style.transform="scale(1.04)",t.target.style.filter="grayscale(0%)"},onMouseLeave:t=>{t.target.style.transform="scale(1)",t.target.style.filter="grayscale(8%)"}}),d.jsxs("div",{style:{position:"absolute",bottom:0,left:0,right:0,padding:"1.75rem",background:"linear-gradient(to top,rgba(13,11,9,.95),transparent)",borderRadius:"0 0 22px 22px"},children:[d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.65rem",fontWeight:700,color:"#f0ece4",marginBottom:4},children:"Jerald Young"}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".68rem",fontWeight:700,letterSpacing:".18em",textTransform:"uppercase",color:"var(--gold)"},children:"Chief Executive Officer & Co-Founder"})]})]}),d.jsx("div",{style:{position:"absolute",top:24,right:-10,width:3,height:70,background:"linear-gradient(to bottom,var(--gold),transparent)",borderRadius:4}})]})}),d.jsx(Xn,{i:1,children:d.jsxs("div",{children:[d.jsxs("div",{style:{background:"var(--bg3)",border:"1px solid var(--border)",borderRadius:16,padding:"2rem 2rem 2rem 2.5rem",marginBottom:"2rem",position:"relative",overflow:"hidden"},children:[d.jsx("div",{style:{position:"absolute",left:0,top:0,bottom:0,width:4,background:"linear-gradient(to bottom,var(--gold),transparent)"}}),d.jsx("p",{style:{fontFamily:"var(--font-display)",fontSize:"1.2rem",fontStyle:"italic",lineHeight:1.6,color:"var(--tx)",fontWeight:600,marginBottom:".85rem"},children:'"We are not building software  we are engineering the governance layer for the next generation of institutional intelligence. Every contract we deploy, every model we ship, must be worthy of the trust placed in it."'}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".68rem",color:"var(--tx2)",fontWeight:700,letterSpacing:".12em",textTransform:"uppercase"},children:" Jerald Young, CEO & Co-Founder"})]}),d.jsx("p",{className:"t-body",style:{marginBottom:"1.25rem"},children:"Jerald Young is the founding Chief Executive Officer of TrustLedgerLabs, driving the company's strategic direction, product architecture, and global commercial expansion. With a career spanning enterprise software architecture, decentralised finance, and applied machine learning, he brings rare cross-disciplinary depth to the intersection of technology and institutional trust."}),d.jsxs("p",{className:"t-body",style:{marginBottom:"2rem"},children:["Before founding TrustLedgerLabs, Jerald served as principal adviser to Web3 ventures across Southeast Asia and architected AI-driven data infrastructure for financial institutions at scale. His leadership philosophy is anchored in ",d.jsx("strong",{style:{color:"var(--tx)",fontWeight:600},children:"radical accountability"}),"  the conviction that every system must be explainable, auditable, and designed to earn long-arc institutional trust."]}),d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:7,marginBottom:"2rem"},children:["Visionary Executive","Systems Architect","Blockchain Strategist","AI Infrastructure","Web3 Pioneer","DeFi Engineering","Enterprise Leadership","Decentralised Finance"].map(t=>d.jsx("span",{className:"tag",style:{cursor:"default",transition:"all .2s"},onMouseEnter:e=>{e.currentTarget.style.borderColor="var(--gold)",e.currentTarget.style.color="var(--gold)"},onMouseLeave:e=>{e.currentTarget.style.borderColor="var(--border)",e.currentTarget.style.color="var(--tx2)"},children:t},t))}),d.jsxs("a",{href:"https://www.linkedin.com/in/jerald-young-a3a21b3/",target:"_blank",rel:"noopener noreferrer",className:"btn btn-dark",children:[d.jsx(km,{size:15}),"Connect on LinkedIn",d.jsx(Oe,{size:13,style:{opacity:.6}})]})]})})]})]})}),d.jsx("section",{style:{background:"var(--bg2)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(Xn,{style:{marginBottom:"3rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Corporate History"}),d.jsx("h2",{className:"t-h2",children:"Our Journey to Date"})]}),P6.map((t,e)=>d.jsxs(H.div,{variants:Ml,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-60px"},style:{display:"grid",gridTemplateColumns:"96px 1fr",gap:"2.5rem",padding:"2.5rem 0",borderBottom:"1px solid var(--border)"},children:[d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.85rem",fontWeight:700,color:"var(--gold)",lineHeight:1,paddingTop:4},children:t.year}),d.jsxs("div",{children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".5rem"},children:t.title}),d.jsx("div",{className:"t-body",children:t.desc})]})]},e))]})}),d.jsx("section",{style:{background:"var(--bg3)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(Xn,{style:{marginBottom:"2.5rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"How We Operate"}),d.jsx("h2",{className:"t-h2",children:"Operating Principles"})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(260px,1fr))",gap:"1.5rem",marginBottom:"4rem"},children:R6.map((t,e)=>d.jsxs(H.div,{className:"card-hover",variants:Ml,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-60px"},style:{padding:"2rem"},children:[d.jsx("div",{style:{width:46,height:46,background:"var(--gold-bg)",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.25rem",color:"var(--gold)"},children:d.jsx(t.icon,{size:22})}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".6rem"},children:t.title}),d.jsx("div",{className:"t-small",children:t.desc})]},t.title))}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3,1fr)",gap:"1.25rem"},children:["AI.png","Blockchain.png","Furturistic.png"].map(t=>d.jsx("img",{src:t,alt:"",style:{borderRadius:16,height:220,width:"100%",objectFit:"cover",border:"1px solid var(--border)",transition:"transform .4s,box-shadow .4s"},onMouseEnter:e=>{e.currentTarget.style.transform="scale(1.02)",e.currentTarget.style.boxShadow="var(--shadow2)"},onMouseLeave:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="none"}},t))})]})}),d.jsxs("section",{style:{background:"var(--bg4)",padding:"6rem 2rem",textAlign:"center",position:"relative",overflow:"hidden"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,opacity:.25}}),d.jsx("div",{style:{position:"relative",zIndex:1,maxWidth:640,margin:"0 auto"},children:d.jsxs(Xn,{children:[d.jsx("div",{className:"t-eyebrow",style:{color:"var(--gold2)",marginBottom:"1rem"},children:"Ready to Begin?"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Let's Build Something That Endures"}),d.jsx("p",{className:"t-body-lg",style:{marginBottom:"2.5rem"},children:"Whether you're architecting a blockchain protocol, deploying AI agents at enterprise scale, or navigating a complex digital transformation  we have the expertise and the track record to guide you."}),d.jsxs(le,{to:"/contact",className:"btn btn-dark",style:{fontSize:".92rem",padding:".9rem 2.2rem"},children:["Engage TrustLedgerLabs ",d.jsx(Oe,{size:15})]})]})})]})]})}const mo={hidden:{opacity:0,y:26},visible:(t=0)=>({opacity:1,y:0,transition:{duration:.6,delay:t*.1,ease:[.22,1,.36,1]}})};function io({children:t,i:e=0,style:n={}}){const r=j.useRef(null),i=u_(r,{once:!0,margin:"-60px"});return d.jsx(H.div,{ref:r,variants:mo,custom:e,initial:"hidden",animate:i?"visible":"hidden",style:n,children:t})}const D6=[{n:"01",title:"Mission",text:"To empower organisations with the infrastructure required to operate intelligently, transparently, and at global scale  by unifying the most rigorous advances in artificial intelligence and distributed ledger technology."},{n:"02",title:"Vision",text:"A world in which every consequential institutional process  financial settlement, supply chain provenance, regulatory compliance, AI-driven governance  runs on infrastructure that is simultaneously autonomous, verifiable, and incorruptible."},{n:"03",title:"Values",text:"Radical transparency in every engagement. Technical excellence without compromise. Intellectual curiosity that drives us to the frontier. And an unwavering commitment to building systems that earn  and retain  institutional trust."}],V6=[{icon:Em,title:"AI-Driven Automation",desc:"We deploy large language models, reinforcement learning agents, and computer vision systems directly into enterprise workflows  replacing brittle rule-based processes with adaptive, self-improving pipelines that learn from every cycle."},{icon:Is,title:"Smart Contract Infrastructure",desc:"From ERC-20 token standards to complex multi-party settlement protocols, our smart contract practice spans Ethereum, Solana, and custom EVM chains  each rigorously audited and formally verified before any mainnet deployment."},{icon:pu,title:"Zero-Trust Security Architecture",desc:"Security is a foundational design constraint, not a bolt-on feature. Every system we build assumes a hostile environment and implements layered cryptographic access controls, continuous threat monitoring, and automated incident response."},{icon:y6,title:"Scalable Data Pipelines",desc:"High-throughput data infrastructure capable of ingesting, normalising, and routing millions of on-chain and off-chain events per second into real-time AI analytics, decision engines, and compliance dashboards."},{icon:fu,title:"Decentralised Applications",desc:"Full-stack dApp development  Solidity backend logic, React frontends, IPFS-hosted assets  delivering Web3 experiences that meet the usability standard of Web2 without sacrificing the sovereignty of Web3."},{icon:hu,title:"Machine Learning at Scale",desc:"End-to-end MLOps: model design and fine-tuning, feature store architecture, deployment pipelines with A/B testing, continuous monitoring, and automated retraining. From proof-of-concept to production in weeks."}],N6=[{value:"2024",label:"Year Incorporated",sub:"Singapore HQ"},{value:"70+",label:"Expert Specialists",sub:"Engineers, researchers & strategists"},{value:"500+",label:"Clients Served",sub:"Across 12+ global verticals"},{value:"99.99%",label:"Platform SLA",sub:"Enterprise-grade uptime"}],L6=[{y:"2024 Q1",t:"Incorporation",d:"TrustLedgerLabs Pte. Ltd. incorporated in Singapore. The founding team  drawn from enterprise fintech, academic cryptography, and applied ML  set out to build the definitive AI-blockchain infrastructure firm for the Asia-Pacific and global enterprise market."},{y:"2024 Q3",t:"Platform MVP",d:"Core TrustLedger Platform v0.1 completed internally. Architecture peer-reviews conducted with external blockchain security specialists. First design partners onboarded for structured feedback and technical validation."},{y:"2025 Q1",t:"First Enterprise Client",d:"Signed and delivered our inaugural enterprise engagement: a production-grade AI automation and on-chain audit trail system for a regional financial services group. System processed over 2 million transactions in its first 90 days with zero critical incidents."},{y:"2026",t:"Global Scale",d:"Scaled headcount to 70+ specialists across Singapore, London and Dubai. Launched TrustLedger AI as a managed SaaS product. Onboarded enterprise clients across financial services, healthcare infrastructure and government procurement."}];function M6(){return d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)"},children:[d.jsxs("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)",padding:"7rem 2rem 5rem",position:"relative",overflow:"hidden",textAlign:"center"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,pointerEvents:"none"}}),d.jsx("div",{style:{maxWidth:820,margin:"0 auto",position:"relative",zIndex:1},children:d.jsxs(H.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx("div",{className:"badge",style:{marginBottom:"2rem"},children:"Est. 2024  Singapore"}),d.jsxs("h1",{className:"t-h1",style:{marginBottom:"1.5rem"},children:["The Company Architecting ",d.jsx("em",{style:{fontStyle:"italic",color:"var(--gold)"},children:"Decentralised Trust"})]}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:660,margin:"0 auto 2.5rem"},children:"TrustLedgerLabs is a specialist technology firm building the enterprise infrastructure layer where Artificial Intelligence and Blockchain converge  delivering systems that are intelligent, transparent, and cryptographically accountable at every layer of the stack."}),d.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:8,justifyContent:"center"},children:["AI Infrastructure","Blockchain Protocol","Smart Contracts","Zero-Trust Security","DeFi Engineering","ML at Scale"].map(t=>d.jsx("span",{className:"tag",children:t},t))})]})})]}),d.jsx("section",{style:{background:"var(--bg)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(io,{style:{marginBottom:"3rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Our Foundation"}),d.jsx("h2",{className:"t-h2",children:"Mission, Vision & Values"})]}),d.jsx("div",{className:"grid-divider",style:{gridTemplateColumns:"repeat(auto-fit,minmax(280px,1fr))"},children:D6.map((t,e)=>d.jsxs(H.div,{variants:mo,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},style:{background:"var(--bg2)",padding:"2.5rem",cursor:"default",transition:"background .2s"},onMouseEnter:n=>n.currentTarget.style.background="var(--bg3)",onMouseLeave:n=>n.currentTarget.style.background="var(--bg2)",children:[d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"3.5rem",fontWeight:700,color:"rgba(181,137,74,.18)",lineHeight:1,marginBottom:".75rem"},children:t.n}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".75rem"},children:t.title}),d.jsx("div",{className:"t-small",children:t.text})]},t.title))})]})}),d.jsx("section",{style:{background:"var(--bg3)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(io,{style:{textAlign:"center",marginBottom:"3.5rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Company Metrics"}),d.jsx("h2",{className:"t-h2",children:"TrustLedgerLabs at a Glance"})]}),d.jsxs("div",{className:"grid-divider",style:{gridTemplateColumns:"repeat(4,1fr)"},className2:"stats4",children:[d.jsx("style",{children:"@media(max-width:640px){.stats4{grid-template-columns:repeat(2,1fr)!important}}"}),N6.map((t,e)=>d.jsxs(H.div,{variants:mo,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},style:{background:"var(--bg2)",padding:"2.5rem 1.75rem",textAlign:"center"},children:[d.jsx("div",{className:"stat-num",style:{marginBottom:".4rem"},children:t.value}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".9rem",fontWeight:600,color:"var(--tx)",marginBottom:".25rem"},children:t.label}),d.jsx("div",{className:"t-small",children:t.sub})]},t.label))]})]})}),d.jsx("section",{style:{background:"var(--bg)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(io,{style:{marginBottom:"3rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Technical Capabilities"}),d.jsx("h2",{className:"t-h2",children:"What We Build"})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(320px,1fr))",gap:"1.5rem"},children:V6.map((t,e)=>d.jsxs(H.div,{className:"card-hover",variants:mo,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},style:{padding:"2rem"},children:[d.jsx("div",{style:{width:46,height:46,background:"var(--gold-bg)",borderRadius:12,display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.25rem",color:"var(--gold)"},children:d.jsx(t.icon,{size:22})}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".6rem"},children:t.title}),d.jsx("div",{className:"t-small",children:t.desc})]},t.title))})]})}),d.jsx("section",{style:{background:"var(--bg2)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(io,{style:{marginBottom:"3rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Corporate Timeline"}),d.jsx("h2",{className:"t-h2",children:"Milestones & Momentum"})]}),L6.map((t,e)=>d.jsxs(H.div,{variants:mo,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-60px"},style:{display:"grid",gridTemplateColumns:"130px 1fr",gap:"2.5rem",padding:"2.5rem 0",borderBottom:"1px solid var(--border)"},children:[d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.05rem",fontWeight:700,color:"var(--gold)",lineHeight:1.3,paddingTop:4},children:t.y}),d.jsxs("div",{children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".5rem"},children:t.t}),d.jsx("div",{className:"t-body",children:t.d})]})]},e))]})}),d.jsx("section",{style:{background:"var(--bg3)",borderTop:"1px solid var(--border)",padding:"5.5rem 2rem",textAlign:"center"},children:d.jsxs(io,{children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"1rem"},children:"Work With Us"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Partner With TrustLedgerLabs"}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:500,margin:"0 auto 2.5rem"},children:"Whether you need a bespoke blockchain protocol, an AI automation layer, or executive advisory on digital transformation  we are ready to engage."}),d.jsxs(le,{to:"/contact",className:"btn btn-dark",style:{fontSize:".9rem",padding:".85rem 2.2rem"},children:["Begin the Conversation ",d.jsx(Oe,{size:14})]})]})})]})}const Ec=[{id:1,slug:"why-ai-agents-need-blockchain-audit-trails",title:"Why Autonomous AI Agents Cannot Operate Without Blockchain Audit Trails",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2026-01-14",tags:["AI Agents","Audit & Compliance"],cover:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=800&q=80",excerpt:"When an AI agent executes a $4M treasury rebalance at 2 a.m., who is accountable? Without cryptographically sealed decision logs on an immutable ledger, the answer is: no one. Here is why audit-by-design is the only credible path forward.",externalLinks:[{label:"BIS Working Paper  AI in Financial Market Infrastructure",url:"https://www.bis.org/publ/work1101.htm"},{label:"MAS Guidance on Model Risk Management",url:"https://www.mas.gov.sg/regulation/guidelines/guidelines-on-model-risk-management"}],content:["In 2024, enterprises deployed more autonomous AI agents into production than in the preceding five years combined. These agents  executing transactions, routing approvals, flagging anomalies  operate at machine speed across systems that human oversight was never designed to monitor in real time. The velocity is the point. And the velocity is the problem.","The core issue is not that AI agents make mistakes. It is that when they do, the forensic trail required to understand what happened, why, and how to prevent recurrence simply does not exist in conventional architectures. Application logs are mutable. Database records are siloed. Model decision histories are often discarded entirely. Enterprises are effectively operating mission-critical automation with no black box.","Blockchain-anchored audit trails change this fundamentally. By committing a cryptographic hash of every agent decision  including the model version, input context, confidence score, and output action  to an append-only distributed ledger, organisations create a tamper-evident record that survives system migrations, vendor changes, and adversarial interference. Regulators in financial services and healthcare are already beginning to require it. The institutions that build this capability now will not be scrambling to retrofit it when mandates arrive.","The implementation pattern is straightforward: agent orchestration layers intercept decision events and publish structured attestations to a permissioned ledger. Downstream, compliance teams query this ledger in natural language, regulators receive real-time read access scoped to their jurisdiction, and internal audit runs automated exception reports against predefined risk thresholds. The agent remains autonomous. Accountability is never sacrificed."],images:["https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1200&q=80"]},{id:2,slug:"zero-knowledge-proofs-enterprise-privacy",title:"Zero-Knowledge Proofs Are No Longer a Research Curiosity  Here Is How Enterprises Use Them",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-11-28",tags:["ZK Proofs","Privacy & Security"],cover:"https://images.unsplash.com/photo-1510511459019-5dda7724fd87?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1510511459019-5dda7724fd87?auto=format&fit=crop&w=800&q=80",excerpt:"Proving something is true without revealing why it is true sounds like cryptographic philosophy. In practice, it is the mechanism that lets a bank confirm a customer is solvent without seeing their balance  and that gap is worth billions.",externalLinks:[{label:"zkSNARKs Explained  Ethereum Foundation",url:"https://ethereum.org/en/developers/docs/scaling/zk-rollups/"},{label:"FATF Guidance on Digital Identity",url:"https://www.fatf-gafi.org/en/publications/Fatfrecommendations/Digital-identity-guidance.html"}],content:["Zero-knowledge proofs (ZKPs) have spent two decades in academic papers and cryptography conferences. In the last 36 months, proof generation times dropped by four orders of magnitude, hardware acceleration became commercially viable, and developer tooling matured to the point where implementation no longer requires a PhD in algebraic geometry. The technology is now deployable. The business cases are arriving faster than most compliance teams anticipated.","The most immediate enterprise applications are identity and credit verification. Consider a cross-border trade finance transaction: a buyer must prove to a seller's bank that they meet KYC requirements and have sufficient credit lines, without transmitting the underlying personal data across jurisdictions with conflicting privacy laws. ZKP-based identity credentials allow precisely this  the buyer proves compliance with the predicate without the proof containing any personally identifiable information. GDPR, MAS Notice 626, and equivalent regimes are satisfied simultaneously.","Supply chain integrity is the second major vector. A pharmaceutical manufacturer can prove to a distributor that a batch of product was stored within temperature tolerance throughout transit  without disclosing their logistics provider, warehouse locations, or shipment timing. The proof commits to the sensor data cryptographically; the raw telemetry never leaves the manufacturer's systems. This is the privacy-preserving audit that neither conventional attestation letters nor shared data lakes can provide.","The architectural pattern for enterprise ZKP deployment follows three layers: a proving layer (off-chain circuits that generate proofs from private data), a verification layer (on-chain smart contracts that verify proofs in constant time), and an application layer (existing enterprise systems that consume verification results as boolean signals). Integration points are well-defined. The complexity lives in circuit design and optimisation  which is where specialist infrastructure partners earn their mandate."],images:["https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1200&q=80"]},{id:3,slug:"tokenised-real-world-assets-institutional-infrastructure",title:"Tokenised Real-World Assets: The Infrastructure Institutions Are Actually Building",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-09-05",tags:["Tokenisation","Institutional Finance"],cover:"https://images.unsplash.com/photo-1486325212027-8081e485255e?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1486325212027-8081e485255e?auto=format&fit=crop&w=800&q=80",excerpt:"BlackRock, Franklin Templeton, and JPMorgan are not experimenting with tokenisation anymore  they are operating live infrastructure. The question for mid-market financial institutions is not whether to build, but how fast they can catch up.",externalLinks:[{label:"BIS Project Guardian  Tokenisation in Financial Markets",url:"https://www.bis.org/about/bisih/topics/fmis/guardian.htm"},{label:"MAS Project Orchid  Purpose Bound Money",url:"https://www.mas.gov.sg/development/fintech/project-orchid"}],content:["The tokenised real-world asset (RWA) market passed $10 billion in on-chain value in early 2024 and is projected to reach $16 trillion by 2030, according to Boston Consulting Group. These numbers are not speculative projections for a hypothetical future  they reflect capital already committed by institutions that have made infrastructure decisions and are now in active deployment. The institutional consensus has formed. What remains is execution.","The infrastructure stack for institutional RWA tokenisation has three critical layers that most pilots underinvest in. First, legal wrapper alignment: the digital token must map unambiguously to enforceable rights in the governing jurisdiction. Singapore's Variable Capital Company structure, Luxembourg's RAIF regime, and Cayman SPVs each have distinct characteristics that affect how tokens represent economic interest and how transfers are legally effective. Getting this wrong creates instruments that are legally unenforceable regardless of how sophisticated the smart contract logic is.","Second, custody and settlement interoperability. Institutional investors will not accept token custody arrangements outside of qualified custodian frameworks. The practical solution is a hybrid model: assets held in traditional custodial accounts with cryptographic linkage to on-chain representations. Atomic delivery-versus-payment across this hybrid layer  where token transfer and cash payment settle simultaneously with finality  eliminates counterparty risk in a way that T+2 conventional settlement structurally cannot.","Third, investor operations at scale. Compliance workflows  KYC checks, transfer restrictions, tax reporting, corporate action processing  must be automated on-chain or the operational cost savings that justify tokenisation never materialise. The institutions succeeding in this space have invested heavily in smart contract standards for regulated securities (ERC-3643 / T-REX being the most widely adopted) and have built direct integrations with transfer agent and registrar systems. The technology is a secondary concern compared to the legal and operational architecture surrounding it."],images:["https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?auto=format&fit=crop&w=1200&q=80"]},{id:4,slug:"on-chain-ai-governance-not-optional",title:"On-Chain AI Governance Is Not a Regulatory Option  It Is a Business Necessity",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-07-22",tags:["AI Governance","Regulation"],cover:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?auto=format&fit=crop&w=800&q=80",excerpt:"The EU AI Act is already in force. Singapore's Model AI Governance Framework is tightening. Enterprises that treat AI accountability as a compliance checkbox will find themselves rebuilding systems under regulatory pressure. Those who build it into the architecture will not.",externalLinks:[{label:"EU AI Act  Official Text",url:"https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32024R1689"},{label:"Singapore Model AI Governance Framework v2",url:"https://www.pdpc.gov.sg/help-and-resources/2020/01/model-ai-governance-framework"}],content:["The EU AI Act entered into force in August 2024. High-risk AI systems  those operating in employment screening, credit assessment, critical infrastructure management, and several other defined categories  face mandatory conformity assessments, risk management obligations, and human oversight requirements with civil and criminal liability attached. This is not pending legislation. It is enforceable law, and its extraterritorial reach means any organisation deploying AI systems that affect EU residents is within scope, regardless of where the AI system is built or hosted.","The foundational requirement that most organisations are architecturally unprepared for is continuous risk documentation. The Act requires that high-risk systems maintain updated technical documentation throughout their operational lifecycle  not just at deployment. Model drift, retraining events, dataset changes, and performance degradations must all be logged against the system's risk profile. For organisations with dozens of production AI models, this is an operational problem at scale, not a documentation exercise.","The on-chain governance model addresses this directly. By committing model version hashes, training dataset attestations, performance benchmark results, and human override logs to a permissioned ledger, organisations create a living compliance record that updates continuously and is verifiable by third-party auditors without requiring access to underlying proprietary systems. This satisfies the Act's transparency and accountability requirements while preserving commercial confidentiality  a balance that document-based compliance frameworks structurally cannot achieve.","Beyond regulatory compliance, the business case is compelling on its own terms. Organisations with verifiable AI governance frameworks are proving faster procurement cycles with regulated enterprise customers, lower insurance premiums on AI liability policies (an emerging and rapidly growing market), and stronger negotiating positions with regulators when issues arise. The architecture that satisfies regulators is also the architecture that builds the institutional trust that differentiates premium AI-driven services. These objectives are identical, not in tension."],images:[]},{id:5,slug:"permissioned-vs-public-blockchain-enterprise",title:"Permissioned vs Public Blockchain: Why the Enterprise Debate Is the Wrong One to Have",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2026-02-10",tags:["Blockchain Architecture","Enterprise Strategy"],cover:"https://images.unsplash.com/photo-1639322537228-f710d846310a?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1639322537228-f710d846310a?auto=format&fit=crop&w=800&q=80",excerpt:"For six years, enterprise blockchain conversations have opened with 'permissioned or public?' It is the wrong starting question. The right question is: what guarantees does your use case actually require  and which topology delivers them at acceptable cost?",externalLinks:[{label:"Hyperledger Fabric Architecture Reference",url:"https://hyperledger-fabric.readthedocs.io/en/release-2.5/arch-ref.html"},{label:"Ethereum Enterprise Alliance Specifications",url:"https://entethalliance.org/technical-documents/"}],content:["The permissioned-versus-public debate dominated enterprise blockchain strategy from 2018 through 2022, and in many organisations it still does. Architecture committees convened, vendors lobbied, pilots were funded, and the conclusion reached was almost always the same: 'we'll use a permissioned ledger because we can't put sensitive data on a public chain.' This conclusion is not wrong. It is just incomplete  and the incompleteness has cost enterprises years of avoidable re-architecture.","The real design question is not about network topology. It is about which guarantees your use case requires across four dimensions: data confidentiality, settlement finality, counterparty trust, and network neutrality. Permissioned ledgers (Hyperledger Fabric, R3 Corda, Quorum) optimise for confidentiality and governance control at the cost of network neutrality  every participant must be known and admitted. Public ledgers (Ethereum, Avalanche, Polygon) provide network neutrality and censorship resistance at the cost of requiring off-chain privacy solutions for sensitive data.","The enterprises that have moved furthest fastest are those that stopped treating this as a binary choice. A hybrid architecture  where sensitive computation and data remain on a private ledger, but settlement finality and cross-counterparty trust anchoring happen on a public chain  delivers the best of both. The pattern is: private channel for business logic and data, public chain for irrefutable timestamping and cross-network interoperability. Both Project Guardian in Singapore and the ECB's wholesale CBDC experiments have converged on variants of this architecture.","Practically, the decision framework should start with the counterparty question: do all participants in this workflow have an existing relationship and regulatory standing that permits admission to a closed network? If yes, permissioned architectures have real advantages in throughput, cost, and governance. If no  if the use case requires transacting with unknown counterparties, integrating with public DeFi infrastructure, or operating across jurisdictions with no bilateral agreements  a public chain or hybrid architecture is not just preferable, it is the only viable option. Architecture follows use case. It has always been that simple."],images:["https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1200&q=80"]},{id:6,slug:"llm-hallucination-financial-services-risk",title:"LLM Hallucination Is a Financial Services Risk  Here Is How to Contain It",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2026-01-28",tags:["AI Risk","Financial Services"],cover:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1611974789855-9c2a0a7236a3?auto=format&fit=crop&w=800&q=80",excerpt:"A large language model that generates a plausible but incorrect ISDA clause, cites a regulation that does not exist, or fabricates a counterparty's credit history is not a novelty problem. It is a liability event waiting to happen. The mitigation architecture is mature  deploying it is not optional.",externalLinks:[{label:"FCA Discussion Paper: AI in Financial Services",url:"https://www.fca.org.uk/publications/discussion-papers/dp24-2-ai-financial-services"},{label:"RAG Architecture  LangChain Documentation",url:"https://python.langchain.com/docs/tutorials/rag/"}],content:["Hallucination  the production of fluent, confident, factually incorrect output by a large language model  is an intrinsic property of current LLM architectures, not a bug that the next model version will fix. For consumer applications, a hallucinated restaurant recommendation is a minor inconvenience. For a wealth manager using an LLM to draft client suitability assessments, a compliance analyst using one to interpret regulatory guidance, or a contract review system processing ISDA master agreements, the error surface is entirely different. The question is not whether hallucination will occur. It is whether your architecture is designed to catch it before it causes harm.","Retrieval-Augmented Generation (RAG) is the foundational mitigation, and it is now mature enough for production deployment. The pattern is straightforward: instead of relying on parametric knowledge embedded in the model's weights during training, the system retrieves relevant documents from a curated, version-controlled corpus at inference time and constrains the model's response to information present in the retrieved context. For financial services, the corpus includes your firm's policies, product documentation, regulatory rulebooks, and approved contract templates. The model's role shifts from knowledge source to reasoning engine. The knowledge source is your own auditable data.","RAG alone is necessary but not sufficient. Three additional controls matter in regulated financial contexts. First, confidence scoring and uncertainty propagation: well-architected systems force the model to express uncertainty explicitly, and downstream processes treat low-confidence outputs as requiring human review rather than automatic processing. Second, citation enforcement: every material claim in a generated output must reference a specific retrieved document, and that reference must be verified as present in the retrieved context before the output is delivered. Third, output validation layers: a separate, lighter model evaluates the primary model's output for regulatory compliance, factual consistency with the retrieved context, and presence of disallowed content. The additional latency is measured in milliseconds. The risk reduction is material.","The governance layer often receives less attention than the technical architecture, but it is equally important. LLM outputs in regulated contexts require clear audit trails: what prompt was sent, what documents were retrieved, what output was generated, what validation checks ran, and what human review occurred if any. These logs are not optional in an environment where regulators expect firms to explain AI-assisted decisions. The firms getting this right are not those with the most sophisticated models. They are the ones that have treated LLM deployment as a risk management exercise from the first day of the project."],images:["https://images.unsplash.com/photo-1551288049-bebda4e38f71?auto=format&fit=crop&w=1200&q=80"]},{id:7,slug:"cbdc-private-sector-infrastructure-opportunity",title:"CBDC Rollouts Are Creating a Private Sector Infrastructure Opportunity Worth Paying Attention To",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-12-19",tags:["CBDC","Digital Finance"],cover:"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1559526324-4b87b5e36e44?auto=format&fit=crop&w=800&q=80",excerpt:"Over 130 central banks are now in active CBDC development. The infrastructure for issuing, distributing, and settling central bank digital currency will not be built by central banks alone. The private sector role is large, specific, and increasingly well-defined.",externalLinks:[{label:"BIS CBDC Tracker",url:"https://www.bis.org/publ/work880.htm"},{label:"MAS Project Ubin+  Wholesale CBDC",url:"https://www.mas.gov.sg/development/fintech/project-ubin"}],content:["Central bank digital currencies are no longer a theoretical construct. The Digital Yuan has processed over $250 billion in transactions. The Bahamas Sand Dollar is in retail circulation. The ECB's digital euro is progressing through a preparation phase with a target launch window in the late 2020s. MAS, the Bank of England, the Fed, and the Reserve Bank of India all have active wholesale CBDC programmes at various stages of design and pilot. The infrastructure question is no longer 'if'  it is 'who builds what, for whom, and on what technical basis.'","Central banks are not technology companies. They will issue CBDC, set policy parameters, and manage the monetary supply  but the distribution, custody, compliance, and end-user experience layers will be built and operated by licensed private sector intermediaries. This is the two-tier CBDC model that nearly every major central bank has converged on, and it creates a well-defined infrastructure mandate for banks, payment service providers, and specialist technology firms.","The specific private sector requirements are substantial. Programmable payment rails need to be built that support the policy constraints embedded in CBDC (expiry conditions, spending restrictions for welfare disbursements, cross-border settlement protocols). Custody systems need to manage CBDC balances in ways that are operationally compatible with existing core banking infrastructure. AML and sanctions screening must be applied to CBDC flows in real time at scale. And for wholesale CBDC  the variant most advanced in Singapore, the UK, and EU pilots  atomic delivery-versus-payment between CBDC and tokenised commercial bank money requires sophisticated smart contract infrastructure that most incumbents do not currently operate.","The opportunity window is now. Central banks are actively selecting technology partners for pilot phases, and the architectural decisions made in pilots tend to persist into production. Institutions that build CBDC-compatible infrastructure in the next 18 months are positioning themselves as mandatory counterparties in the next decade of digital money infrastructure. Those that wait for the standard to fully crystallise before investing will find the specification has been written around their competitors' capabilities."],images:[]},{id:8,slug:"smart-contract-security-enterprise-common-failures",title:"Smart Contract Security: The Four Failure Modes That Keep Costing Enterprises",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-10-14",tags:["Smart Contracts","Security"],cover:"https://images.unsplash.com/photo-1614064641938-3bbee52942c7?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1614064641938-3bbee52942c7?auto=format&fit=crop&w=800&q=80",excerpt:"Over $3.8 billion was lost to smart contract exploits in 2022 alone. The majority of those losses traced back to the same four vulnerability classes  all of which are preventable with current tooling and audit practices. There is no excuse for repeating them.",externalLinks:[{label:"Consensys Smart Contract Best Practices",url:"https://consensys.github.io/smart-contract-best-practices/"},{label:"OpenZeppelin Security Advisories",url:"https://github.com/OpenZeppelin/openzeppelin-contracts/security/advisories"}],content:["Smart contract exploits are not exotic. They are predictable. The Ethereum ecosystem's incident history reads like a recurring syllabus: reentrancy attacks, integer overflow and underflow, oracle manipulation, and access control failures account for the overwhelming majority of funds lost across every significant exploit from The DAO in 2016 to the Ronin bridge in 2022. The persistence of these vulnerabilities is not a reflection of their subtlety  it is a reflection of how few teams treat smart contract deployment with the rigour it demands.","Reentrancy remains the most destructive class despite being the most well-documented. The attack vector is straightforward: a malicious contract calls back into the victim contract before the victim's state has been updated, allowing repeated fund withdrawals against a single balance check. The mitigation  the checks-effects-interactions pattern, combined with reentrancy guard modifiers  is available in every major smart contract library. Contracts that are still vulnerable to reentrancy in 2025 have not been audited by anyone who knows what they are doing.","Oracle manipulation is the failure mode that has grown fastest in financial applications, because financial applications depend most heavily on external price data. If a contract uses an on-chain price oracle as a basis for settlement or collateral valuation, and that oracle can be temporarily manipulated through flash loan attacks or thin-liquidity pools, the contract can be exploited for the duration of a single transaction block. The mitigation requires using time-weighted average prices (TWAPs) rather than spot prices, multiple oracle sources with median aggregation, and circuit breakers that pause execution when price movements exceed defined thresholds.","Access control failures  functions that should be owner-only or role-restricted but are callable by any address  are almost always the result of missing or incorrectly applied modifiers in the contract code. The prevention is not architecturally complex. What prevents it is a systematic audit checklist, a formal threat model that maps every privileged function to its intended caller set, and post-deployment monitoring that alerts on privileged function calls from unexpected addresses. The fourth class, integer arithmetic errors, is now largely mitigated by Solidity 0.8.x's built-in overflow protection and the adoption of audited math libraries  but contracts compiled against older versions or written in alternative languages remain exposed. The audit process must explicitly check compiler version and arithmetic handling as baseline requirements, not optional items."],images:["https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1200&q=80"]},{id:9,slug:"federated-learning-healthcare-finance",title:"Federated Learning in Healthcare and Finance: Where It Works and Where It Breaks",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-08-11",tags:["Federated Learning","AI Infrastructure"],cover:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1576091160550-2173dba999ef?auto=format&fit=crop&w=800&q=80",excerpt:"Federated learning promises collaborative AI without data sharing. In healthcare and financial services  where data is simultaneously the most valuable and most regulated asset  that promise is compelling. But the implementation realities are harder than the whitepapers suggest.",externalLinks:[{label:"Google Research  Federated Learning at Scale",url:"https://research.google/pubs/pub47976/"},{label:"NVIDIA FLARE  Federated Learning Framework",url:"https://developer.nvidia.com/flare"}],content:["Federated learning's core proposition is elegant: instead of aggregating raw data in a central repository to train a shared model, each participant trains a local model on their own data and only shares model updates  gradients or weights  with a central aggregator. The aggregator combines these updates into an improved global model, which is then redistributed. Raw data never leaves its origin. The privacy implications are significant, particularly in contexts where data pooling is legally prohibited or commercially untenable.","Healthcare is the most frequently cited use case, and the promise is genuine. Rare disease diagnosis models trained across twenty hospital networks, each with too few cases for a local model to generalise, can achieve diagnostic accuracy that no single institution could produce independently. Drug interaction discovery across pharmaceutical companies with overlapping but non-shareable clinical trial datasets is another application where federated learning offers genuine value unavailable through any other mechanism. The regulatory tailwind is also real: HIPAA and GDPR both create structural barriers to centralised health data aggregation that federated architectures are explicitly designed to navigate.","The implementation difficulties are substantial, however, and they are underreported in commercial literature. The most acute is statistical heterogeneity. Federated learning assumes that local data distributions are sufficiently similar that gradient averaging produces a coherent global model. In practice, hospital patient populations differ dramatically by geography, demographics, and treatment protocols. Financial institutions have client bases with wildly different risk profiles. When data is highly non-IID (non-independently and identically distributed), naive federated averaging produces global models that are inferior to models trained on any single participant's data. Addressing this requires sophisticated aggregation algorithms  FedProx, SCAFFOLD, FedNova  and careful tuning that most practitioners underestimate.","Communication efficiency and Byzantine robustness are two additional challenges that become critical at production scale. Each round of federated training requires gradient updates to be transmitted between participants and the aggregator, and in networks of dozens or hundreds of participants, this communication overhead is non-trivial. Compression techniques reduce bandwidth requirements but introduce gradient approximation errors that accumulate over training rounds. Byzantine robustness  the ability to train a correct global model even when a minority of participants submit manipulated or incorrect updates, whether through malfunction or adversarial intent  requires robust aggregation algorithms that most off-the-shelf frameworks do not implement by default. Production federated learning deployments in regulated industries need both explicitly engineered."],images:[]},{id:10,slug:"defi-institutional-readiness-2026",title:"DeFi and Institutional Readiness: What Has Changed, What Has Not, and What Needs To",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-06-03",tags:["DeFi","Institutional Finance"],cover:"https://images.unsplash.com/photo-1549421263-6064833b071b?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1549421263-6064833b071b?auto=format&fit=crop&w=800&q=80",excerpt:"In 2021, institutional DeFi participation was largely rhetorical. In 2025, several of the world's largest asset managers have live positions in on-chain liquidity protocols. The gap between 'exploring' and 'operating' is closing  but the remaining gaps are the hardest ones.",externalLinks:[{label:"Aave Arc  Institutional DeFi",url:"https://docs.aave.com/developers/v/2.0/guides/aave-features/aave-arc"},{label:"IOSCO Policy Recommendations for DeFi",url:"https://www.iosco.org/library/pubdocs/pdf/IOSCOPD747.pdf"}],content:["Three developments have materially advanced institutional DeFi participation since 2022. First, permissioned DeFi pools  on-chain liquidity protocols that restrict participation to KYC-verified counterparties  have moved from concept to live infrastructure. Aave Arc, Compound Treasury, and several proprietary institutional venues now allow financial institutions to access DeFi yields and liquidity while maintaining compliance with AML obligations. The yield advantage over traditional money markets, even net of gas costs and operational overhead, has been sufficient to justify the investment in several cases.","Second, the custody infrastructure gap has narrowed significantly. Qualified custodians  Anchorage Digital, Fireblocks with MPC custody, BitGo  now offer institutional-grade custody solutions that satisfy the SEC's custody rule requirements for registered investment advisers, at least in the US context. Custody was the deal-breaker for most institutional programs in 2021; it is no longer an absolute barrier, though it remains operationally complex.","Third, the regulatory framing has clarified enough to permit internal investment decisions in several jurisdictions. MiCA in the EU, the UK's Financial Services and Markets Act amendments, and MAS's DPT framework in Singapore have all created enough regulatory definition that compliance teams can make risk-rated decisions about DeFi exposure rather than treating the entire category as impermissible. The legal uncertainty has not been fully resolved  it has been reduced to a manageable level in specific jurisdictions.","What has not changed is the operational risk profile of the underlying protocols. Smart contract risk, oracle manipulation risk, liquidity fragmentation across chains, and the absence of legal recourse when things go wrong are structural characteristics of permissionless DeFi that institutional risk frameworks cannot simply accept by committee resolution. The institutions operating in this space have accepted that they are taking on novel risks not present in traditional markets, and they have sized their exposures accordingly  treating DeFi allocations as high-risk, high-return positions rather than as substitutes for money market exposure. That framing is correct. The institutions that will get into trouble are those that treat DeFi yields as risk-free simply because the technology is sophisticated."],images:[]},{id:11,slug:"cross-chain-interoperability-bridge-security",title:"Cross-Chain Interoperability: Why Bridges Are the Most Dangerous Infrastructure in Web3",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2026-02-18",tags:["Blockchain Security","Interoperability"],cover:"https://images.unsplash.com/photo-1545987796-200677ee1011?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1545987796-200677ee1011?auto=format&fit=crop&w=800&q=80",excerpt:"Cross-chain bridges have suffered more than $2.5 billion in losses since 2021. The attack surface is unique, the trust assumptions are poorly understood, and the mitigation playbook is only now maturing. Every enterprise building multi-chain infrastructure needs to understand why.",externalLinks:[{label:"Chainlink CCIP  Cross-Chain Protocol",url:"https://chain.link/ccip"},{label:"Uniswap Bridge Assessment Framework",url:"https://uniswap.notion.site/Bridge-Assessment-Process-2f4035f85cf04e10a3c6b29e5a27c1bc"}],content:["Blockchain bridges  the infrastructure that allows assets and data to move between separate blockchain networks  represent the single most exploited category of smart contract infrastructure in existence. The Ronin bridge ($625 million), Wormhole ($320 million), Nomad ($190 million), and Harmony Horizon ($100 million) are not anomalies. They are the predictable consequence of a fundamental security problem that the bridge category has not yet solved: the mechanism that locks assets on a source chain and mints representations on a destination chain creates a concentrated pool of value that can be drained if the trust assumptions underpinning the bridge are violated.","The trust models vary significantly across bridge architectures, and understanding them is essential for any enterprise operating across multiple chains. Lock-and-mint bridges  the most common design  rely on a set of validators or a multisig committee to attest that a lock event occurred on the source chain before authorising a mint on the destination. If those validators are compromised (as in Ronin, where five of nine validator keys were stolen) or the attestation logic is buggy (as in Wormhole, where a signature verification flaw was exploited), the entire locked pool is at risk. The fundamental problem is that the security of assets on both chains is only as strong as the weakest link in the attestation mechanism.","Light client bridges  where the destination chain directly verifies cryptographic proofs of events on the source chain, rather than relying on a trusted attestation committee  represent a significantly more robust architecture. IBC (Inter-Blockchain Communication) in the Cosmos ecosystem and zkBridge implementations using zero-knowledge proofs of source chain state are the most mature examples. The tradeoff is latency and computational cost: generating and verifying cryptographic proofs is slower and more expensive than trusting a multisig. For enterprise applications where security guarantees outweigh cost considerations, this tradeoff is usually worth making.","For teams that must use existing bridge infrastructure rather than building from scratch, the risk mitigation framework has four components: limit the value of assets in transit at any given time, use bridges with the highest validator set size and geographic distribution, implement circuit breakers that pause bridge operations if outflow volumes exceed defined thresholds, and monitor bridge contract balances in real time with automated alerts. None of these controls are exotic. All of them are underdeployed."],images:["https://images.unsplash.com/photo-1558494949-ef010cbdcc31?auto=format&fit=crop&w=1200&q=80"]},{id:12,slug:"ai-model-versioning-enterprise-production",title:"AI Model Versioning in Production: The Unglamorous Problem Nobody Talks About Enough",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2026-02-03",tags:["MLOps","AI Infrastructure"],cover:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1526374965328-7f61d4dc18c5?auto=format&fit=crop&w=800&q=80",excerpt:"Most enterprises can tell you which AI models they have deployed. Very few can tell you which version of each model made which decision last Tuesday, on which dataset version, with which preprocessing pipeline, and what performance metrics were measured at deployment. That gap is not a nice-to-have. It is a liability.",externalLinks:[{label:"MLflow  Open Source MLOps Platform",url:"https://mlflow.org/docs/latest/index.html"},{label:"DVC  Data Version Control",url:"https://dvc.org/doc"}],content:["Model versioning sounds like an MLOps housekeeping concern. In practice, it is the foundation of every downstream capability that makes enterprise AI defensible: reproducibility, auditability, rollback, regulatory explanation, and incident investigation. Organisations that cannot reproduce the exact conditions under which a model made a specific decision cannot explain it to a regulator, cannot definitively diagnose a failure, and cannot confidently roll back to a known-good state when something goes wrong. These are not edge cases. They are the normal operating conditions of any AI system in production at scale.","The versioning problem has four distinct dimensions that must all be addressed coherently. Model artifacts: the serialised weights and architecture definition of the model itself, uniquely identified by content hash, not just a version number. Training data: the exact dataset, including preprocessing transformations, feature engineering steps, and train/validation/test splits, versioned with a tool like DVC so that the lineage from raw data to training-ready tensor is fully traceable. Infrastructure configuration: the compute environment, library versions, hardware specifications, and random seeds used during training. And evaluation metrics: the full performance report generated at training time, stored alongside the artifact and dataset version, so that any future comparison can be made against the same baseline.","The second challenge is lifecycle management: knowing not just what version is currently deployed, but what versions are in shadow mode (receiving traffic but not acting on it), what versions are in canary deployment (receiving a fraction of live traffic), and what versions have been deprecated and should be flagged if they appear in any system. Without a model registry that tracks deployment state alongside version metadata, organisations routinely discover that a model they thought was retired months ago is still making decisions in a subsidiary system that was never properly decommissioned.","The third dimension  and the one most often omitted  is data drift monitoring tied to version history. A model that performed excellently at deployment may degrade significantly as the statistical distribution of its input data shifts over time. Without baselines stored at each model version, there is no reference point for measuring drift. The detection of meaningful drift is what triggers the retraining and redeployment cycle. Without it, model degradation accumulates silently until it manifests as a business problem whose cause is difficult to trace."],images:[]},{id:13,slug:"regulatory-sandboxes-fintech-how-to-use-them",title:"Regulatory Sandboxes for Fintech: How to Use Them Strategically, Not Just Symbolically",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2026-01-07",tags:["Regulation","Fintech Strategy"],cover:"https://images.unsplash.com/photo-1462206092226-f46025ffe607?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1462206092226-f46025ffe607?auto=format&fit=crop&w=800&q=80",excerpt:"MAS, the FCA, DFSA, and ADGM all operate regulatory sandboxes that allow firms to test innovations with real customers under relaxed regulatory requirements. Most companies that enter them leave with a press release and not much else. Here is how to extract actual strategic value.",externalLinks:[{label:"MAS FinTech Regulatory Sandbox",url:"https://www.mas.gov.sg/development/fintech/sandbox"},{label:"FCA Regulatory Sandbox",url:"https://www.fca.org.uk/firms/innovation/regulatory-sandbox"}],content:["Regulatory sandboxes were designed to solve a genuine problem: financial regulation is written for products and business models that exist at the time of writing, and genuinely novel innovations often find themselves in a legal grey zone where compliance requirements are unclear, contradictory, or technically impossible to satisfy. Sandboxes create a supervised space where firms can test innovations with real customers and real money under a bespoke set of conditions agreed with the regulator, without needing to satisfy every requirement of the full regulatory framework from day one. The premise is sound. The execution, in most sandbox cohorts, falls well short of the potential.","The most common failure mode is entering a sandbox as a legitimacy signal rather than as a genuine regulatory learning exercise. A sandbox admission from MAS or the FCA has real brand value  it signals credibility to investors, enterprise customers, and potential partners. But firms that treat sandbox participation as a marketing exercise rather than a structured experiment rarely extract the deeper value: a documented understanding of exactly which regulatory requirements apply to their business model, which can be modified to accommodate the innovation, and which are structural constraints that must be designed around.","Strategic sandbox use has a specific structure. Before application, the firm should prepare a detailed regulatory gap analysis that maps every element of its proposed product against existing rules  identifying precisely which requirements create problems and what waivers or modifications are sought. During the sandbox period, every interaction with the regulator should be treated as primary research: documented, synthesised into policy intelligence, and fed back into product and compliance architecture decisions. At exit, the goal is not simply a licence  it is a defensible regulatory position paper that can accelerate the full authorisation process and establish the firm as a credible counterparty for ongoing regulatory dialogue.","The secondary value of sandbox participation that almost no firm fully exploits is the peer network. Sandbox cohorts are multi-firm environments, and co-participants are typically working on adjacent problems in the same regulatory context. The relationships built in sandbox programmes have produced commercial partnerships, joint regulatory submissions, and industry working groups that outlast the sandbox period by years. The regulator intends this. Firms that treat sandbox as a private bilateral engagement with the authority leave significant value on the table."],images:[]},{id:14,slug:"supply-chain-provenance-blockchain-real-cases",title:"Blockchain-Based Supply Chain Provenance: Separating What Works from the Hype",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-12-02",tags:["Supply Chain","Blockchain"],cover:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1586528116311-ad8dd3c8310d?auto=format&fit=crop&w=800&q=80",excerpt:"Every year since 2017, blockchain has been proclaimed the solution to supply chain opacity. The pilots are real. The scale-up is slower than advertised. Here is an honest assessment of where the technology genuinely adds value, and where the oracle problem keeps getting in the way.",externalLinks:[{label:"GS1  Blockchain in Supply Chain Standards",url:"https://www.gs1.org/industries/healthcare/blockchain"},{label:"EU Deforestation Regulation  Due Diligence Requirements",url:"https://environment.ec.europa.eu/topics/forests/deforestation/regulation-deforestation-free-products_en"}],content:["Supply chain provenance is one of the most commercially compelling blockchain use cases, and one of the most technically constrained. The commercial proposition is straightforward: consumers, regulators, and institutional buyers increasingly require verifiable proof of origin, custody chain, and compliance for everything from pharmaceutical ingredients to conflict minerals to sustainably sourced food. Blockchain  as an append-only, tamper-evident ledger  seems perfectly suited to record this chain of custody in a form that cannot be retroactively altered. The EU Deforestation Regulation, the US Uyghur Forced Labor Prevention Act, and equivalent frameworks in multiple jurisdictions are creating mandatory traceability requirements that make this use case urgent rather than aspirational.","The genuine value blockchain adds in supply chain contexts is specifically in the multi-party, multi-jurisdiction dimension. When a supply chain involves dozens of independent actors  farmers, processors, logistics providers, customs authorities, retailers  none of whom trust each other and none of whom are willing to consolidate their records in any single counterparty's database, a shared distributed ledger with permissioned write access provides a neutral record that no single party controls and all parties can trust. IBM Food Trust, TradeLens (before its discontinuation), and several pharmaceutical track-and-trace networks demonstrated this value proposition convincingly at pilot scale.","The constraint that limits blockchain's effectiveness in supply chains is the oracle problem: the ledger can guarantee that the data entered into it has not been altered since entry, but it cannot guarantee that the data entered accurately reflects physical reality. A record that says a shipment of fish was caught in certified sustainable waters is only as reliable as the process used to create that record at the point of catch. If the IoT sensor was miscalibrated, the inspector was bribed, or the batch number was manually transcribed incorrectly, the blockchain faithfully preserves an inaccurate record with perfect integrity.","The organisations making supply chain provenance work in practice are addressing the oracle problem through three mechanisms: IoT integration with tamper-evident hardware (sensors that sign their own data outputs cryptographically, making post-hoc alteration detectable), third-party physical verification at critical custody transfer points, and statistical sampling protocols that randomly select transactions for deep physical audit. None of these fully eliminate the garbage-in-garbage-out risk, but combined they reduce it to a level where the blockchain's tamper-evidence properties become genuinely valuable. The technology is a necessary component of the solution, not a sufficient one."],images:[]},{id:15,slug:"generative-ai-enterprise-deployment-pitfalls",title:"Five Generative AI Deployment Pitfalls That Enterprise Teams Keep Walking Into",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-11-10",tags:["Generative AI","Enterprise Strategy"],cover:"https://images.unsplash.com/photo-1677442135703-1787eea5ce01?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1677442135703-1787eea5ce01?auto=format&fit=crop&w=800&q=80",excerpt:"The enterprise GenAI deployment wave is generating two things simultaneously: genuine productivity gains and a growing roster of avoidable failures. The failure patterns are consistent enough to be predictable  which means they are also preventable.",externalLinks:[{label:"NIST AI Risk Management Framework",url:"https://www.nist.gov/itl/ai-risk-management-framework"},{label:"Microsoft Responsible AI Standard",url:"https://blogs.microsoft.com/wp-content/uploads/prod/sites/5/2022/06/Microsoft-Responsible-AI-Standard-v2-General-Requirements-3.pdf"}],content:["Pitfall one: deploying general-purpose models for specialised, high-stakes tasks without domain-specific evaluation. A frontier model that scores at expert level on general benchmarks may perform considerably worse on your specific task  because the task involves specialised terminology, edge cases not well-represented in public training data, or requires consistent output formats that the model was not fine-tuned to produce. Before any production deployment in a regulated or high-stakes context, establish a task-specific evaluation set drawn from your own historical data, run the candidate model against it, and set a minimum performance threshold below which deployment does not proceed. This is not a research practice  it is a basic quality control requirement.","Pitfall two: underestimating the prompt engineering and system design workload. Enterprise teams routinely budget two weeks for 'prompt engineering' and discover three months later that they are still refining the system prompt, the context injection strategy, the output parsing logic, and the failure handling. LLM behaviour is sensitive to prompt phrasing in ways that are not fully predictable, and building a production-stable prompting architecture  one that produces consistent outputs across the range of inputs your users will generate  is a substantive engineering exercise. Plan for it accordingly.","Pitfall three: ignoring data governance in RAG pipelines. When a LLM is grounded on internal documents via retrieval-augmented generation, it can surface information from any document it retrieves. If your document corpus contains HR records, confidential deal information, personal data, or other access-controlled content alongside general reference material, a user with legitimate access to the RAG interface may receive information they should not be able to access  because the retrieval system does not enforce the access controls that govern the source documents. Document-level access control in RAG pipelines is a non-trivial engineering problem that must be designed before deployment, not retrofitted after the first data incident.","Pitfall four: conflating 'it works in demo' with 'it works in production.' Demo environments are optimised to show the best-case performance on representative inputs. Production environments expose the system to the full distribution of user inputs, including adversarial prompts, inputs in unexpected languages, malformed data, and edge cases that nobody thought to include in the demo script. A system that impresses a steering committee in a demonstration will encounter all of these in production. The gap between demo performance and production performance in LLM systems is larger and more unpredictable than in traditional software. Budget for it.","Pitfall five: no human-in-the-loop design for high-consequence outputs. In the enthusiasm to demonstrate automation efficiency, teams frequently design workflows where LLM outputs flow directly into consequential actions  sending customer communications, updating records, initiating transactions  without any human review step. The correct design principle is that the consequence class of the output should determine the human oversight requirement. Low-consequence, reversible outputs with high model confidence can reasonably operate autonomously. High-consequence or irreversible outputs  regardless of model confidence  should require human confirmation until the system has demonstrated sustained accuracy at production scale."],images:[]},{id:16,slug:"tokenisation-private-equity-secondaries",title:"Tokenisation Is Coming for Private Equity Secondaries  and It Will Reshape Liquidity",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-10-28",tags:["Tokenisation","Private Markets"],cover:"https://images.unsplash.com/photo-1621264448270-9ef00e88a935?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1621264448270-9ef00e88a935?auto=format&fit=crop&w=800&q=80",excerpt:"Private equity secondaries are a $130 billion annual market built on fax machines, manual cap table reconciliation, and six-month transfer timelines. Tokenisation does not just digitise this workflow  it restructures the economics of secondary market liquidity entirely.",externalLinks:[{label:"Securitize  Digital Securities Platform",url:"https://securitize.io/learn/resources"},{label:"Hamilton Lane Digital Assets Programme",url:"https://www.hamiltonlane.com/en-US/Strategy/SCOPE"}],content:["The private equity secondary market is one of the most operationally antiquated corners of global capital markets. Transfers of LP interests involve manual legal documentation, consent requirements from general partners that can take months to obtain, cap table updates that happen in spreadsheets, and settlement periods that routinely stretch to six months. The friction is so high that secondary market pricing consistently reflects a 1530% discount to NAV  not because the underlying assets are worth less, but because the cost of transferring them is enormous. Tokenisation attacks this discount directly.","The tokenisation thesis for private equity secondaries rests on three operational improvements. First, smart contract-enforced transfer restrictions replace manual GP consent processes: transfer eligibility rules  accredited investor status, jurisdiction restrictions, GP approval requirements  are encoded in the token contract and verified automatically at transfer, reducing a multi-month process to a near-real-time compliance check. Second, on-chain cap tables eliminate the reconciliation burden between LP records, GP records, and transfer agent records that currently creates weeks of back-office work for every secondary transaction. Third, atomic settlement eliminates the counterparty risk that makes buyers and sellers in secondary transactions cautious  the token and the payment exchange simultaneously with finality, with no settlement risk in between.","The operational case is compelling. The legal and regulatory case is more nuanced. LP interests are securities in virtually every major jurisdiction, and their transfer via tokenised instruments requires either that the tokens themselves constitute the legal instrument of ownership (requiring significant legal engineering to ensure the token holder has enforceable rights under the fund's governing documents) or that the tokens represent beneficial interests in a special purpose vehicle that holds the LP interest (a cleaner legal structure but one that adds a layer of complexity and cost). Hamilton Lane, Carlyle, and KKR have all launched tokenised fund vehicles that navigate these questions, and their structures are increasingly becoming reference architectures for the market.","The secondary discount compression that tokenisation enables is not just a benefit to LPs looking to exit  it is a structural improvement in the private equity asset class's attractiveness to new capital. If secondary market liquidity improves from 'technically possible but prohibitively expensive' to 'routinely accessible at fair value,' the risk premium that investors require to hold illiquid private assets decreases. This expands the investor base for private equity, lowers the cost of capital for GPs, and improves returns for the underlying portfolio companies. The impact compounds across the entire asset class."],images:[]},{id:17,slug:"cyber-resilience-financial-infrastructure-dora",title:"DORA Is Forcing a Rethink of Cyber Resilience Architecture Across European Finance",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-09-22",tags:["Cybersecurity","Regulation"],cover:"https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1563986768609-322da13575f3?auto=format&fit=crop&w=800&q=80",excerpt:"The Digital Operational Resilience Act entered application in January 2025. For financial entities operating in the EU, it imposes the most detailed and prescriptive ICT risk management requirements in financial regulation history. Most institutions are further behind than they believe.",externalLinks:[{label:"DORA  Official EU Regulation Text",url:"https://eur-lex.europa.eu/legal-content/EN/TXT/?uri=CELEX:32022R2554"},{label:"EBA DORA Implementation Guidelines",url:"https://www.eba.europa.eu/regulation-and-policy/operational-resilience/digital-operational-resilience-act-dora"}],content:["The Digital Operational Resilience Act (DORA) entered application across EU financial entities in January 2025, after a two-year implementation period that most institutions used less effectively than they should have. DORA is not an incremental update to existing cyber risk frameworks  it is a comprehensive rearchitecting requirement covering ICT risk management, incident reporting, digital operational resilience testing, ICT third-party risk management, and information sharing. For firms that treated the implementation period as a documentation exercise rather than a substantive operational change programme, 2025 will be an uncomfortable year of supervisory scrutiny.","The requirement that is creating the most operational pain is the ICT third-party risk management regime. DORA requires financial entities to maintain a register of all ICT third-party service providers, classify them by criticality, conduct due diligence proportionate to their criticality classification, include mandatory contractual provisions in all ICT service agreements (including audit rights, SLA requirements, and termination provisions), and for critical third parties, conduct oversight assessments. For large financial institutions with hundreds of ICT vendors across multiple business lines, this creates an immediate inventory and classification challenge that is more complex than it appears: many firms do not have a single authoritative view of their ICT vendor landscape at the necessary level of granularity.","The threat-led penetration testing (TLPT) requirement is the most technically demanding new obligation. DORA requires significant financial entities to conduct TLPT exercises  structured penetration tests that simulate realistic threat actor behaviour against live production systems, not just test environments  at least every three years, using TIBER-EU or equivalent methodology. Unlike conventional penetration tests, TLPT exercises involve the regulator in scoping and validation, require red team testers with specific credentials, and must cover critical functions across the full technology stack including cloud infrastructure and third-party systems. Many firms have limited prior experience with this methodology and are discovering that their testing programmes must be substantially upgraded.","The incident reporting timeline requirements  which mandate initial notification to regulators within four hours of classifying an incident as major, intermediate reports within 72 hours, and final reports within one month  require incident response processes that are better instrumented and faster than those most institutions currently operate. The four-hour notification window in particular is forcing firms to automate significant portions of the incident triage and classification process, since manual processes are too slow to consistently meet the threshold. The investments required are material; the alternative is supervisory action."],images:["https://images.unsplash.com/photo-1510511459019-5dda7724fd87?auto=format&fit=crop&w=1200&q=80"]},{id:18,slug:"natural-language-interfaces-enterprise-data",title:"Natural Language Interfaces for Enterprise Data: The Promise, the Plumbing, and the Risk",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-08-27",tags:["Generative AI","Data Infrastructure"],cover:"https://images.unsplash.com/photo-1551650975-87deedd944c3?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1551650975-87deedd944c3?auto=format&fit=crop&w=800&q=80",excerpt:"Text-to-SQL has matured enough that non-technical business users can now query enterprise data warehouses in natural language. The technology is real. The governance and data quality requirements it exposes are brutal  and most enterprises are not ready for them.",externalLinks:[{label:"DuckDB  In-Process Analytical Database",url:"https://duckdb.org/docs/"},{label:"Spider Benchmark  Text-to-SQL Evaluation",url:"https://yale-lily.github.io/spider"}],content:["The vision of asking your data warehouse a question in plain English and receiving a correct, grounded answer has been approximately two years away for about a decade. It is now, for the first time, genuinely within reach. Text-to-SQL capabilities in frontier models have improved from roughly 60% accuracy on standard benchmarks in 2021 to above 85% accuracy on comparable tests in 2024, and the production systems that pair these models with well-structured semantic layers and retrieval-augmented schema context are performing at levels that make deployment in business user-facing tools credible.","The technical architecture for production natural language data access has three mandatory components. First, a semantic layer: a business-logic abstraction above the raw database schema that maps technical table and column names to business-meaningful concepts, enforces metric definitions, and pre-joins common data relationships. Without a semantic layer, even a highly capable model will generate syntactically valid SQL that is semantically wrong  a query that returns a number but not the number the user intended. Second, schema context injection: at query time, the relevant portions of the semantic layer must be retrieved and included in the model's context window, so the model generates SQL against your actual schema rather than hallucinating plausible-sounding column names. Third, SQL validation and sandboxed execution: before any query is executed against production data, it must be validated for safety (no mutations, no access to restricted tables), and the execution environment must be isolated from write-sensitive systems.","The governance requirements that natural language data access exposes are frequently underestimated. If any user can query any data they can articulate in words, the assumption that column-level access controls in the database are sufficient is immediately false. A user who cannot directly SELECT from a compensation table may be able to ask 'what is the average salary of employees in the Singapore office who joined after 2022' and receive an answer that indirectly reveals individual compensation data through small-group statistics. Differential privacy techniques and output filtering rules must be implemented at the natural language interface layer, not just at the database layer.","The data quality problem is equally acute. Natural language interfaces dramatically increase the visibility of data quality issues by making data accessible to users who previously never interacted with it directly. When a business analyst who previously only saw curated BI dashboards can now query raw tables, they discover missing values, inconsistent identifiers, duplicated records, and definitional inconsistencies that the data engineering team has quietly managed around for years. This is ultimately positive  it creates pressure for data quality investment that had previously been invisible  but in the short term it generates significant support burden and can undermine confidence in the AI system if the users attribute data quality problems to the natural language interface rather than the underlying data."],images:[]},{id:19,slug:"stablecoin-institutional-treasury-use-cases",title:"Stablecoins in Institutional Treasury: From Speculation to Settlement Infrastructure",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-07-15",tags:["Stablecoins","Digital Finance"],cover:"https://images.unsplash.com/photo-1620321023374-d1a68fbc720d?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1620321023374-d1a68fbc720d?auto=format&fit=crop&w=800&q=80",excerpt:"The $160 billion stablecoin market is no longer primarily a crypto-native instrument. Institutional treasury teams are using fully-reserved, regulated stablecoins for cross-border settlement, intraday liquidity management, and tokenised collateral. The use cases are well-defined. The regulatory clarity is arriving.",externalLinks:[{label:"MAS Stablecoin Regulatory Framework",url:"https://www.mas.gov.sg/news/media-releases/2023/mas-finalises-regulatory-framework-for-stablecoins"},{label:"UK Payments and Stablecoins Regulation",url:"https://www.fca.org.uk/firms/cryptoassets/stablecoins"}],content:["The association of stablecoins with retail crypto speculation is increasingly inaccurate as a description of where stablecoin volume is actually being generated. In 2024, the majority of USDC and USDT transaction volume by value originated from institutional and corporate treasury operations: cross-border payments avoiding correspondent banking fees and delays, collateral posting in tokenised derivatives markets, and settlement of tokenised asset transactions where neither party wants to wait for conventional wire settlement. Circle's institutional client base  which includes major US corporates, asset managers, and fintechs  is growing at a rate that reflects genuine treasury utility, not speculative positioning.","The cross-border payment use case is the most immediately compelling for corporate treasurers. A payment from Singapore to Brazil via conventional correspondent banking takes 24 business days, involves 34 intermediary banks each charging fees, and arrives in an amount different from what was sent due to correspondent fees that are not disclosed in advance. The same payment via a regulated stablecoin rail  USDC from a Singapore-regulated custodian to a Brazilian payment service provider that converts to BRL  settles in minutes with transparent, predictable fees. For companies making frequent cross-border payments in corridors where correspondent banking is expensive or slow, the TCO difference is measurable in basis points annually and the operational simplification is significant.","The intraday liquidity management use case is more sophisticated but equally valuable for the right institutions. Treasury teams at large corporates and financial institutions routinely face intraday liquidity mismatches: outflows early in the business day that need to be funded before inflows arrive later. Conventional solutions involve credit lines or intraday overdraft facilities with correspondent banks  expensive options that tie up credit capacity. Stablecoins held in programmable wallets can be deployed as intraday collateral, released automatically when inbound flows arrive, and managed algorithmically without human intervention. The capital efficiency improvement is meaningful for high-volume treasury operations.","The regulatory environment for institutional stablecoin use is the most favourable it has been. MAS finalised its stablecoin framework in 2023, requiring single-currency stablecoins above SGD 5 million in circulation to be issued by MAS-licensed entities with full reserve backing and monthly attestations. The UK's Financial Services and Markets Act 2023 brought stablecoins within the FCA's regulatory perimeter. MiCA in the EU applies a comprehensive licensing regime to e-money tokens. These frameworks are not obstacles  they are the clarity that corporate treasury and risk committees need to approve stablecoin use at scale. The regulatory uncertainty that prevented institutional adoption has materially diminished."],images:[]},{id:20,slug:"on-device-ai-edge-enterprise-security",title:"On-Device AI at the Enterprise Edge: When Cloud Is Not an Option",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-06-18",tags:["Edge AI","AI Infrastructure"],cover:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=800&q=80",excerpt:"Latency requirements below 10 milliseconds, data sovereignty regulations that prohibit cloud transmission, and air-gapped operational environments are making on-device AI not just preferable but mandatory for a growing set of enterprise use cases. The hardware and software stack to support it has finally arrived.",externalLinks:[{label:"NVIDIA Jetson for Industrial Edge AI",url:"https://www.nvidia.com/en-us/autonomous-machines/embedded-systems/"},{label:"Apple Neural Engine Technical Documentation",url:"https://machinelearning.apple.com/research/neural-engine-transformers"}],content:["The default assumption in enterprise AI deployment is that inference happens in the cloud: a request is sent to an API endpoint, the model processes it on remote compute infrastructure, and the result is returned. This assumption is valid for a wide range of use cases and is often the lowest-cost, fastest-to-deploy option. It is not valid for use cases with sub-10ms latency requirements (real-time industrial process control, high-frequency trading signal generation, autonomous vehicle decision systems), data sovereignty constraints that prohibit transmitting specific data classes to remote infrastructure (classified defence applications, patient health data in certain jurisdictions, biometric processing under GDPR), or operational environments where reliable internet connectivity cannot be guaranteed (maritime operations, remote mining, critical infrastructure with intentional air gaps).","The hardware availability for serious on-device inference has changed significantly in the past three years. NVIDIA's Jetson Orin platform provides up to 275 TOPS of INT8 inference performance in an embedded form factor  sufficient to run large convolutional networks and mid-sized language models in real time. Apple's M-series and A-series neural engines run models of up to 7 billion parameters in quantised form with competitive energy efficiency. Qualcomm's Snapdragon X Elite includes NPU hardware targeting enterprise laptop workloads. These platforms have moved on-device AI from 'viable for simple classification tasks' to 'viable for a meaningful range of production workloads including document processing, anomaly detection, and conversational interfaces.'","Model compression is the discipline that bridges the gap between what cloud infrastructure can run and what edge hardware can support. The three primary techniques  quantisation (reducing numerical precision from float32 to int8 or int4), pruning (removing weights that contribute minimally to output quality), and knowledge distillation (training a smaller model to replicate the behaviour of a larger one)  can collectively reduce model size by 1020x with performance degradation of 25% on well-structured tasks. The key qualifier is 'well-structured': compression techniques work best when the deployment task is narrowly defined and the training distribution closely matches the inference distribution. General-purpose models at the edge remain challenging; task-specific models are increasingly practical.","The operational infrastructure for edge AI deployment  model update management, monitoring without cloud connectivity, federated learning for model improvement without centralising data  is less mature than the inference hardware and deserves more attention than it typically receives. A fleet of edge AI devices that cannot be updated when a model needs retraining, cannot report performance metrics to a central system for drift detection, and cannot participate in a collective model improvement programme will degrade over time in ways that are difficult to detect. The architecture of an edge AI deployment should be designed with update and monitoring infrastructure as first-class requirements, not afterthoughts added once the inference pipeline is working."],images:[]},{id:21,slug:"digital-identity-self-sovereign-enterprise",title:"Self-Sovereign Identity: What It Means for Enterprise KYC and Onboarding",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-05-20",tags:["Digital Identity","Compliance"],cover:"https://images.unsplash.com/photo-1633265486064-086b219458ec?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1633265486064-086b219458ec?auto=format&fit=crop&w=800&q=80",excerpt:"Every enterprise that onboards clients, employees, or counterparties runs some version of identity verification. The current process is expensive, slow, duplicative, and creates enormous concentrations of sensitive personal data. Self-sovereign identity redesigns it from first principles.",externalLinks:[{label:"W3C Decentralised Identifiers Specification",url:"https://www.w3.org/TR/did-core/"},{label:"eIDAS 2.0  EU Digital Identity Framework",url:"https://digital-strategy.ec.europa.eu/en/policies/eudi-wallet"}],content:["The current state of enterprise identity verification is a compounding inefficiency. A single individual may complete full KYC verification with their bank, their broker, their insurer, their employer's payroll provider, and three different technology platforms  each time submitting the same passport scan, proof of address, and tax identification information to a different institution that then stores a copy, creates a liability for a data breach, and bears ongoing maintenance cost. The global cost of KYC compliance is estimated at over $50 billion annually. The user experience is consistently poor. The security outcome is a distributed archipelago of sensitive identity data held by institutions who would prefer not to hold it.","Self-sovereign identity (SSI) reframes the architecture entirely. Instead of identity information living in institutional databases, it lives in a digital wallet controlled by the individual. Verifiable credentials  digitally signed attestations from authoritative issuers (government identity authorities, banks, professional licensing bodies)  are issued to the wallet once and can be presented selectively to any relying party that accepts them. The relying party receives a cryptographic proof that the credential is valid and was issued by a trusted authority, without receiving or storing the underlying personal data. The individual controls what is shared, with whom, and for how long.","The enterprise implications are significant across multiple functions. For KYC and AML onboarding in financial services, SSI allows an institution to verify that a customer has been KYC-verified by another licensed financial institution without receiving or storing the customer's personal data  satisfying the regulatory requirement without creating the data liability. For employee onboarding, verified credentials from universities and previous employers can be presented and cryptographically verified in hours rather than weeks. For B2B counterparty onboarding, legal entity credentials (incorporating documents, beneficial ownership information, licences) can be issued by registrars and presented by companies to any counterparty that requires them.","The infrastructure is arriving. eIDAS 2.0 mandates that EU member states issue digital identity wallets to all citizens by 2026. Singapore's Singpass digital identity platform is already widely used for both personal and corporate identity verification. The W3C's Decentralised Identifier (DID) and Verifiable Credential (VC) specifications are stable and widely implemented. For enterprises building identity infrastructure today, designing against these standards  rather than proprietary identity schemes  ensures compatibility with the emerging public digital identity infrastructure that will form the backbone of digital commerce over the next decade."],images:[]},{id:22,slug:"ai-for-financial-crime-detection-limits",title:"AI for Financial Crime Detection: Where It Outperforms Rules and Where It Fails",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-04-14",tags:["AI","Financial Crime"],cover:"https://images.unsplash.com/photo-1605792657660-596af9009e82?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1605792657660-596af9009e82?auto=format&fit=crop&w=800&q=80",excerpt:"AML rule-based systems generate false positive rates above 95% at most financial institutions. AI can reduce this dramatically  but the regulatory validation requirements, the explainability demands, and the adversarial dynamics of financial crime make it harder to deploy well than most vendors acknowledge.",externalLinks:[{label:"FATF Guidance on AI and AML/CFT",url:"https://www.fatf-gafi.org/en/publications/Fatfrecommendations/Guidance-responsible-ai-aml-cft.html"},{label:"FinCEN AML/CFT National Priorities",url:"https://www.fincen.gov/sites/default/files/2021-06/AML_CFT%20Priorities%20(June%2030%2C%202021).pdf"}],content:["The financial crime detection status quo is expensive and ineffective in a specific, measurable way. Rule-based transaction monitoring systems at major financial institutions generate alert volumes where 9599% of alerts, on investigation, turn out to be false positives. Compliance teams are overwhelmed by the volume, the quality of genuine suspicious activity reports (SARs) is degraded by alert fatigue, and the operational cost of investigating false positives is a significant line item in compliance budgets. The rule-based systems are not wrong to generate these alerts  the rules are designed conservatively because the cost of a missed true positive (a regulatory fine, a reputational event) is perceived as worse than the cost of a false positive (an investigation). But the practical consequence is a system that functions poorly.","Machine learning applied to transaction monitoring offers a genuine improvement on this baseline. Supervised models trained on labelled historical alert data  combined with graph analytics on counterparty networks and unsupervised anomaly detection for emerging typologies  consistently achieve false positive rate reductions of 3060% against rule-based baselines in controlled validation studies, without reducing detection of confirmed suspicious activity. The efficiency gain is material: if a compliance team currently investigates 10,000 alerts per month to find 100 genuine suspicious transactions, a 50% false positive reduction means they find the same 100 genuine transactions while investigating 5,000 fewer alerts.","The deployment challenge is not primarily technical. It is regulatory. Financial regulators require that AML monitoring systems be explainable: compliance officers must be able to articulate why a specific transaction was flagged, in terms that are comprehensible to a human reviewer and defensible to an examiner. This requirement creates significant friction for the deployment of complex ML models, which produce accurate classifications but not easily interpretable reasoning. The practical resolution is a hybrid architecture: ML models generate a risk score and flag the factors that contributed most to the score (the top features from a SHAP analysis, for example), which are then presented to the human reviewer as the 'reason codes' for the alert. This satisfies the explainability requirement without requiring the reviewer to understand the underlying model.","The adversarial dynamic is the challenge that separates AML from most other classification problems. Financial criminals adapt. When a new ML model reduces the detection rate for a specific typology, sophisticated actors observe the change in enforcement patterns and modify their behaviour to avoid the new detection threshold. Models trained on historical data will drift as adversaries adapt, and the training cadence must account for this. The most resilient AML AI systems are those that continuously ingest new confirmed case data, retrain on a regular schedule, and include ongoing red-team exercises where the model is explicitly tested against adversarially constructed transactions designed to evade detection."],images:[]},{id:23,slug:"quantum-computing-cryptography-enterprise-timeline",title:"Quantum Computing and Cryptography: The Enterprise Transition Timeline Nobody Wants to Think About",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-03-05",tags:["Quantum Computing","Cryptography"],cover:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1635070041078-e363dbe005cb?auto=format&fit=crop&w=800&q=80",excerpt:"A cryptographically relevant quantum computer  one capable of breaking RSA-2048 or elliptic curve cryptography at practical scale  is estimated to be 1015 years away by most credible research organisations. The transition to post-quantum cryptography takes 1015 years for large institutions. The planning window is now.",externalLinks:[{label:"NIST Post-Quantum Cryptography Standards",url:"https://www.nist.gov/publications/nist-post-quantum-cryptography-standards"},{label:"NCSC Guidance  Preparing for Quantum-Safe Cryptography",url:"https://www.ncsc.gov.uk/whitepaper/next-steps-preparing-quantum-safe-cryptography"}],content:["The threat timeline for quantum computing is genuinely uncertain, and that uncertainty is frequently used as a justification for deferring preparation. This reasoning is backwards. The specific property of quantum-vulnerable cryptographic systems that makes early action essential is the 'harvest now, decrypt later' attack vector: adversaries can capture encrypted data today and store it until a sufficiently powerful quantum computer is available to decrypt it. For data with a long confidentiality horizon  state secrets, long-term financial contracts, health records, intellectual property  the relevant question is not 'when will a cryptographically relevant quantum computer exist?' but 'how long does this data need to remain confidential?' If the answer is 15 years or more, the quantum threat is already relevant today.","NIST finalised its first post-quantum cryptographic (PQC) standards in August 2024: ML-KEM (formerly CRYSTALS-Kyber) for key encapsulation, and ML-DSA (formerly CRYSTALS-Dilithium) and SLH-DSA (formerly SPHINCS+) for digital signatures. These algorithms are designed to be secure against both classical and quantum attack, and their publication marks the beginning of the enterprise transition period in earnest. The US government has directed federal agencies to begin PQC migration immediately; financial regulators in several jurisdictions have issued guidance indicating that PQC readiness will be a supervisory topic.","The transition challenge for large enterprises is not algorithmic  the NIST-standardised algorithms are well-implemented in major cryptographic libraries. It is operational. A comprehensive PQC migration requires a complete cryptographic inventory: identifying every system, protocol, data flow, and stored credential that uses quantum-vulnerable algorithms (RSA, ECC, Diffie-Hellman). For a large financial institution, this inventory spans hundreds of systems across trading platforms, core banking, authentication infrastructure, encrypted data archives, hardware security modules, and partner connectivity. Most institutions that have begun this exercise find their cryptographic footprint is 35 times larger than their initial estimates suggested.","The transition also requires careful management of hybrid operation  running quantum-resistant and classical algorithms in parallel during the migration period to maintain interoperability with systems that have not yet been migrated. Hybrid key exchange protocols, where both a classical and a post-quantum algorithm contribute to the session key, are the recommended approach for TLS and similar protocols during the transition. The migration to PQC is less urgent than some vendors' marketing suggests, but it is more urgent than most enterprise security roadmaps currently reflect. The organisations that begin their cryptographic inventory and prioritisation work now will have manageable migration programmes. Those that begin in 2030 will not."],images:[]},{id:24,slug:"blockchain-carbon-credit-market-integrity",title:"Blockchain and Carbon Credit Market Integrity: Fixing a Market Designed to Be Gamed",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-01-28",tags:["Sustainability","Blockchain"],cover:"https://images.unsplash.com/photo-1473448912268-2022ce9509d8?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1473448912268-2022ce9509d8?auto=format&fit=crop&w=800&q=80",excerpt:"The voluntary carbon market was rocked by a series of integrity scandals in 2023 that revealed systemic double-counting, phantom projects, and certification fraud at scale. Blockchain infrastructure addresses the specific vulnerabilities that enabled these failures  but only if applied to the right part of the problem.",externalLinks:[{label:"Verra VCS Programme  Carbon Standard",url:"https://verra.org/programs/verified-carbon-standard/"},{label:"ICVCM Core Carbon Principles",url:"https://icvcm.org/core-carbon-principles/"}],content:["The voluntary carbon market integrity crisis of 2023 had a specific technical cause that tends to be obscured in the broader narrative about certification standards and institutional failures. The registries that track carbon credit issuance, ownership, and retirement  Verra, Gold Standard, ACR, and others  are independent, siloed databases that have no systematic mechanism for cross-registry reconciliation. A project developer who is less than scrupulous can, in principle, have the same carbon abatement certified and issued as credits by multiple registries simultaneously. Without a shared, authoritative ledger of which credits exist and who holds them, double-counting is detectable only through manual audit and good-faith voluntary disclosure.","Blockchain technology addresses this specific vulnerability precisely. An on-chain carbon credit registry  where each credit is a unique, non-fungible token issued by a single authorised minting authority, transferred through documented custody chains, and permanently retired through an on-chain burn transaction  eliminates double-issuance and double-counting by construction. It is not possible to issue the same carbon unit as two separate tokens on the same ledger, and it is not possible to retire a token that has already been retired. The Integrity Council for the Voluntary Carbon Market (ICVCM) and several major registry operators are actively evaluating or piloting tokenised credit infrastructure for exactly this reason.","The oracle problem applies here as well, and it is the more difficult half of the integrity challenge. Blockchain eliminates double-counting in the registry layer, but it does not guarantee that the underlying project actually achieved the emissions reductions it claimed. A hydroelectric project that displaces fossil fuel generation in one jurisdiction but causes deforestation for its reservoir in another can be legitimately issued credits under current methodologies without the net climate benefit being accurately measured. This is a methodology and physical measurement challenge, not a ledger challenge. IoT sensors in project sites, satellite monitoring of land use change, and independent verification protocols address it  but none of these are blockchain applications. The technology can fix the market infrastructure. Fixing the underlying measurement standards requires different tools.","For corporates with material carbon offsetting programmes, the practical implication is that blockchain-registered credits should be regarded as superior to conventionally registered credits specifically because of the double-counting risk reduction  but only when the underlying project quality and additionality have been verified by a recognised third-party standard that addresses the physical measurement challenge. A tokenised credit from a poorly-designed project is a worse carbon asset than a conventional credit from a well-designed one. The registry mechanism and the project quality are independent dimensions of credit integrity, and both must be evaluated."],images:[]},{id:25,slug:"agentic-ai-multi-agent-orchestration",title:"Multi-Agent AI Orchestration: Designing Systems That Stay Under Control",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-02-11",tags:["AI Agents","AI Infrastructure"],cover:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?auto=format&fit=crop&w=800&q=80",excerpt:"Multi-agent AI systems  where specialist models collaborate on complex tasks, passing context between them and taking actions in the world  are arriving in production faster than the control infrastructure to manage them. The architectural decisions you make at the start determine how much control you retain as the system scales.",externalLinks:[{label:"AutoGen  Multi-Agent Conversation Framework",url:"https://microsoft.github.io/autogen/docs/Getting-Started"},{label:"LangGraph  Stateful Multi-Agent Orchestration",url:"https://langchain-ai.github.io/langgraph/"}],content:["The agentic AI paradigm  where an AI system does not merely respond to a query but takes sequences of actions, uses tools, invokes other AI systems, and modifies state in the real world  is the most significant shift in enterprise AI deployment since the introduction of transformer-based models. A single-agent system that can browse the web, write and execute code, query databases, send emails, and call APIs is qualitatively different from a model that generates text. A multi-agent system where dozens of specialised agents collaborate on a complex task, each with their own tool access and decision-making authority, requires a level of architectural discipline that most enterprise AI teams are not yet applying.","The fundamental control challenge in multi-agent systems is permission scope. Each agent in a pipeline has some set of tools and capabilities available to it. In poorly designed systems, agents are granted broad permissions because it is easier to give an agent everything it might need than to carefully scope what it actually needs for each task. The consequence is that errors, misunderstandings, or adversarial manipulation at any point in the agent pipeline can propagate into consequential actions with broad blast radius. The principle of least privilege  granting each agent only the specific capabilities required for its assigned subtask, and constraining those capabilities to the specific resources relevant to the current task instance  is not optional in production multi-agent systems.","State management and context passing between agents creates the second class of control failures. When agent A completes a subtask and passes its output to agent B, the receiving agent typically cannot verify that agent A's output is accurate, complete, or free of manipulation. In a long multi-agent pipeline, errors compound: an incorrect assumption in step three propagates through steps four through twelve, and the final output may be confidently wrong in ways that are very difficult to trace back to the root cause. The mitigation is explicit validation gates between pipeline stages, where structured outputs from one agent are validated against a schema and sanity-checked before being passed to the next stage.","Human-in-the-loop design for agentic systems is more nuanced than for single-model deployments. It is not practical to require human approval for every intermediate step in a complex multi-agent pipeline  the efficiency gains of automation disappear entirely. The correct design principle is consequence-gated escalation: actions below a defined consequence threshold (reading data, generating drafts, analysing options) proceed automatically; actions above the threshold (sending external communications, modifying production data, executing transactions, deleting records) require explicit human confirmation. The threshold definition is a business decision that must be made deliberately before deployment, not reactively after the first incident."],images:[]},{id:26,slug:"blockchain-trade-finance-letter-of-credit",title:"Blockchain-Based Trade Finance: Why Letters of Credit Are Still Mostly Paper",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2025-01-09",tags:["Trade Finance","Blockchain"],cover:"https://images.unsplash.com/photo-1568515045052-f9a854d70bfd?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1568515045052-f9a854d70bfd?auto=format&fit=crop&w=800&q=80",excerpt:"The letter of credit  a 700-year-old instrument that underpins roughly $2.5 trillion of annual trade  still largely operates on paper and fax. Multiple well-funded blockchain platforms have tried to change this and struggled. Understanding why illuminates exactly what it takes to digitise multi-party financial infrastructure.",externalLinks:[{label:"ICC Digital Standards Initiative",url:"https://www.dsi.icc.org/"},{label:"MLETR  Model Law on Electronic Transferable Records",url:"https://uncitral.un.org/en/texts/ecommerce/modellaw/electronic_transferable_records"}],content:["The letter of credit (LC) is a study in multi-party coordination complexity. A typical LC transaction involves a buyer, a seller, an issuing bank (buyer's bank), a confirming or advising bank (seller's bank), a shipping company, an inspection agency, and often a customs authority  each party in a different country, operating under different legal jurisdictions, with different internal systems, and with no pre-existing technology integration. The paper LC endures because paper is the one format that every party in this chain can receive, validate, and act on without any technology integration. Its persistence is not inertia. It is interoperability.","The blockchain platforms that attempted to digitise trade finance  Voltron (now Contour), We.Trade, Maersk TradeLens  all recognised the coordination problem and attempted to solve it by building shared platforms that all parties would join. The logic is sound: if all participants are on the same platform, the interoperability problem is solved by standardisation rather than integration. The commercial challenge proved intractable: getting banks, shipping companies, and corporates across multiple jurisdictions to standardise on any single platform required a level of industry coordination that commercial competitive dynamics made very difficult to achieve. TradeLens was discontinued in 2022 explicitly because achieving the level of industry adoption required to make the network valuable proved too difficult.","The digital LC infrastructure that is actually gaining traction takes a different approach: rather than requiring all parties to adopt a common platform, it creates legal and technical standards that allow existing systems to interoperate. The ICC's Digital Standards Initiative (DSI) is developing harmonised data standards for trade documents that allow electronic documents to be recognised across jurisdictions. UNCITRAL's Model Law on Electronic Transferable Records (MLETR), adopted into law in Singapore, the UK, and several other jurisdictions, gives electronic documents the same legal status as paper originals when they meet specific functional equivalence requirements. These legal foundations enable digital trade finance instruments that work with existing banking infrastructure rather than requiring its replacement.","The practical implication for financial institutions is that the near-term opportunity in digital trade finance is not in building or joining shared blockchain platforms. It is in implementing MLETR-compliant electronic document handling, connecting to DSI-compatible data standards, and selectively using distributed ledger technology for the specific coordination problems where it provides measurable value: multi-party document reconciliation, automated compliance checking against sanctions lists and trade controls, and real-time visibility into shipment and document status for all authorised parties. Incremental digitisation against open standards will prove more durable than platform-dependent transformation."],images:[]},{id:27,slug:"enterprise-data-mesh-ai-readiness",title:"Data Mesh Architecture and AI Readiness: Why Your Domain Teams Need to Own Their Data",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2024-12-17",tags:["Data Architecture","AI Infrastructure"],cover:"https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?auto=format&fit=crop&w=800&q=80",excerpt:"Centralised data warehouses create AI bottlenecks. Data mesh distributes ownership to the domain teams that understand the data best  and that organisational shift turns out to be as important for AI capability as the technical architecture beneath it.",externalLinks:[{label:"Zhamak Dehghani  Data Mesh Principles",url:"https://martinfowler.com/articles/data-mesh-principles.html"},{label:"dbt  Data Transformation Framework",url:"https://docs.getdbt.com/docs/introduction"}],content:["The centralised data warehouse model served enterprise analytics well for two decades. Business intelligence teams extracted data from operational systems, transformed it into a consistent schema, loaded it into a central repository, and made it available to analysts through reporting layers. This model has a fundamental scaling limitation: the data engineering team at the centre becomes a bottleneck for every data consumer in the organisation. As AI use cases multiply and the number of distinct data products required by different teams grows, the queue for central data engineering capacity grows faster than the team can scale.","Data mesh addresses this by inverting the ownership model. Rather than a central team owning all data products, each business domain  customer operations, risk, trading, product, finance  owns and operates the data products it is best positioned to produce. The customer operations team owns the customer 360 data product. The risk team owns the credit exposure data product. Each domain team treats their data products as infrastructure with SLAs, documentation, quality metrics, and versioning  not as outputs of ad-hoc transformation pipelines. The central data platform team shifts from owning all pipelines to providing the self-service infrastructure that enables domain teams to build and operate their own.","The AI readiness dimension of data mesh is often understated. The quality problem that most AI projects encounter is not a modelling problem  it is a data quality and data access problem. Models trained on poorly documented, inconsistently defined, or ungoverned data produce inconsistent results that are difficult to debug and impossible to trust in production. When data products are owned by domain teams who understand the business meaning of the data, who are accountable for its quality through SLAs, and who have incentives to keep it accurate and well-documented, the data quality baseline that AI teams inherit is fundamentally higher. The domain expertise embedded in the data product  the transformation logic, the business rules, the known edge cases  is captured in code rather than in the heads of individual engineers.","The organisational challenge is the hardest part. Data mesh requires domain teams to treat data as a product responsibility alongside their primary functional responsibilities  and this requires both capability investment (hiring or upskilling data engineers within domain teams) and incentive alignment (making domain teams accountable for the quality and availability of their data products). Organisations that attempt to implement data mesh as a pure technical architecture change, without the corresponding organisational changes, typically find that the domain-owned pipelines are built but not maintained, SLAs are nominal rather than enforced, and the quality improvement that motivated the migration does not materialise."],images:[]},{id:28,slug:"private-credit-automation-ai-underwriting",title:"AI-Driven Underwriting in Private Credit: Speed Is the Easy Part",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2024-11-25",tags:["AI","Private Credit"],cover:"https://images.unsplash.com/photo-1611532736597-de2d4265fba3?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1611532736597-de2d4265fba3?auto=format&fit=crop&w=800&q=80",excerpt:"Private credit is a $2 trillion asset class built on information asymmetry and bespoke underwriting. AI can process financial statements in minutes rather than days. The harder problem  and the one that creates defensible returns  is what happens to underwriting quality when speed becomes the norm.",externalLinks:[{label:"Alternative Credit Council  AI in Private Credit",url:"https://www.alternativecreditcouncil.org/research/"},{label:"IOSCO Report  Artificial Intelligence in Capital Markets",url:"https://www.iosco.org/library/pubdocs/pdf/IOSCOPD700.pdf"}],content:["Private credit  direct lending, mezzanine financing, asset-backed credit, and other forms of non-bank lending to mid-market companies  has grown to a $2 trillion global asset class on the back of post-2008 bank retrenchment from leveraged lending. Its returns have historically been justified by the illiquidity premium and the information edge that direct lenders maintain through intensive due diligence: detailed financial statement analysis, management interviews, industry research, and covenant monitoring that public credit markets do not require. AI is compressing the time required for the financial analysis component of this process from weeks to hours. The implications for the industry's competitive dynamics are significant.","The unambiguous win from AI in private credit underwriting is document processing. Credit memo preparation for a mid-market direct lending transaction typically involves ingesting three to five years of audited financial statements, interim management accounts, debt schedules, customer concentration analyses, and sector-specific KPIs, extracting the relevant data, normalising it across different accounting conventions, and building a financial model. This process takes an experienced analyst two to three days. A well-designed AI system with document parsing, entity extraction, and financial modelling capabilities can produce a first-draft financial model and standardised credit memo in two to four hours. The analyst's time shifts from data extraction to analytical judgement.","The risk that deserves serious attention is the herding problem. If all major private credit platforms use similar AI underwriting tools trained on similar historical data, the industry may converge on similar credit assessments for the same borrowers  reducing the information diversity that makes credit markets function as price discovery mechanisms for risk. In public credit markets, algorithmic convergence in risk assessment has been associated with procyclical capital flows: everyone's models identify the same credits as safe at the same time, credit is extended generously, the cycle turns, and the same models flag the same credits as risky simultaneously, creating credit crunches. Private credit has historically been somewhat insulated from this dynamic because human underwriters' judgements are more idiosyncratic. If AI homogenises underwriting, this protection diminishes.","The defensible application of AI in private credit is not in replacing underwriting judgement but in augmenting it: allowing underwriters to cover more transactions, to monitor more covenants in real time, to identify deterioration signals in portfolio companies earlier, and to spend their analytical capacity on the genuinely judgement-dependent dimensions of credit assessment  management quality, competitive dynamics, downside scenario analysis  rather than on data extraction and model building. The funds that will use AI most effectively are those that treat it as a capacity multiplier for their best underwriters, not as a cost reduction programme."],images:[]},{id:29,slug:"cloud-exit-sovereignty-financial-institutions",title:"Cloud Exit Strategies and Digital Sovereignty: What Financial Institutions Need to Plan For",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2024-10-30",tags:["Cloud Infrastructure","Regulation"],cover:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=800&q=80",excerpt:"The operational resilience requirements in DORA, MAS TRM, and equivalent frameworks all require financial institutions to demonstrate that they can exit a cloud service provider within defined timeframes. Most institutions that have attempted this exercise have discovered their exit plans are theoretical, not operational.",externalLinks:[{label:"MAS TRM Guidelines  Third Party and Outsourcing Risk",url:"https://www.mas.gov.sg/regulation/guidelines/technology-risk-management-guidelines"},{label:"EBA Guidelines on ICT and Security Risk",url:"https://www.eba.europa.eu/regulation-and-policy/operational-resilience/guidelines-ict-and-security-risk-management"}],content:["Cloud concentration risk is one of the most discussed and least acted-upon concerns in financial institution technology risk management. The practical reality is that the operational and cost advantages of major cloud providers  AWS, Azure, GCP  are substantial enough that financial institutions have migrated critical workloads to them at a pace that has outrun their ability to maintain credible exit capability. Regulators are aware of this and increasingly require that institutions demonstrate, not merely document, their ability to switch providers or repatriate workloads within defined timeframes. The gap between documented exit plans and operationally credible exit capability is, in most institutions, large.","A credible cloud exit strategy has three components that must all be present. First, data portability: all data held by the cloud provider must be exportable in formats that can be ingested by alternative infrastructure, without requiring the cooperation of the exiting provider. This sounds obvious but is frequently complicated by proprietary data formats, managed service features that create implicit data dependencies, and backup architectures that are tightly integrated with provider-specific storage. Establishing and maintaining clean data portability requires ongoing engineering effort, not a one-time migration test.","Second, workload portability: the code and configuration that runs on the cloud provider must be portable to alternative infrastructure without re-architecting. This is where cloud-native services create the most significant lock-in risk. Workloads built using managed services  AWS Lambda, Azure Cosmos DB, Google BigQuery, proprietary ML training infrastructure  have dependencies on provider-specific APIs that have no direct equivalents at alternative providers. The mitigation is deliberate architectural choices: preferring open standards and container-based workloads over managed services where the lock-in tradeoff is not justified by the operational benefit; and maintaining infrastructure-as-code that can be adapted to alternative providers with bounded effort.","Third, and most often overlooked, operational capability: the institution must maintain staff with the skills to operate the alternative infrastructure, and must run periodic exercises that demonstrate end-to-end exit capability in practice. An exit plan that exists only in documentation and has never been partially or fully executed is not a credible exit capability  it is a compliance artefact. Regulators in the most advanced supervisory jurisdictions are beginning to require evidence of exercise results, not just plan documentation. Institutions that begin treating cloud exit exercises as operational drills rather than planning exercises will be ahead of supervisory requirements when those requirements inevitably tighten."],images:[]},{id:30,slug:"institutional-crypto-custody-evolution",title:"Institutional Crypto Custody Has Evolved  Here Is Where the Architecture Stands Today",author:"TrustLedgerLabs Research",avatar:"https://images.unsplash.com/photo-1639762681485-074b7f938ba0?auto=format&fit=crop&w=256&q=80",date:"2024-10-05",tags:["Custody","Digital Assets"],cover:"https://images.unsplash.com/photo-1642790106117-e829e14a795f?auto=format&fit=crop&w=1600&q=80",thumb:"https://images.unsplash.com/photo-1642790106117-e829e14a795f?auto=format&fit=crop&w=800&q=80",excerpt:"The FTX collapse made institutional crypto custody the most scrutinised topic in digital asset infrastructure. Two years later, the custodial architecture has evolved significantly  MPC, qualified custodian frameworks, and programmable policy controls are now the baseline expectation for institutional mandates.",externalLinks:[{label:"Fireblocks MPC Custody Architecture",url:"https://www.fireblocks.com/blog/mpc-explained/"},{label:"SEC Staff Bulletin  Digital Asset Custody",url:"https://www.sec.gov/staff-bulletin/2023-04-14"}],content:["The FTX collapse in November 2022 destroyed approximately $8 billion of customer assets that were, contrary to exchange representations, not held in segregated custody at all  they had been commingled with and lent out by the affiliated trading firm Alameda Research. The institutional response was immediate and structural: every major allocator with digital asset exposure reviewed their custodial arrangements, redemption rights, and counterparty exposure with a level of rigour that had been absent during the bull market. The result was an accelerated shift toward architectures where clients hold verifiable, on-chain ownership of their assets and the custodian's role is explicitly limited to key management and policy enforcement.","Multi-party computation (MPC) custody has emerged as the dominant architectural paradigm for institutional digital asset custody. In MPC custody, the private key required to authorise a transaction is never assembled as a complete key in any single location  instead, cryptographic key shares are held by multiple geographically distributed parties (typically the custodian, the client, and a backup key holder), and a threshold of parties must collaborate to generate a valid signature. This eliminates the single point of compromise that made exchange hot wallet custody so vulnerable: there is no single device or database whose compromise gives an attacker complete signing authority. Fireblocks, Copper, and Anchorage Digital have all built production MPC infrastructure at institutional scale.","The regulatory framework for institutional crypto custody has clarified in several key jurisdictions. Singapore's MAS requires licensed digital payment token service providers to hold customer assets in segregated trust accounts. The OCC has issued interpretive letters permitting US national banks to provide crypto custody services. The SEC's proposed amendments to the Custody Rule would bring digital assets explicitly within its scope, requiring registered investment advisers to use qualified custodians for crypto holdings  a requirement that, if finalised, would accelerate institutional adoption of regulated custody providers and accelerate the exit from exchange-based custody arrangements.","Programmable transaction policy controls are the capability differentiator that distinguishes institutional custody from consumer crypto wallets. Production institutional custody systems allow clients to define governance rules  requiring multiple authorisation levels for large transactions, restricting transfers to pre-approved counterparty addresses, imposing daily volume limits, requiring time-delayed execution for transactions above threshold values  that are enforced at the custody layer before any transaction is broadcast to the network. These controls replicate, in a cryptographically enforced form, the dual-control and authorisation matrix requirements that govern conventional securities and cash operations. They are the feature set that makes institutional treasury and fund accounting operations compatible with digital asset custody."],images:[]}],F6={hidden:{opacity:0,y:22},visible:(t=0)=>({opacity:1,y:0,transition:{duration:.5,delay:t*.09,ease:[.22,1,.36,1]}})};function G0(t){const e=t.content.join(" ").split(" ").length;return Math.max(3,Math.ceil(e/220))}const Ge=["#b5894a","#6366f1","#0ea5e9","#10b981"];function O6(){const[t,...e]=Ec,[n,r]=j.useState(null),i=[...new Set(Ec.flatMap(o=>o.tags))],s=n?e.filter(o=>o.tags.includes(n)):e;return d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)",minHeight:"100vh"},children:[d.jsxs("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)",padding:"6rem 2rem 4.5rem",position:"relative",overflow:"hidden"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,pointerEvents:"none"}}),d.jsx("div",{className:"wrap",style:{position:"relative",zIndex:1},children:d.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsxs("div",{className:"badge",style:{marginBottom:"1.5rem",color:"var(--gold)"},children:[d.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"var(--gold)",flexShrink:0}}),"Insights & Research"]}),d.jsxs("h1",{className:"t-h1",style:{marginBottom:"1rem",maxWidth:660},children:["Perspectives on AI, Blockchain &"," ",d.jsx("em",{style:{fontStyle:"italic",color:"var(--gold)"},children:"Institutional Trust"})]}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:560,color:"var(--tx2)"},children:"Original analysis from the TrustLedgerLabs team  on the architecture, regulation, and commercial reality of enterprise-grade AI and blockchain infrastructure."})]})})]}),d.jsx("div",{className:"wrap",style:{paddingTop:"4rem",paddingBottom:"2.5rem"},children:d.jsx(H.div,{initial:{opacity:0,y:24},animate:{opacity:1,y:0},transition:{duration:.7,delay:.1},children:d.jsx(le,{to:`/blog/${t.slug}`,style:{textDecoration:"none",display:"block"},children:d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",background:"var(--bg2)",border:"1px solid var(--border)",borderRadius:20,overflow:"hidden",transition:"border-color .2s, box-shadow .3s"},className:"feat-c",onMouseEnter:o=>{o.currentTarget.style.borderColor="var(--gold)",o.currentTarget.style.boxShadow="var(--shadow2)"},onMouseLeave:o=>{o.currentTarget.style.borderColor="var(--border)",o.currentTarget.style.boxShadow="none"},children:[d.jsx("style",{children:"@media(max-width:768px){.feat-c{grid-template-columns:1fr!important}}"}),d.jsxs("div",{style:{position:"relative",minHeight:380,overflow:"hidden"},children:[d.jsx("img",{src:t.cover,style:{width:"100%",height:"100%",objectFit:"cover",display:"block",transition:"transform .5s ease"},alt:t.title,onMouseEnter:o=>o.currentTarget.style.transform="scale(1.03)",onMouseLeave:o=>o.currentTarget.style.transform="scale(1)"}),d.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(to top, rgba(13,11,9,.55) 0%, transparent 60%)"}}),d.jsx("div",{style:{position:"absolute",top:20,left:20},children:d.jsx("span",{style:{display:"inline-flex",alignItems:"center",gap:6,padding:"5px 12px",background:"rgba(181,137,74,.9)",borderRadius:6,fontFamily:"var(--font-body)",fontSize:".7rem",fontWeight:700,letterSpacing:".1em",textTransform:"uppercase",color:"#fff"},children:" Featured"})})]}),d.jsxs("div",{style:{padding:"3rem 2.75rem",display:"flex",flexDirection:"column",justifyContent:"center",gap:"1rem"},children:[d.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap"},children:t.tags.map((o,a)=>d.jsx("span",{style:{padding:"3px 10px",background:Ge[a%Ge.length]+"18",border:`1px solid ${Ge[a%Ge.length]}40`,borderRadius:5,fontFamily:"var(--font-body)",fontSize:".65rem",fontWeight:700,letterSpacing:".1em",textTransform:"uppercase",color:Ge[a%Ge.length]},children:o},o))}),d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"clamp(1.45rem, 2.2vw, 2rem)",fontWeight:700,color:"var(--tx)",lineHeight:1.2},children:t.title}),d.jsx("p",{className:"t-body",style:{color:"var(--tx2)",lineHeight:1.7},children:t.excerpt}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:14,paddingTop:"0.75rem",borderTop:"1px solid var(--border)"},children:[d.jsx("div",{style:{width:36,height:36,borderRadius:8,background:"var(--gold-bg)",border:"1px solid var(--gold-bd)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(aa,{size:16,style:{color:"var(--gold)"}})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".83rem",fontWeight:600,color:"var(--tx)"},children:t.author}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,fontFamily:"var(--font-body)",fontSize:".73rem",color:"var(--tx3)"},children:[d.jsx("span",{children:new Date(t.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),d.jsx("span",{children:""}),d.jsx(_c,{size:11}),d.jsxs("span",{children:[G0(t)," min read"]})]})]}),d.jsxs("div",{className:"btn btn-dark",style:{marginLeft:"auto",whiteSpace:"nowrap"},children:["Read Article ",d.jsx(Oe,{size:13})]})]})]})]})})})}),d.jsx("div",{className:"wrap",style:{paddingBottom:"1.75rem"},children:d.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap",alignItems:"center"},children:[d.jsx("span",{style:{fontFamily:"var(--font-body)",fontSize:".72rem",fontWeight:700,letterSpacing:".14em",textTransform:"uppercase",color:"var(--tx3)",marginRight:4},children:"Filter:"}),d.jsx("button",{onClick:()=>r(null),style:{padding:"5px 14px",borderRadius:7,border:`1px solid ${n?"var(--border)":"var(--gold)"}`,background:n?"transparent":"var(--gold-bg)",fontFamily:"var(--font-body)",fontSize:".74rem",fontWeight:600,color:n?"var(--tx2)":"var(--gold)",cursor:"pointer",transition:"all .15s"},children:"All"}),i.map((o,a)=>d.jsx("button",{onClick:()=>r(n===o?null:o),style:{padding:"5px 14px",borderRadius:7,border:`1px solid ${n===o?Ge[a%Ge.length]:"var(--border)"}`,background:n===o?Ge[a%Ge.length]+"15":"transparent",fontFamily:"var(--font-body)",fontSize:".74rem",fontWeight:600,color:n===o?Ge[a%Ge.length]:"var(--tx2)",cursor:"pointer",transition:"all .15s"},children:o},o))]})}),d.jsxs("div",{className:"wrap",style:{paddingBottom:"6rem"},children:[d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(340px, 1fr))",gap:"1.5rem"},children:s.map((o,a)=>d.jsxs(H.article,{className:"card-hover",variants:F6,custom:a,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},style:{overflow:"hidden",display:"flex",flexDirection:"column"},children:[d.jsxs(le,{to:`/blog/${o.slug}`,style:{display:"block",overflow:"hidden",position:"relative",height:200},children:[d.jsx("img",{src:o.thumb||o.cover,style:{height:"100%",objectFit:"cover",width:"100%",display:"block",transition:"transform .45s ease"},alt:o.title,onMouseEnter:c=>c.currentTarget.style.transform="scale(1.05)",onMouseLeave:c=>c.currentTarget.style.transform="scale(1)"}),d.jsxs("div",{style:{position:"absolute",bottom:12,right:12,display:"flex",alignItems:"center",gap:5,padding:"4px 10px",background:"rgba(13,11,9,.72)",backdropFilter:"blur(6px)",borderRadius:6,fontFamily:"var(--font-body)",fontSize:".68rem",fontWeight:600,color:"rgba(240,236,228,.85)"},children:[d.jsx(_c,{size:10}),G0(o)," min"]})]}),d.jsxs("div",{style:{padding:"1.5rem",flex:1,display:"flex",flexDirection:"column"},children:[d.jsx("div",{style:{display:"flex",gap:5,flexWrap:"wrap",marginBottom:"0.85rem"},children:o.tags.map((c,u)=>d.jsx("span",{style:{padding:"2px 9px",background:Ge[u%Ge.length]+"14",border:`1px solid ${Ge[u%Ge.length]}35`,borderRadius:4,fontFamily:"var(--font-body)",fontSize:".61rem",fontWeight:700,letterSpacing:".1em",textTransform:"uppercase",color:Ge[u%Ge.length]},children:c},c))}),d.jsx(le,{to:`/blog/${o.slug}`,style:{textDecoration:"none"},children:d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.18rem",fontWeight:700,color:"var(--tx)",lineHeight:1.22,marginBottom:"0.7rem",transition:"color .15s"},onMouseEnter:c=>c.currentTarget.style.color="var(--gold)",onMouseLeave:c=>c.currentTarget.style.color="var(--tx)",children:o.title})}),d.jsx("p",{className:"t-small",style:{flex:1,marginBottom:"1.25rem",lineHeight:1.7,color:"var(--tx2)"},children:o.excerpt}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,paddingTop:"1rem",marginTop:"auto",borderTop:"1px solid var(--border)"},children:[d.jsx("div",{style:{width:28,height:28,borderRadius:6,background:"var(--gold-bg)",border:"1px solid var(--gold-bd)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:d.jsx(aa,{size:13,style:{color:"var(--gold)"}})}),d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".78rem",fontWeight:600,color:"var(--tx)"},children:o.author}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".7rem",color:"var(--tx3)"},children:new Date(o.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})})]}),d.jsxs(le,{to:`/blog/${o.slug}`,style:{display:"inline-flex",alignItems:"center",gap:4,fontFamily:"var(--font-body)",fontSize:".76rem",fontWeight:600,color:"var(--gold)",textDecoration:"none",transition:"opacity .15s",flexShrink:0},onMouseEnter:c=>c.currentTarget.style.opacity="0.7",onMouseLeave:c=>c.currentTarget.style.opacity="1",children:["Read ",d.jsx(Oe,{size:12})]})]})]})]},o.id))}),s.length===0&&d.jsxs("div",{style:{textAlign:"center",padding:"4rem 0",color:"var(--tx3)"},children:[d.jsx("p",{className:"t-body",children:"No articles match this filter."}),d.jsx("button",{onClick:()=>r(null),style:{marginTop:"1rem",padding:"8px 20px",borderRadius:8,border:"1px solid var(--border)",background:"transparent",color:"var(--gold)",fontFamily:"var(--font-body)",fontSize:".84rem",fontWeight:600,cursor:"pointer"},children:"Clear filter"})]})]}),d.jsx("section",{style:{background:"var(--bg2)",borderTop:"1px solid var(--border)",padding:"5rem 2rem",textAlign:"center"},children:d.jsxs(H.div,{initial:{opacity:0,y:18},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"1rem"},children:"Talk to the Team"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Ready to Move From Insight to Infrastructure?"}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:460,margin:"0 auto 2.25rem",color:"var(--tx2)"},children:"The analysis above reflects problems we solve for enterprises every day. Schedule a complimentary discovery call and let's explore what applies to your organisation."}),d.jsxs(le,{to:"/schedule",className:"btn btn-gold",children:["Schedule a Discovery Call ",d.jsx(Oe,{size:14})]})]})})]})}function B6(){var r,i;const{slug:t}=GI(),e=Ec.find(s=>s.slug===t),n=Ec.filter(s=>s.slug!==t).slice(0,2);return e?d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)"},children:[d.jsx(H.img,{src:e.cover,alt:e.title,style:{width:"100%",height:420,objectFit:"cover",display:"block",filter:"brightness(.9)"},initial:{opacity:0},animate:{opacity:1},transition:{duration:.6}}),d.jsxs("div",{style:{maxWidth:760,margin:"0 auto",padding:"3rem 2rem 6rem"},children:[d.jsxs(le,{to:"/blog",style:{display:"inline-flex",alignItems:"center",gap:6,fontFamily:"var(--font-body)",fontSize:".72rem",fontWeight:700,letterSpacing:".18em",textTransform:"uppercase",color:"var(--gold)",textDecoration:"none",marginBottom:"2.5rem"},children:[d.jsx(q0,{size:13}),"Back to Insights"]}),d.jsx("div",{style:{display:"flex",gap:6,flexWrap:"wrap",marginBottom:"1.25rem"},children:(e.tags||[]).map(s=>d.jsx("span",{className:"tag-gold",style:{fontSize:".62rem",letterSpacing:".1em",textTransform:"uppercase",fontWeight:700},children:s},s))}),d.jsx(H.h1,{className:"t-h2",style:{marginBottom:"1.5rem"},initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.6},children:e.title}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,paddingBottom:"2rem",borderBottom:"1px solid var(--border)",marginBottom:"2.5rem"},children:[d.jsx("div",{style:{width:42,height:42,borderRadius:10,background:"var(--gold-bg)",border:"1px solid var(--gold-bd)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:d.jsx(aa,{size:18,style:{color:"var(--gold)"}})}),d.jsxs("div",{children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".88rem",fontWeight:600,color:"var(--tx)"},children:e.author}),d.jsx("div",{className:"t-small",children:new Date(e.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]})]}),d.jsx("div",{className:"prose",children:e.content.map((s,o)=>d.jsx("p",{children:s},o))}),((r=e.images)==null?void 0:r.length)>0&&d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(280px,1fr))",gap:"1rem",marginTop:"2.5rem"},children:e.images.map((s,o)=>d.jsx("img",{src:s,alt:"",style:{borderRadius:12,width:"100%",height:220,objectFit:"cover",border:"1px solid var(--border)"}},o))}),((i=e.externalLinks)==null?void 0:i.length)>0&&d.jsxs("div",{style:{marginTop:"2.5rem",paddingTop:"2rem",borderTop:"1px solid var(--border)"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"1rem"},children:"References & Further Reading"}),e.externalLinks.map((s,o)=>d.jsxs("a",{href:s.url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:6,fontFamily:"var(--font-body)",fontSize:".86rem",color:"var(--gold)",textDecoration:"none",fontWeight:500,marginBottom:".5rem"},children:[d.jsx(c6,{size:12}),s.label]},o))]})]}),n.length>0&&d.jsx("div",{style:{background:"var(--bg2)",borderTop:"1px solid var(--border)",padding:"4rem 2rem"},children:d.jsxs("div",{style:{maxWidth:1240,margin:"0 auto"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Continue Reading"}),d.jsx("h3",{className:"t-h3",style:{marginBottom:"2rem"},children:"Related Articles"}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(280px,1fr))",gap:"1.5rem"},children:n.map(s=>d.jsxs(le,{to:`/blog/${s.slug}`,className:"card-hover",style:{textDecoration:"none",overflow:"hidden"},children:[d.jsx("img",{src:s.thumb||s.cover,style:{height:160,width:"100%",objectFit:"cover",display:"block"},alt:s.title}),d.jsxs("div",{style:{padding:"1.25rem"},children:[d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.1rem",fontWeight:700,color:"var(--tx)",lineHeight:1.25,marginBottom:".4rem"},children:s.title}),d.jsxs("div",{className:"t-small",style:{display:"flex",alignItems:"center",gap:5},children:[d.jsx(aa,{size:11,style:{color:"var(--gold)"}}),s.author,"  ",new Date(s.date).toLocaleDateString("en-US",{month:"short",year:"numeric"})]})]})]},s.id))})]})})]}):d.jsxs("div",{style:{maxWidth:800,margin:"0 auto",padding:"5rem 2rem",color:"var(--tx)"},children:[d.jsx("p",{className:"t-body",children:"Post not found."}),d.jsxs(le,{to:"/blog",style:{display:"inline-flex",alignItems:"center",gap:6,color:"var(--gold)",textDecoration:"none",fontWeight:600,marginTop:"1rem"},children:[d.jsx(q0,{size:15}),"Back to Insights"]})]})}const hl=[{id:1,title:"Blockchain Developer",icon:Is,dept:"Engineering",type:"Remote",intro:"Build, maintain, and optimize blockchain infrastructure and decentralized applications.",requirements:["Blockchain architecture","Solidity or similar","Strong problem-solving"],responsibilities:["Develop smart contracts","Build blockchain integrations","Improve system efficiency"],benefits:["Remote-first","Learning budget","Growth opportunities"]},{id:2,title:"Web3 Developer",icon:T_,dept:"Engineering",type:"Remote",intro:"Develop decentralized applications and integrate blockchain protocols.",requirements:["Web3.js or Ethers.js","Blockchain networks","Collaboration skills"],responsibilities:["Integrate blockchain features","Work with backend team","Improve dApp performance"],benefits:["Flexible hours","Remote-friendly","Annual offsite"]},{id:3,title:"Marketing Assistant",icon:p_,dept:"Marketing",type:"Hybrid",intro:"Support marketing campaigns through research, planning, and content preparation.",requirements:["Marketing basics","Social media familiarity","Writing skills"],responsibilities:["Content creation","Campaign planning","Analytics reporting"],benefits:["Learning support","Wellness stipend","Career growth"]},{id:4,title:"Business Development",icon:mu,dept:"Growth",type:"Remote",intro:"Help support partnerships, outreach, and new business growth initiatives.",requirements:["Business strategy","Communication skills","Proactive mindset"],responsibilities:["Partnership outreach","Market research","Prepare proposals"],benefits:["Networking events","Career growth","Remote allowance"]},{id:5,title:"UI/UX Engineer",icon:p6,dept:"Design",type:"Remote",intro:"Build user-focused interfaces and improve digital product experiences.",requirements:["Design tools","UX understanding","User research interest"],responsibilities:["Design components","Prototype user journeys","Maintain design systems"],benefits:["Mentorship","Creative growth","Remote-friendly"]},{id:6,title:"Frontend Engineer",icon:W0,dept:"Engineering",type:"Remote",intro:"Develop modern, high-performance interfaces for AI and Web3 applications.",requirements:["React/Next.js","Responsive UI","Web3.js is a plus"],responsibilities:["Build frontend interfaces","Collaborate with teams","Optimize performance"],benefits:["Remote-first","Modern dev tools","Leadership opportunities"]},{id:7,title:"Backend Engineer",icon:y_,dept:"Engineering",type:"Remote",intro:"Build and maintain scalable backend systems powering decentralized and AI platforms.",requirements:["Node.js / NestJS","Database skills","API design"],responsibilities:["Develop backend services","Ensure scalability","Integrate blockchain data"],benefits:["Remote-friendly","Cloud experience","Growth opportunities"]},{id:8,title:"Smart Contract Engineer",icon:d6,dept:"Engineering",type:"Remote",intro:"Design, develop, and audit secure smart contracts for decentralized ecosystems.",requirements:["Solidity","Security practices","Hardhat or Foundry"],responsibilities:["Write smart contracts","Perform testing & audits","Collaborate with engineers"],benefits:["Competitive pay","R&D opportunities","Open-source contributions"]},{id:9,title:"Unity Engineer",icon:W0,dept:"Engineering",type:"Remote",intro:"Create immersive 3D WebGL and metaverse experiences using Unity.",requirements:["Unity/C#","WebGL","3D graphics & shaders"],responsibilities:["Develop 3D environments","Optimize WebGL performance","Integrate Web3 systems"],benefits:["Remote","Competitive pay","Cutting-edge 3D projects"]}],K0={Engineering:{bg:"rgba(99,102,241,0.1)",text:"#6366f1",border:"rgba(99,102,241,0.25)"},Marketing:{bg:"var(--gold-bg)",text:"var(--gold)",border:"var(--gold-bd)"},Growth:{bg:"rgba(0,212,170,0.1)",text:"#00d4aa",border:"rgba(0,212,170,0.25)"},Design:{bg:"rgba(168,85,247,0.1)",text:"#a855f7",border:"rgba(168,85,247,0.25)"}},z6={hidden:{opacity:0,y:22},visible:(t=0)=>({opacity:1,y:0,transition:{duration:.55,delay:t*.06,ease:[.22,1,.36,1]}})};function U6(){const[t,e]=j.useState("All"),n=qp(),r=["All",...Array.from(new Set(hl.map(s=>s.dept)))],i=t==="All"?hl:hl.filter(s=>s.dept===t);return d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)",minHeight:"100vh"},children:[d.jsxs("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)",position:"relative",overflow:"hidden"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,pointerEvents:"none"}}),d.jsx("div",{className:"wrap",style:{position:"relative",zIndex:1,paddingTop:"5rem",paddingBottom:"4rem"},children:d.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"0.75rem"},children:"We're Hiring"}),d.jsxs("div",{style:{display:"flex",alignItems:"flex-end",justifyContent:"space-between",flexWrap:"wrap",gap:"1.5rem"},children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"t-h1",style:{marginBottom:"1rem",maxWidth:560},children:["Open ",d.jsx("em",{style:{fontStyle:"italic",color:"var(--gold)"},children:"Positions"})]}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:500},children:"Join us in building the future of AI and blockchain infrastructure. Remote-first, mission-driven, and growing fast."})]}),d.jsx(H.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.7,delay:.2},style:{fontFamily:"var(--font-display)",fontSize:"clamp(4rem, 7vw, 7rem)",fontWeight:700,lineHeight:1,userSelect:"none",WebkitTextStroke:"2px var(--gold-bd)",color:"transparent"},children:hl.length})]})]})})]}),d.jsx("div",{className:"wrap",style:{paddingTop:"2.5rem",paddingBottom:"1rem"},children:d.jsx("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap"},children:r.map(s=>d.jsx("button",{onClick:()=>e(s),style:{padding:"6px 18px",borderRadius:"100px",fontSize:"0.82rem",fontWeight:600,fontFamily:"var(--font-body)",border:"1px solid var(--border)",background:t===s?"var(--tx)":"var(--bg2)",color:t===s?"var(--bg)":"var(--tx2)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:o=>{t!==s&&(o.currentTarget.style.borderColor="var(--gold)",o.currentTarget.style.color="var(--tx)")},onMouseLeave:o=>{t!==s&&(o.currentTarget.style.borderColor="var(--border)",o.currentTarget.style.color="var(--tx2)")},children:s},s))})}),d.jsx("div",{className:"wrap",style:{paddingTop:"2rem",paddingBottom:"6rem"},children:d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(min(100%, 520px), 1fr))",gap:"1.25rem"},children:i.map((s,o)=>{const a=s.icon,c=K0[s.dept]||K0.Marketing;return d.jsxs(H.div,{variants:z6,custom:o,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},style:{background:"var(--bg2)",border:"1px solid var(--border)",borderRadius:"18px",padding:"2rem",display:"flex",flexDirection:"column",gap:"1.25rem",transition:"border-color 0.2s, transform 0.25s, box-shadow 0.25s"},onMouseEnter:u=>{u.currentTarget.style.borderColor="var(--gold)",u.currentTarget.style.transform="translateY(-3px)",u.currentTarget.style.boxShadow="var(--shadow2)"},onMouseLeave:u=>{u.currentTarget.style.borderColor="var(--border)",u.currentTarget.style.transform="translateY(0)",u.currentTarget.style.boxShadow="none"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[d.jsx("div",{style:{width:46,height:46,borderRadius:"12px",flexShrink:0,background:c.bg,border:`1px solid ${c.border}`,display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(a,{size:20,style:{color:c.text}})}),d.jsxs("div",{style:{flex:1,minWidth:0},children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1.05rem",fontWeight:600,color:"var(--tx)",marginBottom:"0.4rem"},children:s.title}),d.jsxs("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"},children:[d.jsx("span",{style:{fontSize:"0.68rem",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",padding:"3px 9px",borderRadius:"4px",background:c.bg,color:c.text,border:`1px solid ${c.border}`,fontFamily:"var(--font-body)"},children:s.dept}),d.jsxs("span",{style:{fontSize:"0.68rem",fontWeight:600,letterSpacing:"0.05em",textTransform:"uppercase",padding:"3px 9px",borderRadius:"4px",background:"var(--bg3)",color:"var(--tx2)",border:"1px solid var(--border)",fontFamily:"var(--font-body)",display:"inline-flex",alignItems:"center",gap:"4px"},children:[d.jsx(b_,{size:9}),s.type]})]})]})]}),d.jsx("p",{className:"t-body",style:{margin:0},children:s.intro}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"1rem"},children:[{label:"Requirements",items:s.requirements},{label:"Responsibilities",items:s.responsibilities},{label:"Benefits",items:s.benefits}].map(u=>d.jsxs("div",{children:[d.jsx("div",{style:{fontSize:"0.66rem",fontWeight:700,letterSpacing:"0.15em",textTransform:"uppercase",color:"var(--tx3)",fontFamily:"var(--font-body)",marginBottom:"0.5rem"},children:u.label}),d.jsx("ul",{style:{listStyle:"none",padding:0,margin:0,display:"flex",flexDirection:"column",gap:"0.3rem"},children:u.items.map((h,f)=>d.jsxs("li",{style:{fontSize:"0.8rem",color:"var(--tx2)",fontWeight:300,fontFamily:"var(--font-body)",paddingLeft:"0.9rem",position:"relative"},children:[d.jsx("span",{style:{position:"absolute",left:0,color:"var(--gold)",fontWeight:700},children:""}),h]},f))})]},u.label))}),d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingTop:"1.25rem",borderTop:"1px solid var(--border)"},children:[d.jsxs("span",{style:{display:"inline-flex",alignItems:"center",gap:5,fontSize:"0.78rem",color:"var(--tx2)",fontFamily:"var(--font-body)",fontWeight:400},children:[d.jsx(i6,{size:12,style:{opacity:.5}}),s.type]}),d.jsxs("button",{onClick:()=>n("/contact"),className:"btn btn-dark",style:{padding:"0.45rem 1.1rem",fontSize:"0.82rem",borderRadius:"9px"},children:["Apply Now ",d.jsx(Oe,{size:13})]})]})]},s.id)})})})]})}var E_={exports:{}},q6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",W6=q6,$6=W6;function S_(){}function k_(){}k_.resetWarningCache=S_;var H6=function(){function t(r,i,s,o,a,c){if(c!==$6){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:k_,resetWarningCache:S_};return n.PropTypes=n,n};E_.exports=H6();var G6=E_.exports;const _t=Gf(G6);var K6=["sitekey","onChange","theme","type","tabindex","onExpired","onErrored","size","stoken","grecaptcha","badge","hl","isolated"];function xf(){return xf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xf.apply(this,arguments)}function Q6(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function fl(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Y6(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,bf(t,e)}function bf(t,e){return bf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bf(t,e)}var gu=function(t){Y6(e,t);function e(){var r;return r=t.call(this)||this,r.handleExpired=r.handleExpired.bind(fl(r)),r.handleErrored=r.handleErrored.bind(fl(r)),r.handleChange=r.handleChange.bind(fl(r)),r.handleRecaptchaRef=r.handleRecaptchaRef.bind(fl(r)),r}var n=e.prototype;return n.getCaptchaFunction=function(i){return this.props.grecaptcha?this.props.grecaptcha.enterprise?this.props.grecaptcha.enterprise[i]:this.props.grecaptcha[i]:null},n.getValue=function(){var i=this.getCaptchaFunction("getResponse");return i&&this._widgetId!==void 0?i(this._widgetId):null},n.getWidgetId=function(){return this.props.grecaptcha&&this._widgetId!==void 0?this._widgetId:null},n.execute=function(){var i=this.getCaptchaFunction("execute");if(i&&this._widgetId!==void 0)return i(this._widgetId);this._executeRequested=!0},n.executeAsync=function(){var i=this;return new Promise(function(s,o){i.executionResolve=s,i.executionReject=o,i.execute()})},n.reset=function(){var i=this.getCaptchaFunction("reset");i&&this._widgetId!==void 0&&i(this._widgetId)},n.forceReset=function(){var i=this.getCaptchaFunction("reset");i&&i()},n.handleExpired=function(){this.props.onExpired?this.props.onExpired():this.handleChange(null)},n.handleErrored=function(){this.props.onErrored&&this.props.onErrored(),this.executionReject&&(this.executionReject(),delete this.executionResolve,delete this.executionReject)},n.handleChange=function(i){this.props.onChange&&this.props.onChange(i),this.executionResolve&&(this.executionResolve(i),delete this.executionReject,delete this.executionResolve)},n.explicitRender=function(){var i=this.getCaptchaFunction("render");if(i&&this._widgetId===void 0){var s=document.createElement("div");this._widgetId=i(s,{sitekey:this.props.sitekey,callback:this.handleChange,theme:this.props.theme,type:this.props.type,tabindex:this.props.tabindex,"expired-callback":this.handleExpired,"error-callback":this.handleErrored,size:this.props.size,stoken:this.props.stoken,hl:this.props.hl,badge:this.props.badge,isolated:this.props.isolated}),this.captcha.appendChild(s)}this._executeRequested&&this.props.grecaptcha&&this._widgetId!==void 0&&(this._executeRequested=!1,this.execute())},n.componentDidMount=function(){this.explicitRender()},n.componentDidUpdate=function(){this.explicitRender()},n.handleRecaptchaRef=function(i){this.captcha=i},n.render=function(){var i=this.props;i.sitekey,i.onChange,i.theme,i.type,i.tabindex,i.onExpired,i.onErrored,i.size,i.stoken,i.grecaptcha,i.badge,i.hl,i.isolated;var s=Q6(i,K6);return j.createElement("div",xf({},s,{ref:this.handleRecaptchaRef}))},e}(j.Component);gu.displayName="ReCAPTCHA";gu.propTypes={sitekey:_t.string.isRequired,onChange:_t.func,grecaptcha:_t.object,theme:_t.oneOf(["dark","light"]),type:_t.oneOf(["image","audio"]),tabindex:_t.number,onExpired:_t.func,onErrored:_t.func,size:_t.oneOf(["compact","normal","invisible"]),stoken:_t.string,hl:_t.string,badge:_t.oneOf(["bottomright","bottomleft","inline"]),isolated:_t.bool};gu.defaultProps={onChange:function(){},theme:"light",type:"image",tabindex:0,size:"normal",badge:"bottomright"};var I_={exports:{}},de={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Je=typeof Symbol=="function"&&Symbol.for,Im=Je?Symbol.for("react.element"):60103,Am=Je?Symbol.for("react.portal"):60106,yu=Je?Symbol.for("react.fragment"):60107,vu=Je?Symbol.for("react.strict_mode"):60108,wu=Je?Symbol.for("react.profiler"):60114,xu=Je?Symbol.for("react.provider"):60109,bu=Je?Symbol.for("react.context"):60110,Cm=Je?Symbol.for("react.async_mode"):60111,Tu=Je?Symbol.for("react.concurrent_mode"):60111,_u=Je?Symbol.for("react.forward_ref"):60112,Eu=Je?Symbol.for("react.suspense"):60113,X6=Je?Symbol.for("react.suspense_list"):60120,Su=Je?Symbol.for("react.memo"):60115,ku=Je?Symbol.for("react.lazy"):60116,J6=Je?Symbol.for("react.block"):60121,Z6=Je?Symbol.for("react.fundamental"):60117,e5=Je?Symbol.for("react.responder"):60118,t5=Je?Symbol.for("react.scope"):60119;function zt(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Im:switch(t=t.type,t){case Cm:case Tu:case yu:case wu:case vu:case Eu:return t;default:switch(t=t&&t.$$typeof,t){case bu:case _u:case ku:case Su:case xu:return t;default:return e}}case Am:return e}}}function A_(t){return zt(t)===Tu}de.AsyncMode=Cm;de.ConcurrentMode=Tu;de.ContextConsumer=bu;de.ContextProvider=xu;de.Element=Im;de.ForwardRef=_u;de.Fragment=yu;de.Lazy=ku;de.Memo=Su;de.Portal=Am;de.Profiler=wu;de.StrictMode=vu;de.Suspense=Eu;de.isAsyncMode=function(t){return A_(t)||zt(t)===Cm};de.isConcurrentMode=A_;de.isContextConsumer=function(t){return zt(t)===bu};de.isContextProvider=function(t){return zt(t)===xu};de.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Im};de.isForwardRef=function(t){return zt(t)===_u};de.isFragment=function(t){return zt(t)===yu};de.isLazy=function(t){return zt(t)===ku};de.isMemo=function(t){return zt(t)===Su};de.isPortal=function(t){return zt(t)===Am};de.isProfiler=function(t){return zt(t)===wu};de.isStrictMode=function(t){return zt(t)===vu};de.isSuspense=function(t){return zt(t)===Eu};de.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===yu||t===Tu||t===wu||t===vu||t===Eu||t===X6||typeof t=="object"&&t!==null&&(t.$$typeof===ku||t.$$typeof===Su||t.$$typeof===xu||t.$$typeof===bu||t.$$typeof===_u||t.$$typeof===Z6||t.$$typeof===e5||t.$$typeof===t5||t.$$typeof===J6)};de.typeOf=zt;I_.exports=de;var n5=I_.exports,Pm=n5,r5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},C_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Rm={};Rm[Pm.ForwardRef]=s5;Rm[Pm.Memo]=C_;function Q0(t){return Pm.isMemo(t)?C_:Rm[t.$$typeof]||r5}var o5=Object.defineProperty,a5=Object.getOwnPropertyNames,Y0=Object.getOwnPropertySymbols,l5=Object.getOwnPropertyDescriptor,c5=Object.getPrototypeOf,X0=Object.prototype;function P_(t,e,n){if(typeof e!="string"){if(X0){var r=c5(e);r&&r!==X0&&P_(t,r,n)}var i=a5(e);Y0&&(i=i.concat(Y0(e)));for(var s=Q0(t),o=Q0(e),a=0;a<i.length;++a){var c=i[a];if(!i5[c]&&!(n&&n[c])&&!(o&&o[c])&&!(s&&s[c])){var u=l5(e,c);try{o5(t,c,u)}catch{}}}}return t}var u5=P_;const d5=Gf(u5);function Tf(){return Tf=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tf.apply(this,arguments)}function h5(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function f5(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var en={},p5=0;function m5(t,e){return e=e||{},function(r){var i=r.displayName||r.name||"Component",s=function(a){f5(c,a);function c(h,f){var m;return m=a.call(this,h,f)||this,m.state={},m.__scriptURL="",m}var u=c.prototype;return u.asyncScriptLoaderGetScriptLoaderID=function(){return this.__scriptLoaderID||(this.__scriptLoaderID="async-script-loader-"+p5++),this.__scriptLoaderID},u.setupScriptURL=function(){return this.__scriptURL=typeof t=="function"?t():t,this.__scriptURL},u.asyncScriptLoaderHandleLoad=function(f){var m=this;this.setState(f,function(){return m.props.asyncScriptOnLoad&&m.props.asyncScriptOnLoad(m.state)})},u.asyncScriptLoaderTriggerOnScriptLoaded=function(){var f=en[this.__scriptURL];if(!f||!f.loaded)throw new Error("Script is not loaded.");for(var m in f.observers)f.observers[m](f);delete window[e.callbackName]},u.componentDidMount=function(){var f=this,m=this.setupScriptURL(),v=this.asyncScriptLoaderGetScriptLoaderID(),E=e,k=E.globalName,P=E.callbackName,y=E.scriptId;if(k&&typeof window[k]<"u"&&(en[m]={loaded:!0,observers:{}}),en[m]){var x=en[m];if(x&&(x.loaded||x.errored)){this.asyncScriptLoaderHandleLoad(x);return}x.observers[v]=function(T){return f.asyncScriptLoaderHandleLoad(T)};return}var _={};_[v]=function(T){return f.asyncScriptLoaderHandleLoad(T)},en[m]={loaded:!1,observers:_};var C=document.createElement("script");C.src=m,C.async=!0;for(var D in e.attributes)C.setAttribute(D,e.attributes[D]);y&&(C.id=y);var M=function(w){if(en[m]){var S=en[m],I=S.observers;for(var R in I)w(I[R])&&delete I[R]}};P&&typeof window<"u"&&(window[P]=function(){return f.asyncScriptLoaderTriggerOnScriptLoaded()}),C.onload=function(){var T=en[m];T&&(T.loaded=!0,M(function(w){return P?!1:(w(T),!0)}))},C.onerror=function(){var T=en[m];T&&(T.errored=!0,M(function(w){return w(T),!0}))},document.body.appendChild(C)},u.componentWillUnmount=function(){var f=this.__scriptURL;if(e.removeOnUnmount===!0)for(var m=document.getElementsByTagName("script"),v=0;v<m.length;v+=1)m[v].src.indexOf(f)>-1&&m[v].parentNode&&m[v].parentNode.removeChild(m[v]);var E=en[f];E&&(delete E.observers[this.asyncScriptLoaderGetScriptLoaderID()],e.removeOnUnmount===!0&&delete en[f])},u.render=function(){var f=e.globalName,m=this.props;m.asyncScriptOnLoad;var v=m.forwardedRef,E=h5(m,["asyncScriptOnLoad","forwardedRef"]);return f&&typeof window<"u"&&(E[f]=typeof window[f]<"u"?window[f]:void 0),E.ref=v,j.createElement(r,E)},c}(j.Component),o=j.forwardRef(function(a,c){return j.createElement(s,Tf({},a,{forwardedRef:c}))});return o.displayName="AsyncScriptLoader("+i+")",o.propTypes={asyncScriptOnLoad:_t.func},d5(o,r)}}var _f="onloadcallback",g5="grecaptcha";function Ef(){return typeof window<"u"&&window.recaptchaOptions||{}}function y5(){var t=Ef(),e=t.useRecaptchaNet?"recaptcha.net":"www.google.com";return t.enterprise?"https://"+e+"/recaptcha/enterprise.js?onload="+_f+"&render=explicit":"https://"+e+"/recaptcha/api.js?onload="+_f+"&render=explicit"}const v5=m5(y5,{callbackName:_f,globalName:g5,attributes:Ef().nonce?{nonce:Ef().nonce}:{}})(gu),w5=()=>{};var J0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},x5=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},j_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,u=c?t[i+2]:0,h=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|u>>6,v=u&63;c||(v=64,o||(m=64)),r.push(n[h],n[f],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(R_(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||f==null)throw new b5;const m=s<<2|a>>4;if(r.push(m),u!==64){const v=a<<4&240|u>>2;if(r.push(v),f!==64){const E=u<<6&192|f;r.push(E)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class b5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T5=function(t){const e=R_(t);return j_.encodeByteArray(e,!0)},Sc=function(t){return T5(t).replace(/\./g,"")},_5=function(t){try{return j_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S5=()=>E5().__FIREBASE_DEFAULTS__,k5=()=>{if(typeof process>"u"||typeof J0>"u")return;const t=J0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&_5(t[1]);return e&&JSON.parse(e)},jm=()=>{try{return w5()||S5()||k5()||I5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},A5=t=>{var e,n;return(n=(e=jm())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},C5=t=>{const e=A5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},D_=()=>{var t;return(t=jm())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function R5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j5(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sc(JSON.stringify(n)),Sc(JSON.stringify(o)),""].join(".")}const jo={};function D5(){const t={prod:[],emulator:[]};for(const e of Object.keys(jo))jo[e]?t.emulator.push(e):t.prod.push(e);return t}function V5(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Z0=!1;function N5(t,e){if(typeof window>"u"||typeof document>"u"||!Dm(window.location.host)||jo[t]===e||jo[t]||Z0)return;jo[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=D5().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,v){m.setAttribute("width","24"),m.setAttribute("id",v),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function u(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Z0=!0,o()},m}function h(m,v){m.setAttribute("id",v),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=V5(r),v=n("text"),E=document.getElementById(v)||document.createElement("span"),k=n("learnmore"),P=document.getElementById(k)||document.createElement("a"),y=n("preprendIcon"),x=document.getElementById(y)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const _=m.element;a(_),h(P,k);const C=u();c(x,y),_.append(x,E,P,C),document.body.appendChild(_)}s?(E.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,E.innerText="Preview backend running in this workspace."),E.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function M5(){var e;const t=(e=jm())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F5(){return!M5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function O5(){try{return typeof indexedDB=="object"}catch{return!1}}function B5(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5="FirebaseError";class As extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=z5,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,V_.prototype.create)}}class V_{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?U5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new As(i,a,r)}}function U5(t,e){return t.replace(q5,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const q5=/\{\$([^}]+)}/g;function kc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(e1(s)&&e1(o)){if(!kc(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t){return t&&t._delegate?t._delegate:t}class la{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P5;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(H5(e))try{this.getOrInitializeService({instanceIdentifier:Jr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Jr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Jr){return this.instances.has(e)}getOptions(e=Jr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Jr){return this.component?this.component.multipleInstances?e:Jr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $5(t){return t===Jr?void 0:t}function H5(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new W5(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var oe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(oe||(oe={}));const K5={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},Q5=oe.INFO,Y5={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},X5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=Y5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class N_{constructor(e){this.name=e,this._logLevel=Q5,this._logHandler=X5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?K5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...e),this._logHandler(this,oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...e),this._logHandler(this,oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...e),this._logHandler(this,oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...e),this._logHandler(this,oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...e),this._logHandler(this,oe.ERROR,...e)}}const J5=(t,e)=>e.some(n=>t instanceof n);let t1,n1;function Z5(){return t1||(t1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ej(){return n1||(n1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const L_=new WeakMap,Sf=new WeakMap,M_=new WeakMap,Yd=new WeakMap,Vm=new WeakMap;function tj(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(gr(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&L_.set(n,t)}).catch(()=>{}),Vm.set(e,t),e}function nj(t){if(Sf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Sf.set(t,e)}let kf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||M_.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rj(t){kf=t(kf)}function ij(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Xd(this),e,...n);return M_.set(r,e.sort?e.sort():[e]),gr(r)}:ej().includes(t)?function(...e){return t.apply(Xd(this),e),gr(L_.get(this))}:function(...e){return gr(t.apply(Xd(this),e))}}function sj(t){return typeof t=="function"?ij(t):(t instanceof IDBTransaction&&nj(t),J5(t,Z5())?new Proxy(t,kf):t)}function gr(t){if(t instanceof IDBRequest)return tj(t);if(Yd.has(t))return Yd.get(t);const e=sj(t);return e!==t&&(Yd.set(t,e),Vm.set(e,t)),e}const Xd=t=>Vm.get(t);function oj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=gr(o);return r&&o.addEventListener("upgradeneeded",c=>{r(gr(o.result),c.oldVersion,c.newVersion,gr(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const aj=["get","getKey","getAll","getAllKeys","count"],lj=["put","add","delete","clear"],Jd=new Map;function r1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jd.get(e))return Jd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||aj.includes(n)))return;const s=async function(o,...a){const c=this.transaction(o,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&c.done]))[0]};return Jd.set(e,s),s}rj(t=>({...t,get:(e,n,r)=>r1(e,n)||t.get(e,n,r),has:(e,n)=>!!r1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uj(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uj(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const If="@firebase/app",i1="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new N_("@firebase/app"),dj="@firebase/app-compat",hj="@firebase/analytics-compat",fj="@firebase/analytics",pj="@firebase/app-check-compat",mj="@firebase/app-check",gj="@firebase/auth",yj="@firebase/auth-compat",vj="@firebase/database",wj="@firebase/data-connect",xj="@firebase/database-compat",bj="@firebase/functions",Tj="@firebase/functions-compat",_j="@firebase/installations",Ej="@firebase/installations-compat",Sj="@firebase/messaging",kj="@firebase/messaging-compat",Ij="@firebase/performance",Aj="@firebase/performance-compat",Cj="@firebase/remote-config",Pj="@firebase/remote-config-compat",Rj="@firebase/storage",jj="@firebase/storage-compat",Dj="@firebase/firestore",Vj="@firebase/ai",Nj="@firebase/firestore-compat",Lj="firebase",Mj="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Af="[DEFAULT]",Fj={[If]:"fire-core",[dj]:"fire-core-compat",[fj]:"fire-analytics",[hj]:"fire-analytics-compat",[mj]:"fire-app-check",[pj]:"fire-app-check-compat",[gj]:"fire-auth",[yj]:"fire-auth-compat",[vj]:"fire-rtdb",[wj]:"fire-data-connect",[xj]:"fire-rtdb-compat",[bj]:"fire-fn",[Tj]:"fire-fn-compat",[_j]:"fire-iid",[Ej]:"fire-iid-compat",[Sj]:"fire-fcm",[kj]:"fire-fcm-compat",[Ij]:"fire-perf",[Aj]:"fire-perf-compat",[Cj]:"fire-rc",[Pj]:"fire-rc-compat",[Rj]:"fire-gcs",[jj]:"fire-gcs-compat",[Dj]:"fire-fst",[Nj]:"fire-fst-compat",[Vj]:"fire-vertex","fire-js":"fire-js",[Lj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Map,Oj=new Map,Cf=new Map;function s1(t,e){try{t.container.addComponent(e)}catch(n){On.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ac(t){const e=t.name;if(Cf.has(e))return On.debug(`There were multiple attempts to register component ${e}.`),!1;Cf.set(e,t);for(const n of Ic.values())s1(n,t);for(const n of Oj.values())s1(n,t);return!0}function Bj(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function zj(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},yr=new V_("app","Firebase",Uj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wj=Mj;function Nm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Af,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw yr.create("bad-app-name",{appName:String(i)});if(n||(n=D_()),!n)throw yr.create("no-options");const s=Ic.get(i);if(s){if(kc(n,s.options)&&kc(r,s.config))return s;throw yr.create("duplicate-app",{appName:i})}const o=new G5(i);for(const c of Cf.values())o.addComponent(c);const a=new qj(n,r,o);return Ic.set(i,a),a}function $j(t=Af){const e=Ic.get(t);if(!e&&t===Af&&D_())return Nm();if(!e)throw yr.create("no-app",{appName:t});return e}function Zi(t,e,n){let r=Fj[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),On.warn(o.join(" "));return}Ac(new la(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hj="firebase-heartbeat-database",Gj=1,ca="firebase-heartbeat-store";let Zd=null;function F_(){return Zd||(Zd=oj(Hj,Gj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ca)}catch(n){console.warn(n)}}}}).catch(t=>{throw yr.create("idb-open",{originalErrorMessage:t.message})})),Zd}async function Kj(t){try{const n=(await F_()).transaction(ca),r=await n.objectStore(ca).get(O_(t));return await n.done,r}catch(e){if(e instanceof As)On.warn(e.message);else{const n=yr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});On.warn(n.message)}}}async function o1(t,e){try{const r=(await F_()).transaction(ca,"readwrite");await r.objectStore(ca).put(e,O_(t)),await r.done}catch(n){if(n instanceof As)On.warn(n.message);else{const r=yr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});On.warn(r.message)}}}function O_(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qj=1024,Yj=30;class Xj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Zj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=a1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Yj){const o=eD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){On.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=a1(),{heartbeatsToSend:r,unsentEntries:i}=Jj(this._heartbeatsCache.heartbeats),s=Sc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return On.warn(n),""}}}function a1(){return new Date().toISOString().substring(0,10)}function Jj(t,e=Qj){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),l1(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),l1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Zj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return O5()?B5().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Kj(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return o1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function l1(t){return Sc(JSON.stringify({version:2,heartbeats:t})).length}function eD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(t){Ac(new la("platform-logger",e=>new cj(e),"PRIVATE")),Ac(new la("heartbeat",e=>new Xj(e),"PRIVATE")),Zi(If,i1,t),Zi(If,i1,"esm2020"),Zi("fire-js","")}tD("");var nD="firebase",rD="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(nD,rD,"app");var c1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vr,B_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,w){function S(){}S.prototype=w.prototype,T.F=w.prototype,T.prototype=new S,T.prototype.constructor=T,T.D=function(I,R,V){for(var A=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)A[Le-2]=arguments[Le];return w.prototype[R].apply(I,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,w,S){S||(S=0);const I=Array(16);if(typeof w=="string")for(var R=0;R<16;++R)I[R]=w.charCodeAt(S++)|w.charCodeAt(S++)<<8|w.charCodeAt(S++)<<16|w.charCodeAt(S++)<<24;else for(R=0;R<16;++R)I[R]=w[S++]|w[S++]<<8|w[S++]<<16|w[S++]<<24;w=T.g[0],S=T.g[1],R=T.g[2];let V=T.g[3],A;A=w+(V^S&(R^V))+I[0]+3614090360&4294967295,w=S+(A<<7&4294967295|A>>>25),A=V+(R^w&(S^R))+I[1]+3905402710&4294967295,V=w+(A<<12&4294967295|A>>>20),A=R+(S^V&(w^S))+I[2]+606105819&4294967295,R=V+(A<<17&4294967295|A>>>15),A=S+(w^R&(V^w))+I[3]+3250441966&4294967295,S=R+(A<<22&4294967295|A>>>10),A=w+(V^S&(R^V))+I[4]+4118548399&4294967295,w=S+(A<<7&4294967295|A>>>25),A=V+(R^w&(S^R))+I[5]+1200080426&4294967295,V=w+(A<<12&4294967295|A>>>20),A=R+(S^V&(w^S))+I[6]+2821735955&4294967295,R=V+(A<<17&4294967295|A>>>15),A=S+(w^R&(V^w))+I[7]+4249261313&4294967295,S=R+(A<<22&4294967295|A>>>10),A=w+(V^S&(R^V))+I[8]+1770035416&4294967295,w=S+(A<<7&4294967295|A>>>25),A=V+(R^w&(S^R))+I[9]+2336552879&4294967295,V=w+(A<<12&4294967295|A>>>20),A=R+(S^V&(w^S))+I[10]+4294925233&4294967295,R=V+(A<<17&4294967295|A>>>15),A=S+(w^R&(V^w))+I[11]+2304563134&4294967295,S=R+(A<<22&4294967295|A>>>10),A=w+(V^S&(R^V))+I[12]+1804603682&4294967295,w=S+(A<<7&4294967295|A>>>25),A=V+(R^w&(S^R))+I[13]+4254626195&4294967295,V=w+(A<<12&4294967295|A>>>20),A=R+(S^V&(w^S))+I[14]+2792965006&4294967295,R=V+(A<<17&4294967295|A>>>15),A=S+(w^R&(V^w))+I[15]+1236535329&4294967295,S=R+(A<<22&4294967295|A>>>10),A=w+(R^V&(S^R))+I[1]+4129170786&4294967295,w=S+(A<<5&4294967295|A>>>27),A=V+(S^R&(w^S))+I[6]+3225465664&4294967295,V=w+(A<<9&4294967295|A>>>23),A=R+(w^S&(V^w))+I[11]+643717713&4294967295,R=V+(A<<14&4294967295|A>>>18),A=S+(V^w&(R^V))+I[0]+3921069994&4294967295,S=R+(A<<20&4294967295|A>>>12),A=w+(R^V&(S^R))+I[5]+3593408605&4294967295,w=S+(A<<5&4294967295|A>>>27),A=V+(S^R&(w^S))+I[10]+38016083&4294967295,V=w+(A<<9&4294967295|A>>>23),A=R+(w^S&(V^w))+I[15]+3634488961&4294967295,R=V+(A<<14&4294967295|A>>>18),A=S+(V^w&(R^V))+I[4]+3889429448&4294967295,S=R+(A<<20&4294967295|A>>>12),A=w+(R^V&(S^R))+I[9]+568446438&4294967295,w=S+(A<<5&4294967295|A>>>27),A=V+(S^R&(w^S))+I[14]+3275163606&4294967295,V=w+(A<<9&4294967295|A>>>23),A=R+(w^S&(V^w))+I[3]+4107603335&4294967295,R=V+(A<<14&4294967295|A>>>18),A=S+(V^w&(R^V))+I[8]+1163531501&4294967295,S=R+(A<<20&4294967295|A>>>12),A=w+(R^V&(S^R))+I[13]+2850285829&4294967295,w=S+(A<<5&4294967295|A>>>27),A=V+(S^R&(w^S))+I[2]+4243563512&4294967295,V=w+(A<<9&4294967295|A>>>23),A=R+(w^S&(V^w))+I[7]+1735328473&4294967295,R=V+(A<<14&4294967295|A>>>18),A=S+(V^w&(R^V))+I[12]+2368359562&4294967295,S=R+(A<<20&4294967295|A>>>12),A=w+(S^R^V)+I[5]+4294588738&4294967295,w=S+(A<<4&4294967295|A>>>28),A=V+(w^S^R)+I[8]+2272392833&4294967295,V=w+(A<<11&4294967295|A>>>21),A=R+(V^w^S)+I[11]+1839030562&4294967295,R=V+(A<<16&4294967295|A>>>16),A=S+(R^V^w)+I[14]+4259657740&4294967295,S=R+(A<<23&4294967295|A>>>9),A=w+(S^R^V)+I[1]+2763975236&4294967295,w=S+(A<<4&4294967295|A>>>28),A=V+(w^S^R)+I[4]+1272893353&4294967295,V=w+(A<<11&4294967295|A>>>21),A=R+(V^w^S)+I[7]+4139469664&4294967295,R=V+(A<<16&4294967295|A>>>16),A=S+(R^V^w)+I[10]+3200236656&4294967295,S=R+(A<<23&4294967295|A>>>9),A=w+(S^R^V)+I[13]+681279174&4294967295,w=S+(A<<4&4294967295|A>>>28),A=V+(w^S^R)+I[0]+3936430074&4294967295,V=w+(A<<11&4294967295|A>>>21),A=R+(V^w^S)+I[3]+3572445317&4294967295,R=V+(A<<16&4294967295|A>>>16),A=S+(R^V^w)+I[6]+76029189&4294967295,S=R+(A<<23&4294967295|A>>>9),A=w+(S^R^V)+I[9]+3654602809&4294967295,w=S+(A<<4&4294967295|A>>>28),A=V+(w^S^R)+I[12]+3873151461&4294967295,V=w+(A<<11&4294967295|A>>>21),A=R+(V^w^S)+I[15]+530742520&4294967295,R=V+(A<<16&4294967295|A>>>16),A=S+(R^V^w)+I[2]+3299628645&4294967295,S=R+(A<<23&4294967295|A>>>9),A=w+(R^(S|~V))+I[0]+4096336452&4294967295,w=S+(A<<6&4294967295|A>>>26),A=V+(S^(w|~R))+I[7]+1126891415&4294967295,V=w+(A<<10&4294967295|A>>>22),A=R+(w^(V|~S))+I[14]+2878612391&4294967295,R=V+(A<<15&4294967295|A>>>17),A=S+(V^(R|~w))+I[5]+4237533241&4294967295,S=R+(A<<21&4294967295|A>>>11),A=w+(R^(S|~V))+I[12]+1700485571&4294967295,w=S+(A<<6&4294967295|A>>>26),A=V+(S^(w|~R))+I[3]+2399980690&4294967295,V=w+(A<<10&4294967295|A>>>22),A=R+(w^(V|~S))+I[10]+4293915773&4294967295,R=V+(A<<15&4294967295|A>>>17),A=S+(V^(R|~w))+I[1]+2240044497&4294967295,S=R+(A<<21&4294967295|A>>>11),A=w+(R^(S|~V))+I[8]+1873313359&4294967295,w=S+(A<<6&4294967295|A>>>26),A=V+(S^(w|~R))+I[15]+4264355552&4294967295,V=w+(A<<10&4294967295|A>>>22),A=R+(w^(V|~S))+I[6]+2734768916&4294967295,R=V+(A<<15&4294967295|A>>>17),A=S+(V^(R|~w))+I[13]+1309151649&4294967295,S=R+(A<<21&4294967295|A>>>11),A=w+(R^(S|~V))+I[4]+4149444226&4294967295,w=S+(A<<6&4294967295|A>>>26),A=V+(S^(w|~R))+I[11]+3174756917&4294967295,V=w+(A<<10&4294967295|A>>>22),A=R+(w^(V|~S))+I[2]+718787259&4294967295,R=V+(A<<15&4294967295|A>>>17),A=S+(V^(R|~w))+I[9]+3951481745&4294967295,T.g[0]=T.g[0]+w&4294967295,T.g[1]=T.g[1]+(R+(A<<21&4294967295|A>>>11))&4294967295,T.g[2]=T.g[2]+R&4294967295,T.g[3]=T.g[3]+V&4294967295}r.prototype.v=function(T,w){w===void 0&&(w=T.length);const S=w-this.blockSize,I=this.C;let R=this.h,V=0;for(;V<w;){if(R==0)for(;V<=S;)i(this,T,V),V+=this.blockSize;if(typeof T=="string"){for(;V<w;)if(I[R++]=T.charCodeAt(V++),R==this.blockSize){i(this,I),R=0;break}}else for(;V<w;)if(I[R++]=T[V++],R==this.blockSize){i(this,I),R=0;break}}this.h=R,this.o+=w},r.prototype.A=function(){var T=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);T[0]=128;for(var w=1;w<T.length-8;++w)T[w]=0;w=this.o*8;for(var S=T.length-8;S<T.length;++S)T[S]=w&255,w/=256;for(this.v(T),T=Array(16),w=0,S=0;S<4;++S)for(let I=0;I<32;I+=8)T[w++]=this.g[S]>>>I&255;return T};function s(T,w){var S=a;return Object.prototype.hasOwnProperty.call(S,T)?S[T]:S[T]=w(T)}function o(T,w){this.h=w;const S=[];let I=!0;for(let R=T.length-1;R>=0;R--){const V=T[R]|0;I&&V==w||(S[R]=V,I=!1)}this.g=S}var a={};function c(T){return-128<=T&&T<128?s(T,function(w){return new o([w|0],w<0?-1:0)}):new o([T|0],T<0?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return f;if(T<0)return P(u(-T));const w=[];let S=1;for(let I=0;T>=S;I++)w[I]=T/S|0,S*=4294967296;return new o(w,0)}function h(T,w){if(T.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(T.charAt(0)=="-")return P(h(T.substring(1),w));if(T.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=u(Math.pow(w,8));let I=f;for(let V=0;V<T.length;V+=8){var R=Math.min(8,T.length-V);const A=parseInt(T.substring(V,V+R),w);R<8?(R=u(Math.pow(w,R)),I=I.j(R).add(u(A))):(I=I.j(S),I=I.add(u(A)))}return I}var f=c(0),m=c(1),v=c(16777216);t=o.prototype,t.m=function(){if(k(this))return-P(this).m();let T=0,w=1;for(let S=0;S<this.g.length;S++){const I=this.i(S);T+=(I>=0?I:4294967296+I)*w,w*=4294967296}return T},t.toString=function(T){if(T=T||10,T<2||36<T)throw Error("radix out of range: "+T);if(E(this))return"0";if(k(this))return"-"+P(this).toString(T);const w=u(Math.pow(T,6));var S=this;let I="";for(;;){const R=C(S,w).g;S=y(S,R.j(w));let V=((S.g.length>0?S.g[0]:S.h)>>>0).toString(T);if(S=R,E(S))return V+I;for(;V.length<6;)V="0"+V;I=V+I}},t.i=function(T){return T<0?0:T<this.g.length?this.g[T]:this.h};function E(T){if(T.h!=0)return!1;for(let w=0;w<T.g.length;w++)if(T.g[w]!=0)return!1;return!0}function k(T){return T.h==-1}t.l=function(T){return T=y(this,T),k(T)?-1:E(T)?0:1};function P(T){const w=T.g.length,S=[];for(let I=0;I<w;I++)S[I]=~T.g[I];return new o(S,~T.h).add(m)}t.abs=function(){return k(this)?P(this):this},t.add=function(T){const w=Math.max(this.g.length,T.g.length),S=[];let I=0;for(let R=0;R<=w;R++){let V=I+(this.i(R)&65535)+(T.i(R)&65535),A=(V>>>16)+(this.i(R)>>>16)+(T.i(R)>>>16);I=A>>>16,V&=65535,A&=65535,S[R]=A<<16|V}return new o(S,S[S.length-1]&-2147483648?-1:0)};function y(T,w){return T.add(P(w))}t.j=function(T){if(E(this)||E(T))return f;if(k(this))return k(T)?P(this).j(P(T)):P(P(this).j(T));if(k(T))return P(this.j(P(T)));if(this.l(v)<0&&T.l(v)<0)return u(this.m()*T.m());const w=this.g.length+T.g.length,S=[];for(var I=0;I<2*w;I++)S[I]=0;for(I=0;I<this.g.length;I++)for(let R=0;R<T.g.length;R++){const V=this.i(I)>>>16,A=this.i(I)&65535,Le=T.i(R)>>>16,dn=T.i(R)&65535;S[2*I+2*R]+=A*dn,x(S,2*I+2*R),S[2*I+2*R+1]+=V*dn,x(S,2*I+2*R+1),S[2*I+2*R+1]+=A*Le,x(S,2*I+2*R+1),S[2*I+2*R+2]+=V*Le,x(S,2*I+2*R+2)}for(T=0;T<w;T++)S[T]=S[2*T+1]<<16|S[2*T];for(T=w;T<2*w;T++)S[T]=0;return new o(S,0)};function x(T,w){for(;(T[w]&65535)!=T[w];)T[w+1]+=T[w]>>>16,T[w]&=65535,w++}function _(T,w){this.g=T,this.h=w}function C(T,w){if(E(w))throw Error("division by zero");if(E(T))return new _(f,f);if(k(T))return w=C(P(T),w),new _(P(w.g),P(w.h));if(k(w))return w=C(T,P(w)),new _(P(w.g),w.h);if(T.g.length>30){if(k(T)||k(w))throw Error("slowDivide_ only works with positive integers.");for(var S=m,I=w;I.l(T)<=0;)S=D(S),I=D(I);var R=M(S,1),V=M(I,1);for(I=M(I,2),S=M(S,2);!E(I);){var A=V.add(I);A.l(T)<=0&&(R=R.add(S),V=A),I=M(I,1),S=M(S,1)}return w=y(T,R.j(w)),new _(R,w)}for(R=f;T.l(w)>=0;){for(S=Math.max(1,Math.floor(T.m()/w.m())),I=Math.ceil(Math.log(S)/Math.LN2),I=I<=48?1:Math.pow(2,I-48),V=u(S),A=V.j(w);k(A)||A.l(T)>0;)S-=I,V=u(S),A=V.j(w);E(V)&&(V=m),R=R.add(V),T=y(T,A)}return new _(R,T)}t.B=function(T){return C(this,T).h},t.and=function(T){const w=Math.max(this.g.length,T.g.length),S=[];for(let I=0;I<w;I++)S[I]=this.i(I)&T.i(I);return new o(S,this.h&T.h)},t.or=function(T){const w=Math.max(this.g.length,T.g.length),S=[];for(let I=0;I<w;I++)S[I]=this.i(I)|T.i(I);return new o(S,this.h|T.h)},t.xor=function(T){const w=Math.max(this.g.length,T.g.length),S=[];for(let I=0;I<w;I++)S[I]=this.i(I)^T.i(I);return new o(S,this.h^T.h)};function D(T){const w=T.g.length+1,S=[];for(let I=0;I<w;I++)S[I]=T.i(I)<<1|T.i(I-1)>>>31;return new o(S,T.h)}function M(T,w){const S=w>>5;w%=32;const I=T.g.length-S,R=[];for(let V=0;V<I;V++)R[V]=w>0?T.i(V+S)>>>w|T.i(V+S+1)<<32-w:T.i(V+S);return new o(R,T.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,B_=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,vr=o}).apply(typeof c1<"u"?c1:typeof self<"u"?self:typeof window<"u"?window:{});var pl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z_,go,U_,Fl,Pf,q_,W_,$_;(function(){var t,e=Object.defineProperty;function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof pl=="object"&&pl];for(var p=0;p<l.length;++p){var g=l[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(l,p){if(p)e:{var g=r;l=l.split(".");for(var b=0;b<l.length-1;b++){var N=l[b];if(!(N in g))break e;g=g[N]}l=l[l.length-1],b=g[l],p=p(b),p!=b&&p!=null&&e(g,l,{configurable:!0,writable:!0,value:p})}}i("Symbol.dispose",function(l){return l||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(l){return l||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(l){return l||function(p){var g=[],b;for(b in p)Object.prototype.hasOwnProperty.call(p,b)&&g.push([b,p[b]]);return g}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(l){var p=typeof l;return p=="object"&&l!=null||p=="function"}function c(l,p,g){return l.call.apply(l.bind,arguments)}function u(l,p,g){return u=c,u.apply(null,arguments)}function h(l,p){var g=Array.prototype.slice.call(arguments,1);return function(){var b=g.slice();return b.push.apply(b,arguments),l.apply(this,b)}}function f(l,p){function g(){}g.prototype=p.prototype,l.Z=p.prototype,l.prototype=new g,l.prototype.constructor=l,l.Ob=function(b,N,L){for(var z=Array(arguments.length-2),te=2;te<arguments.length;te++)z[te-2]=arguments[te];return p.prototype[N].apply(b,z)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?l=>l&&AsyncContext.Snapshot.wrap(l):l=>l;function v(l){const p=l.length;if(p>0){const g=Array(p);for(let b=0;b<p;b++)g[b]=l[b];return g}return[]}function E(l,p){for(let b=1;b<arguments.length;b++){const N=arguments[b];var g=typeof N;if(g=g!="object"?g:N?Array.isArray(N)?"array":g:"null",g=="array"||g=="object"&&typeof N.length=="number"){g=l.length||0;const L=N.length||0;l.length=g+L;for(let z=0;z<L;z++)l[g+z]=N[z]}else l.push(N)}}class k{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function P(l){o.setTimeout(()=>{throw l},0)}function y(){var l=T;let p=null;return l.g&&(p=l.g,l.g=l.g.next,l.g||(l.h=null),p.next=null),p}class x{constructor(){this.h=this.g=null}add(p,g){const b=_.get();b.set(p,g),this.h?this.h.next=b:this.g=b,this.h=b}}var _=new k(()=>new C,l=>l.reset());class C{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let D,M=!1,T=new x,w=()=>{const l=Promise.resolve(void 0);D=()=>{l.then(S)}};function S(){for(var l;l=y();){try{l.h.call(l.g)}catch(g){P(g)}var p=_;p.j(l),p.h<100&&(p.h++,l.next=p.g,p.g=l)}M=!1}function I(){this.u=this.u,this.C=this.C}I.prototype.u=!1,I.prototype.dispose=function(){this.u||(this.u=!0,this.N())},I.prototype[Symbol.dispose]=function(){this.dispose()},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function R(l,p){this.type=l,this.g=this.target=p,this.defaultPrevented=!1}R.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var l=!1,p=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};o.addEventListener("test",g,p),o.removeEventListener("test",g,p)}catch{}return l}();function A(l){return/^[\s\xa0]*$/.test(l)}function Le(l,p){R.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l&&this.init(l,p)}f(Le,R),Le.prototype.init=function(l,p){const g=this.type=l.type,b=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;this.target=l.target||l.srcElement,this.g=p,p=l.relatedTarget,p||(g=="mouseover"?p=l.fromElement:g=="mouseout"&&(p=l.toElement)),this.relatedTarget=p,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=l.pointerType,this.state=l.state,this.i=l,l.defaultPrevented&&Le.Z.h.call(this)},Le.prototype.h=function(){Le.Z.h.call(this);const l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var dn="closure_listenable_"+(Math.random()*1e6|0),bi=0;function Re(l,p,g,b,N){this.listener=l,this.proxy=null,this.src=p,this.type=g,this.capture=!!b,this.ha=N,this.key=++bi,this.da=this.fa=!1}function U(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function K(l,p,g){for(const b in l)p.call(g,l[b],b,l)}function Z(l,p){for(const g in l)p.call(void 0,l[g],g,l)}function xe(l){const p={};for(const g in l)p[g]=l[g];return p}const je="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Br(l,p){let g,b;for(let N=1;N<arguments.length;N++){b=arguments[N];for(g in b)l[g]=b[g];for(let L=0;L<je.length;L++)g=je[L],Object.prototype.hasOwnProperty.call(b,g)&&(l[g]=b[g])}}function Ut(l){this.src=l,this.g={},this.h=0}Ut.prototype.add=function(l,p,g,b,N){const L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);const z=Jt(l,p,b,N);return z>-1?(p=l[z],g||(p.fa=!1)):(p=new Re(p,this.src,L,!!b,N),p.fa=g,l.push(p)),p};function zr(l,p){const g=p.type;if(g in l.g){var b=l.g[g],N=Array.prototype.indexOf.call(b,p,void 0),L;(L=N>=0)&&Array.prototype.splice.call(b,N,1),L&&(U(p),l.g[g].length==0&&(delete l.g[g],l.h--))}}function Jt(l,p,g,b){for(let N=0;N<l.length;++N){const L=l[N];if(!L.da&&L.listener==p&&L.capture==!!g&&L.ha==b)return N}return-1}var qn="closure_lm_"+(Math.random()*1e6|0),qu={};function fg(l,p,g,b,N){if(Array.isArray(p)){for(let L=0;L<p.length;L++)fg(l,p[L],g,b,N);return null}return g=gg(g),l&&l[dn]?l.J(p,g,a(b)?!!b.capture:!1,N):gE(l,p,g,!1,b,N)}function gE(l,p,g,b,N,L){if(!p)throw Error("Invalid event type");const z=a(N)?!!N.capture:!!N;let te=$u(l);if(te||(l[qn]=te=new Ut(l)),g=te.add(p,g,b,z,L),g.proxy)return g;if(b=yE(),g.proxy=b,b.src=l,b.listener=g,l.addEventListener)V||(N=z),N===void 0&&(N=!1),l.addEventListener(p.toString(),b,N);else if(l.attachEvent)l.attachEvent(mg(p.toString()),b);else if(l.addListener&&l.removeListener)l.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return g}function yE(){function l(g){return p.call(l.src,l.listener,g)}const p=vE;return l}function pg(l,p,g,b,N){if(Array.isArray(p))for(var L=0;L<p.length;L++)pg(l,p[L],g,b,N);else b=a(b)?!!b.capture:!!b,g=gg(g),l&&l[dn]?(l=l.i,L=String(p).toString(),L in l.g&&(p=l.g[L],g=Jt(p,g,b,N),g>-1&&(U(p[g]),Array.prototype.splice.call(p,g,1),p.length==0&&(delete l.g[L],l.h--)))):l&&(l=$u(l))&&(p=l.g[p.toString()],l=-1,p&&(l=Jt(p,g,b,N)),(g=l>-1?p[l]:null)&&Wu(g))}function Wu(l){if(typeof l!="number"&&l&&!l.da){var p=l.src;if(p&&p[dn])zr(p.i,l);else{var g=l.type,b=l.proxy;p.removeEventListener?p.removeEventListener(g,b,l.capture):p.detachEvent?p.detachEvent(mg(g),b):p.addListener&&p.removeListener&&p.removeListener(b),(g=$u(p))?(zr(g,l),g.h==0&&(g.src=null,p[qn]=null)):U(l)}}}function mg(l){return l in qu?qu[l]:qu[l]="on"+l}function vE(l,p){if(l.da)l=!0;else{p=new Le(p,this);const g=l.listener,b=l.ha||l.src;l.fa&&Wu(l),l=g.call(b,p)}return l}function $u(l){return l=l[qn],l instanceof Ut?l:null}var Hu="__closure_events_fn_"+(Math.random()*1e9>>>0);function gg(l){return typeof l=="function"?l:(l[Hu]||(l[Hu]=function(p){return l.handleEvent(p)}),l[Hu])}function ot(){I.call(this),this.i=new Ut(this),this.M=this,this.G=null}f(ot,I),ot.prototype[dn]=!0,ot.prototype.removeEventListener=function(l,p,g,b){pg(this,l,p,g,b)};function gt(l,p){var g,b=l.G;if(b)for(g=[];b;b=b.G)g.push(b);if(l=l.M,b=p.type||p,typeof p=="string")p=new R(p,l);else if(p instanceof R)p.target=p.target||l;else{var N=p;p=new R(b,l),Br(p,N)}N=!0;let L,z;if(g)for(z=g.length-1;z>=0;z--)L=p.g=g[z],N=Da(L,b,!0,p)&&N;if(L=p.g=l,N=Da(L,b,!0,p)&&N,N=Da(L,b,!1,p)&&N,g)for(z=0;z<g.length;z++)L=p.g=g[z],N=Da(L,b,!1,p)&&N}ot.prototype.N=function(){if(ot.Z.N.call(this),this.i){var l=this.i;for(const p in l.g){const g=l.g[p];for(let b=0;b<g.length;b++)U(g[b]);delete l.g[p],l.h--}}this.G=null},ot.prototype.J=function(l,p,g,b){return this.i.add(String(l),p,!1,g,b)},ot.prototype.K=function(l,p,g,b){return this.i.add(String(l),p,!0,g,b)};function Da(l,p,g,b){if(p=l.i.g[String(p)],!p)return!0;p=p.concat();let N=!0;for(let L=0;L<p.length;++L){const z=p[L];if(z&&!z.da&&z.capture==g){const te=z.listener,ze=z.ha||z.src;z.fa&&zr(l.i,z),N=te.call(ze,b)!==!1&&N}}return N&&!b.defaultPrevented}function wE(l,p){if(typeof l!="function")if(l&&typeof l.handleEvent=="function")l=u(l.handleEvent,l);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:o.setTimeout(l,p||0)}function yg(l){l.g=wE(()=>{l.g=null,l.i&&(l.i=!1,yg(l))},l.l);const p=l.h;l.h=null,l.m.apply(null,p)}class xE extends I{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:yg(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ds(l){I.call(this),this.h=l,this.g={}}f(Ds,I);var vg=[];function wg(l){K(l.g,function(p,g){this.g.hasOwnProperty(g)&&Wu(p)},l),l.g={}}Ds.prototype.N=function(){Ds.Z.N.call(this),wg(this)},Ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gu=o.JSON.stringify,bE=o.JSON.parse,TE=class{stringify(l){return o.JSON.stringify(l,void 0)}parse(l){return o.JSON.parse(l,void 0)}};function xg(){}function bg(){}var Vs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ku(){R.call(this,"d")}f(Ku,R);function Qu(){R.call(this,"c")}f(Qu,R);var Ur={},Tg=null;function Va(){return Tg=Tg||new ot}Ur.Ia="serverreachability";function _g(l){R.call(this,Ur.Ia,l)}f(_g,R);function Ns(l){const p=Va();gt(p,new _g(p))}Ur.STAT_EVENT="statevent";function Eg(l,p){R.call(this,Ur.STAT_EVENT,l),this.stat=p}f(Eg,R);function yt(l){const p=Va();gt(p,new Eg(p,l))}Ur.Ja="timingevent";function Sg(l,p){R.call(this,Ur.Ja,l),this.size=p}f(Sg,R);function Ls(l,p){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){l()},p)}function Ms(){this.g=!0}Ms.prototype.ua=function(){this.g=!1};function _E(l,p,g,b,N,L){l.info(function(){if(l.g)if(L){var z="",te=L.split("&");for(let he=0;he<te.length;he++){var ze=te[he].split("=");if(ze.length>1){const He=ze[0];ze=ze[1];const fn=He.split("_");z=fn.length>=2&&fn[1]=="type"?z+(He+"="+ze+"&"):z+(He+"=redacted&")}}}else z=null;else z=L;return"XMLHTTP REQ ("+b+") [attempt "+N+"]: "+p+`
`+g+`
`+z})}function EE(l,p,g,b,N,L,z){l.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+N+"]: "+p+`
`+g+`
`+L+" "+z})}function Ti(l,p,g,b){l.info(function(){return"XMLHTTP TEXT ("+p+"): "+kE(l,g)+(b?" "+b:"")})}function SE(l,p){l.info(function(){return"TIMEOUT: "+p})}Ms.prototype.info=function(){};function kE(l,p){if(!l.g)return p;if(!p)return null;try{const L=JSON.parse(p);if(L){for(l=0;l<L.length;l++)if(Array.isArray(L[l])){var g=L[l];if(!(g.length<2)){var b=g[1];if(Array.isArray(b)&&!(b.length<1)){var N=b[0];if(N!="noop"&&N!="stop"&&N!="close")for(let z=1;z<b.length;z++)b[z]=""}}}}return Gu(L)}catch{return p}}var Na={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},kg={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ig;function Yu(){}f(Yu,xg),Yu.prototype.g=function(){return new XMLHttpRequest},Ig=new Yu;function Fs(l){return encodeURIComponent(String(l))}function IE(l){var p=1;l=l.split(":");const g=[];for(;p>0&&l.length;)g.push(l.shift()),p--;return l.length&&g.push(l.join(":")),g}function Wn(l,p,g,b){this.j=l,this.i=p,this.l=g,this.S=b||1,this.V=new Ds(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ag}function Ag(){this.i=null,this.g="",this.h=!1}var Cg={},Xu={};function Ju(l,p,g){l.M=1,l.A=Ma(hn(p)),l.u=g,l.R=!0,Pg(l,null)}function Pg(l,p){l.F=Date.now(),La(l),l.B=hn(l.A);var g=l.B,b=l.S;Array.isArray(b)||(b=[String(b)]),qg(g.i,"t",b),l.C=0,g=l.j.L,l.h=new Ag,l.g=ay(l.j,g?p:null,!l.u),l.P>0&&(l.O=new xE(u(l.Y,l,l.g),l.P)),p=l.V,g=l.g,b=l.ba;var N="readystatechange";Array.isArray(N)||(N&&(vg[0]=N.toString()),N=vg);for(let L=0;L<N.length;L++){const z=fg(g,N[L],b||p.handleEvent,!1,p.h||p);if(!z)break;p.g[z.key]=z}p=l.J?xe(l.J):{},l.u?(l.v||(l.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.B,l.v,l.u,p)):(l.v="GET",l.g.ea(l.B,l.v,null,p)),Ns(),_E(l.i,l.v,l.B,l.l,l.S,l.u)}Wn.prototype.ba=function(l){l=l.target;const p=this.O;p&&Gn(l)==3?p.j():this.Y(l)},Wn.prototype.Y=function(l){try{if(l==this.g)e:{const te=Gn(this.g),ze=this.g.ya(),he=this.g.ca();if(!(te<3)&&(te!=3||this.g&&(this.h.h||this.g.la()||Yg(this.g)))){this.K||te!=4||ze==7||(ze==8||he<=0?Ns(3):Ns(2)),Zu(this);var p=this.g.ca();this.X=p;var g=AE(this);if(this.o=p==200,EE(this.i,this.v,this.B,this.l,this.S,te,p),this.o){if(this.U&&!this.L){t:{if(this.g){var b,N=this.g;if((b=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(b)){var L=b;break t}}L=null}if(l=L)Ti(this.i,this.l,l,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ed(this,l);else{this.o=!1,this.m=3,yt(12),qr(this),Os(this);break e}}if(this.R){l=!0;let He;for(;!this.K&&this.C<g.length;)if(He=CE(this,g),He==Xu){te==4&&(this.m=4,yt(14),l=!1),Ti(this.i,this.l,null,"[Incomplete Response]");break}else if(He==Cg){this.m=4,yt(15),Ti(this.i,this.l,g,"[Invalid Chunk]"),l=!1;break}else Ti(this.i,this.l,He,null),ed(this,He);if(Rg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),te!=4||g.length!=0||this.h.h||(this.m=1,yt(16),l=!1),this.o=this.o&&l,!l)Ti(this.i,this.l,g,"[Invalid Chunked Response]"),qr(this),Os(this);else if(g.length>0&&!this.W){this.W=!0;var z=this.j;z.g==this&&z.aa&&!z.P&&(z.j.info("Great, no buffering proxy detected. Bytes received: "+g.length),ld(z),z.P=!0,yt(11))}}else Ti(this.i,this.l,g,null),ed(this,g);te==4&&qr(this),this.o&&!this.K&&(te==4?ry(this.j,this):(this.o=!1,La(this)))}else qE(this.g),p==400&&g.indexOf("Unknown SID")>0?(this.m=3,yt(12)):(this.m=0,yt(13)),qr(this),Os(this)}}}catch{}finally{}};function AE(l){if(!Rg(l))return l.g.la();const p=Yg(l.g);if(p==="")return"";let g="";const b=p.length,N=Gn(l.g)==4;if(!l.h.i){if(typeof TextDecoder>"u")return qr(l),Os(l),"";l.h.i=new o.TextDecoder}for(let L=0;L<b;L++)l.h.h=!0,g+=l.h.i.decode(p[L],{stream:!(N&&L==b-1)});return p.length=0,l.h.g+=g,l.C=0,l.h.g}function Rg(l){return l.g?l.v=="GET"&&l.M!=2&&l.j.Aa:!1}function CE(l,p){var g=l.C,b=p.indexOf(`
`,g);return b==-1?Xu:(g=Number(p.substring(g,b)),isNaN(g)?Cg:(b+=1,b+g>p.length?Xu:(p=p.slice(b,b+g),l.C=b+g,p)))}Wn.prototype.cancel=function(){this.K=!0,qr(this)};function La(l){l.T=Date.now()+l.H,jg(l,l.H)}function jg(l,p){if(l.D!=null)throw Error("WatchDog timer not null");l.D=Ls(u(l.aa,l),p)}function Zu(l){l.D&&(o.clearTimeout(l.D),l.D=null)}Wn.prototype.aa=function(){this.D=null;const l=Date.now();l-this.T>=0?(SE(this.i,this.B),this.M!=2&&(Ns(),yt(17)),qr(this),this.m=2,Os(this)):jg(this,this.T-l)};function Os(l){l.j.I==0||l.K||ry(l.j,l)}function qr(l){Zu(l);var p=l.O;p&&typeof p.dispose=="function"&&p.dispose(),l.O=null,wg(l.V),l.g&&(p=l.g,l.g=null,p.abort(),p.dispose())}function ed(l,p){try{var g=l.j;if(g.I!=0&&(g.g==l||td(g.h,l))){if(!l.L&&td(g.h,l)&&g.I==3){try{var b=g.Ba.g.parse(p)}catch{b=null}if(Array.isArray(b)&&b.length==3){var N=b;if(N[0]==0){e:if(!g.v){if(g.g)if(g.g.F+3e3<l.F)Ua(g),Ba(g);else break e;ad(g),yt(18)}}else g.xa=N[1],0<g.xa-g.K&&N[2]<37500&&g.F&&g.A==0&&!g.C&&(g.C=Ls(u(g.Va,g),6e3));Ng(g.h)<=1&&g.ta&&(g.ta=void 0)}else $r(g,11)}else if((l.L||g.g==l)&&Ua(g),!A(p))for(N=g.Ba.g.parse(p),p=0;p<N.length;p++){let he=N[p];const He=he[0];if(!(He<=g.K))if(g.K=He,he=he[1],g.I==2)if(he[0]=="c"){g.M=he[1],g.ba=he[2];const fn=he[3];fn!=null&&(g.ka=fn,g.j.info("VER="+g.ka));const Hr=he[4];Hr!=null&&(g.za=Hr,g.j.info("SVER="+g.za));const Kn=he[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(b=1.5*Kn,g.O=b,g.j.info("backChannelRequestTimeoutMs_="+b)),b=g;const Qn=l.g;if(Qn){const Wa=Qn.g?Qn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wa){var L=b.h;L.g||Wa.indexOf("spdy")==-1&&Wa.indexOf("quic")==-1&&Wa.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(nd(L,L.h),L.h=null))}if(b.G){const cd=Qn.g?Qn.g.getResponseHeader("X-HTTP-Session-Id"):null;cd&&(b.wa=cd,pe(b.J,b.G,cd))}}g.I=3,g.l&&g.l.ra(),g.aa&&(g.T=Date.now()-l.F,g.j.info("Handshake RTT: "+g.T+"ms")),b=g;var z=l;if(b.na=oy(b,b.L?b.ba:null,b.W),z.L){Lg(b.h,z);var te=z,ze=b.O;ze&&(te.H=ze),te.D&&(Zu(te),La(te)),b.g=z}else ty(b);g.i.length>0&&za(g)}else he[0]!="stop"&&he[0]!="close"||$r(g,7);else g.I==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?$r(g,7):od(g):he[0]!="noop"&&g.l&&g.l.qa(he),g.A=0)}}Ns(4)}catch{}}var PE=class{constructor(l,p){this.g=l,this.map=p}};function Dg(l){this.l=l||10,o.PerformanceNavigationTiming?(l=o.performance.getEntriesByType("navigation"),l=l.length>0&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vg(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Ng(l){return l.h?1:l.g?l.g.size:0}function td(l,p){return l.h?l.h==p:l.g?l.g.has(p):!1}function nd(l,p){l.g?l.g.add(p):l.h=p}function Lg(l,p){l.h&&l.h==p?l.h=null:l.g&&l.g.has(p)&&l.g.delete(p)}Dg.prototype.cancel=function(){if(this.i=Mg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Mg(l){if(l.h!=null)return l.i.concat(l.h.G);if(l.g!=null&&l.g.size!==0){let p=l.i;for(const g of l.g.values())p=p.concat(g.G);return p}return v(l.i)}var Fg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function RE(l,p){if(l){l=l.split("&");for(let g=0;g<l.length;g++){const b=l[g].indexOf("=");let N,L=null;b>=0?(N=l[g].substring(0,b),L=l[g].substring(b+1)):N=l[g],p(N,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function $n(l){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;l instanceof $n?(this.l=l.l,Bs(this,l.j),this.o=l.o,this.g=l.g,zs(this,l.u),this.h=l.h,rd(this,Wg(l.i)),this.m=l.m):l&&(p=String(l).match(Fg))?(this.l=!1,Bs(this,p[1]||"",!0),this.o=Us(p[2]||""),this.g=Us(p[3]||"",!0),zs(this,p[4]),this.h=Us(p[5]||"",!0),rd(this,p[6]||"",!0),this.m=Us(p[7]||"")):(this.l=!1,this.i=new Ws(null,this.l))}$n.prototype.toString=function(){const l=[];var p=this.j;p&&l.push(qs(p,Og,!0),":");var g=this.g;return(g||p=="file")&&(l.push("//"),(p=this.o)&&l.push(qs(p,Og,!0),"@"),l.push(Fs(g).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.u,g!=null&&l.push(":",String(g))),(g=this.h)&&(this.g&&g.charAt(0)!="/"&&l.push("/"),l.push(qs(g,g.charAt(0)=="/"?VE:DE,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",qs(g,LE)),l.join("")},$n.prototype.resolve=function(l){const p=hn(this);let g=!!l.j;g?Bs(p,l.j):g=!!l.o,g?p.o=l.o:g=!!l.g,g?p.g=l.g:g=l.u!=null;var b=l.h;if(g)zs(p,l.u);else if(g=!!l.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var N=p.h.lastIndexOf("/");N!=-1&&(b=p.h.slice(0,N+1)+b)}if(N=b,N==".."||N==".")b="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){b=N.lastIndexOf("/",0)==0,N=N.split("/");const L=[];for(let z=0;z<N.length;){const te=N[z++];te=="."?b&&z==N.length&&L.push(""):te==".."?((L.length>1||L.length==1&&L[0]!="")&&L.pop(),b&&z==N.length&&L.push("")):(L.push(te),b=!0)}b=L.join("/")}else b=N}return g?p.h=b:g=l.i.toString()!=="",g?rd(p,Wg(l.i)):g=!!l.m,g&&(p.m=l.m),p};function hn(l){return new $n(l)}function Bs(l,p,g){l.j=g?Us(p,!0):p,l.j&&(l.j=l.j.replace(/:$/,""))}function zs(l,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);l.u=p}else l.u=null}function rd(l,p,g){p instanceof Ws?(l.i=p,ME(l.i,l.l)):(g||(p=qs(p,NE)),l.i=new Ws(p,l.l))}function pe(l,p,g){l.i.set(p,g)}function Ma(l){return pe(l,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),l}function Us(l,p){return l?p?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function qs(l,p,g){return typeof l=="string"?(l=encodeURI(l).replace(p,jE),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function jE(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Og=/[#\/\?@]/g,DE=/[#\?:]/g,VE=/[#\?]/g,NE=/[#\?@]/g,LE=/#/g;function Ws(l,p){this.h=this.g=null,this.i=l||null,this.j=!!p}function Wr(l){l.g||(l.g=new Map,l.h=0,l.i&&RE(l.i,function(p,g){l.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Ws.prototype,t.add=function(l,p){Wr(this),this.i=null,l=_i(this,l);let g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(p),this.h+=1,this};function Bg(l,p){Wr(l),p=_i(l,p),l.g.has(p)&&(l.i=null,l.h-=l.g.get(p).length,l.g.delete(p))}function zg(l,p){return Wr(l),p=_i(l,p),l.g.has(p)}t.forEach=function(l,p){Wr(this),this.g.forEach(function(g,b){g.forEach(function(N){l.call(p,N,b,this)},this)},this)};function Ug(l,p){Wr(l);let g=[];if(typeof p=="string")zg(l,p)&&(g=g.concat(l.g.get(_i(l,p))));else for(l=Array.from(l.g.values()),p=0;p<l.length;p++)g=g.concat(l[p]);return g}t.set=function(l,p){return Wr(this),this.i=null,l=_i(this,l),zg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[p]),this.h+=1,this},t.get=function(l,p){return l?(l=Ug(this,l),l.length>0?String(l[0]):p):p};function qg(l,p,g){Bg(l,p),g.length>0&&(l.i=null,l.g.set(_i(l,p),v(g)),l.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],p=Array.from(this.g.keys());for(let b=0;b<p.length;b++){var g=p[b];const N=Fs(g);g=Ug(this,g);for(let L=0;L<g.length;L++){let z=N;g[L]!==""&&(z+="="+Fs(g[L])),l.push(z)}}return this.i=l.join("&")};function Wg(l){const p=new Ws;return p.i=l.i,l.g&&(p.g=new Map(l.g),p.h=l.h),p}function _i(l,p){return p=String(p),l.j&&(p=p.toLowerCase()),p}function ME(l,p){p&&!l.j&&(Wr(l),l.i=null,l.g.forEach(function(g,b){const N=b.toLowerCase();b!=N&&(Bg(this,b),qg(this,N,g))},l)),l.j=p}function FE(l,p){const g=new Ms;if(o.Image){const b=new Image;b.onload=h(Hn,g,"TestLoadImage: loaded",!0,p,b),b.onerror=h(Hn,g,"TestLoadImage: error",!1,p,b),b.onabort=h(Hn,g,"TestLoadImage: abort",!1,p,b),b.ontimeout=h(Hn,g,"TestLoadImage: timeout",!1,p,b),o.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=l}else p(!1)}function OE(l,p){const g=new Ms,b=new AbortController,N=setTimeout(()=>{b.abort(),Hn(g,"TestPingServer: timeout",!1,p)},1e4);fetch(l,{signal:b.signal}).then(L=>{clearTimeout(N),L.ok?Hn(g,"TestPingServer: ok",!0,p):Hn(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(N),Hn(g,"TestPingServer: error",!1,p)})}function Hn(l,p,g,b,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),b(g)}catch{}}function BE(){this.g=new TE}function id(l){this.i=l.Sb||null,this.h=l.ab||!1}f(id,xg),id.prototype.g=function(){return new Fa(this.i,this.h)};function Fa(l,p){ot.call(this),this.H=l,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(Fa,ot),t=Fa.prototype,t.open=function(l,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=l,this.D=p,this.readyState=1,Hs(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};l&&(p.body=l),(this.H||o).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},t.Pa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$g(this)}else l.text().then(this.Oa.bind(this),this.ga.bind(this))};function $g(l){l.j.read().then(l.Ma.bind(l)).catch(l.ga.bind(l))}t.Ma=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var p=l.value?l.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!l.done}))&&(this.response=this.responseText+=p)}l.done?$s(this):Hs(this),this.readyState==3&&$g(this)}},t.Oa=function(l){this.g&&(this.response=this.responseText=l,$s(this))},t.Na=function(l){this.g&&(this.response=l,$s(this))},t.ga=function(){this.g&&$s(this)};function $s(l){l.readyState=4,l.l=null,l.j=null,l.B=null,Hs(l)}t.setRequestHeader=function(l,p){this.A.append(l,p)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,l.push(g[0]+": "+g[1]),g=p.next();return l.join(`\r
`)};function Hs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(Fa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Hg(l){let p="";return K(l,function(g,b){p+=b,p+=":",p+=g,p+=`\r
`}),p}function sd(l,p,g){e:{for(b in g){var b=!1;break e}b=!0}b||(g=Hg(g),typeof l=="string"?g!=null&&Fs(g):pe(l,p,g))}function Ie(l){ot.call(this),this.headers=new Map,this.L=l||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(Ie,ot);var zE=/^https?$/i,UE=["POST","PUT"];t=Ie.prototype,t.Fa=function(l){this.H=l},t.ea=function(l,p,g,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);p=p?p.toUpperCase():"GET",this.D=l,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ig.g(),this.g.onreadystatechange=m(u(this.Ca,this));try{this.B=!0,this.g.open(p,String(l),!0),this.B=!1}catch(L){Gg(this,L);return}if(l=g||"",g=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var N in b)g.set(N,b[N]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const L of b.keys())g.set(L,b.get(L));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(g.keys()).find(L=>L.toLowerCase()=="content-type"),N=o.FormData&&l instanceof o.FormData,!(Array.prototype.indexOf.call(UE,p,void 0)>=0)||b||N||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,z]of g)this.g.setRequestHeader(L,z);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(l),this.v=!1}catch(L){Gg(this,L)}};function Gg(l,p){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=p,l.o=5,Kg(l),Oa(l)}function Kg(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=l||7,gt(this,"complete"),gt(this,"abort"),Oa(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Oa(this,!0)),Ie.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Qg(this):this.Xa())},t.Xa=function(){Qg(this)};function Qg(l){if(l.h&&typeof s<"u"){if(l.v&&Gn(l)==4)setTimeout(l.Ca.bind(l),0);else if(gt(l,"readystatechange"),Gn(l)==4){l.h=!1;try{const L=l.ca();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var b;if(b=L===0){let z=String(l.D).match(Fg)[1]||null;!z&&o.self&&o.self.location&&(z=o.self.location.protocol.slice(0,-1)),b=!zE.test(z?z.toLowerCase():"")}g=b}if(g)gt(l,"complete"),gt(l,"success");else{l.o=6;try{var N=Gn(l)>2?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.ca()+"]",Kg(l)}}finally{Oa(l)}}}}function Oa(l,p){if(l.g){l.m&&(clearTimeout(l.m),l.m=null);const g=l.g;l.g=null,p||gt(l,"ready");try{g.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Gn(l){return l.g?l.g.readyState:0}t.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(l){if(this.g){var p=this.g.responseText;return l&&p.indexOf(l)==0&&(p=p.substring(l.length)),bE(p)}};function Yg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.F){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function qE(l){const p={};l=(l.g&&Gn(l)>=2&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<l.length;b++){if(A(l[b]))continue;var g=IE(l[b]);const N=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const L=p[N]||[];p[N]=L,L.push(g)}Z(p,function(b){return b.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gs(l,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||p}function Xg(l){this.za=0,this.i=[],this.j=new Ms,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Gs("failFast",!1,l),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Gs("baseRetryDelayMs",5e3,l),this.Za=Gs("retryDelaySeedMs",1e4,l),this.Ta=Gs("forwardChannelMaxRetries",2,l),this.va=Gs("forwardChannelRequestTimeoutMs",2e4,l),this.ma=l&&l.xmlHttpFactory||void 0,this.Ua=l&&l.Rb||void 0,this.Aa=l&&l.useFetchStreams||!1,this.O=void 0,this.L=l&&l.supportsCrossDomainXhr||!1,this.M="",this.h=new Dg(l&&l.concurrentRequestLimit),this.Ba=new BE,this.S=l&&l.fastHandshake||!1,this.R=l&&l.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=l&&l.Pb||!1,l&&l.ua&&this.j.ua(),l&&l.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&l&&l.detectBufferingProxy||!1,this.ia=void 0,l&&l.longPollingTimeout&&l.longPollingTimeout>0&&(this.ia=l.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Xg.prototype,t.ka=8,t.I=1,t.connect=function(l,p,g,b){yt(0),this.W=l,this.H=p||{},g&&b!==void 0&&(this.H.OSID=g,this.H.OAID=b),this.F=this.X,this.J=oy(this,null,this.W),za(this)};function od(l){if(Jg(l),l.I==3){var p=l.V++,g=hn(l.J);if(pe(g,"SID",l.M),pe(g,"RID",p),pe(g,"TYPE","terminate"),Ks(l,g),p=new Wn(l,l.j,p),p.M=2,p.A=Ma(hn(g)),g=!1,o.navigator&&o.navigator.sendBeacon)try{g=o.navigator.sendBeacon(p.A.toString(),"")}catch{}!g&&o.Image&&(new Image().src=p.A,g=!0),g||(p.g=ay(p.j,null),p.g.ea(p.A)),p.F=Date.now(),La(p)}sy(l)}function Ba(l){l.g&&(ld(l),l.g.cancel(),l.g=null)}function Jg(l){Ba(l),l.v&&(o.clearTimeout(l.v),l.v=null),Ua(l),l.h.cancel(),l.m&&(typeof l.m=="number"&&o.clearTimeout(l.m),l.m=null)}function za(l){if(!Vg(l.h)&&!l.m){l.m=!0;var p=l.Ea;D||w(),M||(D(),M=!0),T.add(p,l),l.D=0}}function WE(l,p){return Ng(l.h)>=l.h.j-(l.m?1:0)?!1:l.m?(l.i=p.G.concat(l.i),!0):l.I==1||l.I==2||l.D>=(l.Sa?0:l.Ta)?!1:(l.m=Ls(u(l.Ea,l,p),iy(l,l.D)),l.D++,!0)}t.Ea=function(l){if(this.m)if(this.m=null,this.I==1){if(!l){this.V=Math.floor(Math.random()*1e5),l=this.V++;const N=new Wn(this,this.j,l);let L=this.o;if(this.U&&(L?(L=xe(L),Br(L,this.U)):L=this.U),this.u!==null||this.R||(N.J=L,L=null),this.S)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var b=this.i[g];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(p+=b,p>4096){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=ey(this,N,p),g=hn(this.J),pe(g,"RID",l),pe(g,"CVER",22),this.G&&pe(g,"X-HTTP-Session-Id",this.G),Ks(this,g),L&&(this.R?p="headers="+Fs(Hg(L))+"&"+p:this.u&&sd(g,this.u,L)),nd(this.h,N),this.Ra&&pe(g,"TYPE","init"),this.S?(pe(g,"$req",p),pe(g,"SID","null"),N.U=!0,Ju(N,g,null)):Ju(N,g,p),this.I=2}}else this.I==3&&(l?Zg(this,l):this.i.length==0||Vg(this.h)||Zg(this))};function Zg(l,p){var g;p?g=p.l:g=l.V++;const b=hn(l.J);pe(b,"SID",l.M),pe(b,"RID",g),pe(b,"AID",l.K),Ks(l,b),l.u&&l.o&&sd(b,l.u,l.o),g=new Wn(l,l.j,g,l.D+1),l.u===null&&(g.J=l.o),p&&(l.i=p.G.concat(l.i)),p=ey(l,g,1e3),g.H=Math.round(l.va*.5)+Math.round(l.va*.5*Math.random()),nd(l.h,g),Ju(g,b,p)}function Ks(l,p){l.H&&K(l.H,function(g,b){pe(p,b,g)}),l.l&&K({},function(g,b){pe(p,b,g)})}function ey(l,p,g){g=Math.min(l.i.length,g);const b=l.l?u(l.l.Ka,l.l,l):null;e:{var N=l.i;let te=-1;for(;;){const ze=["count="+g];te==-1?g>0?(te=N[0].g,ze.push("ofs="+te)):te=0:ze.push("ofs="+te);let he=!0;for(let He=0;He<g;He++){var L=N[He].g;const fn=N[He].map;if(L-=te,L<0)te=Math.max(0,N[He].g-100),he=!1;else try{L="req"+L+"_"||"";try{var z=fn instanceof Map?fn:Object.entries(fn);for(const[Hr,Kn]of z){let Qn=Kn;a(Kn)&&(Qn=Gu(Kn)),ze.push(L+Hr+"="+encodeURIComponent(Qn))}}catch(Hr){throw ze.push(L+"type="+encodeURIComponent("_badmap")),Hr}}catch{b&&b(fn)}}if(he){z=ze.join("&");break e}}z=void 0}return l=l.i.splice(0,g),p.G=l,z}function ty(l){if(!l.g&&!l.v){l.Y=1;var p=l.Da;D||w(),M||(D(),M=!0),T.add(p,l),l.A=0}}function ad(l){return l.g||l.v||l.A>=3?!1:(l.Y++,l.v=Ls(u(l.Da,l),iy(l,l.A)),l.A++,!0)}t.Da=function(){if(this.v=null,ny(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var l=4*this.T;this.j.info("BP detection timer enabled: "+l),this.B=Ls(u(this.Wa,this),l)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,yt(10),Ba(this),ny(this))};function ld(l){l.B!=null&&(o.clearTimeout(l.B),l.B=null)}function ny(l){l.g=new Wn(l,l.j,"rpc",l.Y),l.u===null&&(l.g.J=l.o),l.g.P=0;var p=hn(l.na);pe(p,"RID","rpc"),pe(p,"SID",l.M),pe(p,"AID",l.K),pe(p,"CI",l.F?"0":"1"),!l.F&&l.ia&&pe(p,"TO",l.ia),pe(p,"TYPE","xmlhttp"),Ks(l,p),l.u&&l.o&&sd(p,l.u,l.o),l.O&&(l.g.H=l.O);var g=l.g;l=l.ba,g.M=1,g.A=Ma(hn(p)),g.u=null,g.R=!0,Pg(g,l)}t.Va=function(){this.C!=null&&(this.C=null,Ba(this),ad(this),yt(19))};function Ua(l){l.C!=null&&(o.clearTimeout(l.C),l.C=null)}function ry(l,p){var g=null;if(l.g==p){Ua(l),ld(l),l.g=null;var b=2}else if(td(l.h,p))g=p.G,Lg(l.h,p),b=1;else return;if(l.I!=0){if(p.o)if(b==1){g=p.u?p.u.length:0,p=Date.now()-p.F;var N=l.D;b=Va(),gt(b,new Sg(b,g)),za(l)}else ty(l);else if(N=p.m,N==3||N==0&&p.X>0||!(b==1&&WE(l,p)||b==2&&ad(l)))switch(g&&g.length>0&&(p=l.h,p.i=p.i.concat(g)),N){case 1:$r(l,5);break;case 4:$r(l,10);break;case 3:$r(l,6);break;default:$r(l,2)}}}function iy(l,p){let g=l.Qa+Math.floor(Math.random()*l.Za);return l.isActive()||(g*=2),g*p}function $r(l,p){if(l.j.info("Error code "+p),p==2){var g=u(l.bb,l),b=l.Ua;const N=!b;b=new $n(b||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Bs(b,"https"),Ma(b),N?FE(b.toString(),g):OE(b.toString(),g)}else yt(2);l.I=0,l.l&&l.l.pa(p),sy(l),Jg(l)}t.bb=function(l){l?(this.j.info("Successfully pinged google.com"),yt(2)):(this.j.info("Failed to ping google.com"),yt(1))};function sy(l){if(l.I=0,l.ja=[],l.l){const p=Mg(l.h);(p.length!=0||l.i.length!=0)&&(E(l.ja,p),E(l.ja,l.i),l.h.i.length=0,v(l.i),l.i.length=0),l.l.oa()}}function oy(l,p,g){var b=g instanceof $n?hn(g):new $n(g);if(b.g!="")p&&(b.g=p+"."+b.g),zs(b,b.u);else{var N=o.location;b=N.protocol,p=p?p+"."+N.hostname:N.hostname,N=+N.port;const L=new $n(null);b&&Bs(L,b),p&&(L.g=p),N&&zs(L,N),g&&(L.h=g),b=L}return g=l.G,p=l.wa,g&&p&&pe(b,g,p),pe(b,"VER",l.ka),Ks(l,b),b}function ay(l,p,g){if(p&&!l.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=l.Aa&&!l.ma?new Ie(new id({ab:g})):new Ie(l.ma),p.Fa(l.L),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ly(){}t=ly.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qa(){}qa.prototype.g=function(l,p){return new Rt(l,p)};function Rt(l,p){ot.call(this),this.g=new Xg(p),this.l=l,this.h=p&&p.messageUrlParams||null,l=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(l?l["X-WebChannel-Content-Type"]=p.messageContentType:l={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(l?l["X-WebChannel-Client-Profile"]=p.sa:l={"X-WebChannel-Client-Profile":p.sa}),this.g.U=l,(l=p&&p.Qb)&&!A(l)&&(this.g.u=l),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!A(p)&&(this.g.G=p,l=this.h,l!==null&&p in l&&(l=this.h,p in l&&delete l[p])),this.j=new Ei(this)}f(Rt,ot),Rt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){od(this.g)},Rt.prototype.o=function(l){var p=this.g;if(typeof l=="string"){var g={};g.__data__=l,l=g}else this.v&&(g={},g.__data__=Gu(l),l=g);p.i.push(new PE(p.Ya++,l)),p.I==3&&za(p)},Rt.prototype.N=function(){this.g.l=null,delete this.j,od(this.g),delete this.g,Rt.Z.N.call(this)};function cy(l){Ku.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var p=l.__sm__;if(p){e:{for(const g in p){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,p=p!==null&&l in p?p[l]:void 0),this.data=p}else this.data=l}f(cy,Ku);function uy(){Qu.call(this),this.status=1}f(uy,Qu);function Ei(l){this.g=l}f(Ei,ly),Ei.prototype.ra=function(){gt(this.g,"a")},Ei.prototype.qa=function(l){gt(this.g,new cy(l))},Ei.prototype.pa=function(l){gt(this.g,new uy)},Ei.prototype.oa=function(){gt(this.g,"b")},qa.prototype.createWebChannel=qa.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,$_=function(){return new qa},W_=function(){return Va()},q_=Ur,Pf={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Na.NO_ERROR=0,Na.TIMEOUT=8,Na.HTTP_ERROR=6,Fl=Na,kg.COMPLETE="complete",U_=kg,bg.EventType=Vs,Vs.OPEN="a",Vs.CLOSE="b",Vs.ERROR="c",Vs.MESSAGE="d",ot.prototype.listen=ot.prototype.J,go=bg,Ie.prototype.listenOnce=Ie.prototype.K,Ie.prototype.getLastError=Ie.prototype.Ha,Ie.prototype.getLastErrorCode=Ie.prototype.ya,Ie.prototype.getStatus=Ie.prototype.ca,Ie.prototype.getResponseJson=Ie.prototype.La,Ie.prototype.getResponseText=Ie.prototype.la,Ie.prototype.send=Ie.prototype.ea,Ie.prototype.setWithCredentials=Ie.prototype.Fa,z_=Ie}).apply(typeof pl<"u"?pl:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cs="12.9.0";function iD(t){Cs=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new N_("@firebase/firestore");function ki(){return hi.logLevel}function q(t,...e){if(hi.logLevel<=oe.DEBUG){const n=e.map(Lm);hi.debug(`Firestore (${Cs}): ${t}`,...n)}}function Bn(t,...e){if(hi.logLevel<=oe.ERROR){const n=e.map(Lm);hi.error(`Firestore (${Cs}): ${t}`,...n)}}function fi(t,...e){if(hi.logLevel<=oe.WARN){const n=e.map(Lm);hi.warn(`Firestore (${Cs}): ${t}`,...n)}}function Lm(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,H_(t,r,n)}function H_(t,e,n){let r=`FIRESTORE (${Cs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Bn(r),new Error(r)}function ce(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||H_(e,i,r)}function ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $ extends As{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class oD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aD{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ce(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let s=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ce(typeof r.accessToken=="string",31837,{l:r}),new G_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ce(e===null||typeof e=="string",2055,{h:e}),new dt(e)}}class lD{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class cD{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new lD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class u1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,zj(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){ce(this.o===void 0,3512);const r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new u1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ce(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new u1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=dD(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function Rf(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return eh(i)===eh(s)?re(i,s):eh(i)?1:-1}return re(t.length,e.length)}const hD=55296,fD=57343;function eh(t){const e=t.charCodeAt(0);return e>=hD&&e<=fD}function ms(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="__name__";class gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof gn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=gn.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return re(e.length,n.length)}static compareSegments(e,n){const r=gn.isNumericId(e),i=gn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?gn.extractNumericId(e).compare(gn.extractNumericId(n)):Rf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return vr.fromString(e.substring(4,e.length-2))}}class ge extends gn{construct(e,n,r){return new ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ge(n)}static emptyPath(){return new ge([])}}const pD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nt extends gn{construct(e,n,r){return new nt(e,n,r)}static isValidIdentifier(e){return pD.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===d1}static keyField(){return new nt([d1])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new $(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new $(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new $(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nt(n)}static emptyPath(){return new nt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(ge.fromString(e))}static fromName(e){return new G(ge.fromString(e).popFirst(5))}static empty(){return new G(ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new ge(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t,e,n){if(!n)throw new $(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function mD(t,e,n,r){if(e===!0&&r===!0)throw new $(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function h1(t){if(!G.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function f1(t){if(G.isDocumentKey(t))throw new $(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Q_(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Fm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function pi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fm(t);throw new $(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ia(t,e){if(!Q_(t))throw new $(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new $(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=-62135596800,m1=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*m1);return new ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<p1)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/m1}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ia(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-p1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Be("string",ye._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{static fromTimestamp(e){return new J(e)}static min(){return new J(new ye(0,0))}static max(){return new J(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=-1;function gD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=J.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new kr(i,G.empty(),e)}function yD(t){return new kr(t.readTime,t.key,ua)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(J.min(),G.empty(),ua)}static max(){return new kr(J.max(),G.empty(),ua)}}function vD(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==wD)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,r)=>{n(e)})}static reject(e){return new F((n,r)=>{r(e)})}static waitFor(e){return new F((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},c=>r(c))}),o=!0,s===i&&n()})}static or(e){let n=F.resolve(!1);for(const r of e)n=n.next(i=>i?F.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new F((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;n(e[u]).next(h=>{o[u]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new F((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function bD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Rs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Iu.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om=-1;function Au(t){return t==null}function Cc(t){return t===0&&1/t==-1/0}function TD(t){return typeof t=="number"&&Number.isInteger(t)&&!Cc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_="";function _D(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g1(e)),e=ED(t.get(n),e);return g1(e)}function ED(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Y_:n+="";break;default:n+=s}}return n}function g1(t){return t+Y_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function X_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e,n){this.comparator=e,this.root=n||tt.EMPTY}insert(e,n){return new ke(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,tt.BLACK,null,null))}remove(e){return new ke(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ml(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ml(this.root,e,this.comparator,!1)}getReverseIterator(){return new ml(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ml(this.root,e,this.comparator,!0)}}class ml{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class tt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??tt.RED,this.left=i??tt.EMPTY,this.right=s??tt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new tt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return tt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return tt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,tt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,tt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}tt.EMPTY=null,tt.RED=!0,tt.BLACK=!1;tt.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new tt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.comparator=e,this.data=new ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new v1(this.data.getIterator())}getIteratorFrom(e){return new v1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof $e)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new $e(this.comparator);return n.data=e,n}}class v1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.fields=e,e.sort(nt.comparator)}static empty(){return new Vt([])}unionWith(e){let n=new $e(nt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ms(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new J_("Invalid base64 string: "+s):s}}(e);return new st(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new st(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}st.EMPTY_BYTE_STRING=new st("");const SD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ir(t){if(ce(!!t,39018),typeof t=="string"){let e=0;const n=SD.exec(t);if(ce(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ve(t.seconds),nanos:Ve(t.nanos)}}function Ve(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ar(t){return typeof t=="string"?st.fromBase64String(t):st.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_="server_timestamp",e2="__type__",t2="__previous_value__",n2="__local_write_time__";function Bm(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[e2])==null?void 0:r.stringValue)===Z_}function Cu(t){const e=t.mapValue.fields[t2];return Bm(e)?Cu(e):e}function da(t){const e=Ir(t.mapValue.fields[n2].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,i,s,o,a,c,u,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u,this.isUsingEmulator=h,this.apiKey=f}}const Pc="(default)";class ha{constructor(e,n){this.projectId=e,this.database=n||Pc}static empty(){return new ha("","")}get isDefaultDatabase(){return this.database===Pc}isEqual(e){return e instanceof ha&&e.projectId===this.projectId&&e.database===this.database}}function ID(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new $(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ha(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="__type__",AD="__max__",gl={mapValue:{}},i2="__vector__",Rc="value";function Cr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Bm(t)?4:PD(t)?9007199254740991:CD(t)?10:11:Y(28295,{value:t})}function Sn(t,e){if(t===e)return!0;const n=Cr(t);if(n!==Cr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return da(t).isEqual(da(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Ir(i.timestampValue),a=Ir(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Ar(i.bytesValue).isEqual(Ar(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ve(i.geoPointValue.latitude)===Ve(s.geoPointValue.latitude)&&Ve(i.geoPointValue.longitude)===Ve(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ve(i.integerValue)===Ve(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Ve(i.doubleValue),a=Ve(s.doubleValue);return o===a?Cc(o)===Cc(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ms(t.arrayValue.values||[],e.arrayValue.values||[],Sn);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(y1(o)!==y1(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Sn(o[c],a[c])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function fa(t,e){return(t.values||[]).find(n=>Sn(n,e))!==void 0}function gs(t,e){if(t===e)return 0;const n=Cr(t),r=Cr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ve(s.integerValue||s.doubleValue),c=Ve(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return w1(t.timestampValue,e.timestampValue);case 4:return w1(da(t),da(e));case 5:return Rf(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Ar(s),c=Ar(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const h=re(a[u],c[u]);if(h!==0)return h}return re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=re(Ve(s.latitude),Ve(o.latitude));return a!==0?a:re(Ve(s.longitude),Ve(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var m,v,E,k;const a=s.fields||{},c=o.fields||{},u=(m=a[Rc])==null?void 0:m.arrayValue,h=(v=c[Rc])==null?void 0:v.arrayValue,f=re(((E=u==null?void 0:u.values)==null?void 0:E.length)||0,((k=h==null?void 0:h.values)==null?void 0:k.length)||0);return f!==0?f:x1(u,h)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===gl.mapValue&&o===gl.mapValue)return 0;if(s===gl.mapValue)return 1;if(o===gl.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const m=Rf(c[f],h[f]);if(m!==0)return m;const v=gs(a[c[f]],u[h[f]]);if(v!==0)return v}return re(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function w1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Ir(t),r=Ir(e),i=re(n.seconds,r.seconds);return i!==0?i:re(n.nanos,r.nanos)}function x1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=gs(n[i],r[i]);if(s)return s}return re(n.length,r.length)}function ys(t){return jf(t)}function jf(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ir(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ar(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=jf(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${jf(n.fields[o])}`;return i+"}"}(t.mapValue):Y(61005,{value:t})}function Ol(t){switch(Cr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Cu(t);return e?16+Ol(e):16;case 5:return 2*t.stringValue.length;case 6:return Ar(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ol(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Fr(r.fields,(s,o)=>{i+=s.length+Ol(o)}),i}(t.mapValue);default:throw Y(13486,{value:t})}}function Df(t){return!!t&&"integerValue"in t}function zm(t){return!!t&&"arrayValue"in t}function b1(t){return!!t&&"nullValue"in t}function T1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Bl(t){return!!t&&"mapValue"in t}function CD(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[r2])==null?void 0:r.stringValue)===i2}function Do(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Fr(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Do(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Do(t.arrayValue.values[n]);return e}return{...t}}function PD(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===AD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Bl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Do(n)}setAll(e){let n=nt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Do(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Bl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Sn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Bl(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Fr(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new kt(Do(this.value))}}function s2(t){const e=[];return Fr(t.fields,(n,r)=>{const i=new nt([n]);if(Bl(r)){const s=s2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Vt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ft(e,0,J.min(),J.min(),J.min(),kt.empty(),0)}static newFoundDocument(e,n,r,i){return new ft(e,1,n,J.min(),r,i,0)}static newNoDocument(e,n){return new ft(e,2,n,J.min(),J.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new ft(e,3,n,J.min(),J.min(),kt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e,n){this.position=e,this.inclusive=n}}function _1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=gs(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function E1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Sn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n="asc"){this.field=e,this.dir=n}}function RD(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{}class qe extends o2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new DD(e,n,r):n==="array-contains"?new LD(e,r):n==="in"?new MD(e,r):n==="not-in"?new FD(e,r):n==="array-contains-any"?new OD(e,r):new qe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new VD(e,r):new ND(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(gs(n,this.value)):n!==null&&Cr(this.value)===Cr(n)&&this.matchesComparison(gs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends o2{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new kn(e,n)}matches(e){return a2(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function a2(t){return t.op==="and"}function l2(t){return jD(t)&&a2(t)}function jD(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function Vf(t){if(t instanceof qe)return t.field.canonicalString()+t.op.toString()+ys(t.value);if(l2(t))return t.filters.map(e=>Vf(e)).join(",");{const e=t.filters.map(n=>Vf(n)).join(",");return`${t.op}(${e})`}}function c2(t,e){return t instanceof qe?function(r,i){return i instanceof qe&&r.op===i.op&&r.field.isEqual(i.field)&&Sn(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&c2(o,i.filters[a]),!0):!1}(t,e):void Y(19439)}function u2(t){return t instanceof qe?function(n){return`${n.field.canonicalString()} ${n.op} ${ys(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(u2).join(" ,")+"}"}(t):"Filter"}class DD extends qe{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class VD extends qe{constructor(e,n){super(e,"in",n),this.keys=d2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ND extends qe{constructor(e,n){super(e,"not-in",n),this.keys=d2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function d2(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class LD extends qe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zm(n)&&fa(n.arrayValue,this.value)}}class MD extends qe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fa(this.value.arrayValue,n)}}class FD extends qe{constructor(e,n){super(e,"not-in",n)}matches(e){if(fa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fa(this.value.arrayValue,n)}}class OD extends qe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Te=null}}function S1(t,e=null,n=[],r=[],i=null,s=null,o=null){return new BD(t,e,n,r,i,s,o)}function Um(t){const e=ee(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Vf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Au(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ys(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ys(r)).join(",")),e.Te=n}return e.Te}function qm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!RD(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!c2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!E1(t.startAt,e.startAt)&&E1(t.endAt,e.endAt)}function Nf(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function zD(t,e,n,r,i,s,o,a){return new Pu(t,e,n,r,i,s,o,a)}function h2(t){return new Pu(t)}function k1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UD(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function qD(t){return t.collectionGroup!==null}function Vo(t){const e=ee(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new $e(nt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new Dc(s,r))}),n.has(nt.keyField().canonicalString())||e.Ie.push(new Dc(nt.keyField(),r))}return e.Ie}function Tn(t){const e=ee(t);return e.Ee||(e.Ee=WD(e,Vo(t))),e.Ee}function WD(t,e){if(t.limitType==="F")return S1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Dc(i.field,s)});const n=t.endAt?new jc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new jc(t.startAt.position,t.startAt.inclusive):null;return S1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Lf(t,e,n){return new Pu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ru(t,e){return qm(Tn(t),Tn(e))&&t.limitType===e.limitType}function f2(t){return`${Um(Tn(t))}|lt:${t.limitType}`}function Ii(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>u2(i)).join(", ")}]`),Au(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ys(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ys(i)).join(",")),`Target(${r})`}(Tn(t))}; limitType=${t.limitType})`}function ju(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):G.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of Vo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,c){const u=_1(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Vo(r),i)||r.endAt&&!function(o,a,c){const u=_1(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Vo(r),i))}(t,e)}function $D(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function p2(t){return(e,n)=>{let r=!1;for(const i of Vo(t)){const s=HD(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function HD(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return c!==null&&u!==null?gs(c,u):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Fr(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return X_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GD=new ke(G.comparator);function zn(){return GD}const m2=new ke(G.comparator);function yo(...t){let e=m2;for(const n of t)e=e.insert(n.key,n);return e}function g2(t){let e=m2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ri(){return No()}function y2(){return No()}function No(){return new wi(t=>t.toString(),(t,e)=>t.isEqual(e))}const KD=new ke(G.comparator),QD=new $e(G.comparator);function ie(...t){let e=QD;for(const n of t)e=e.add(n);return e}const YD=new $e(re);function XD(){return YD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cc(e)?"-0":e}}function v2(t){return{integerValue:""+t}}function JD(t,e){return TD(e)?v2(e):Wm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Du{constructor(){this._=void 0}}function ZD(t,e,n){return t instanceof Vc?function(i,s){const o={fields:{[e2]:{stringValue:Z_},[n2]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Bm(s)&&(s=Cu(s)),s&&(o.fields[t2]=s),{mapValue:o}}(n,e):t instanceof pa?x2(t,e):t instanceof ma?b2(t,e):function(i,s){const o=w2(i,s),a=I1(o)+I1(i.Ae);return Df(o)&&Df(i.Ae)?v2(a):Wm(i.serializer,a)}(t,e)}function eV(t,e,n){return t instanceof pa?x2(t,e):t instanceof ma?b2(t,e):n}function w2(t,e){return t instanceof Nc?function(r){return Df(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Vc extends Du{}class pa extends Du{constructor(e){super(),this.elements=e}}function x2(t,e){const n=T2(e);for(const r of t.elements)n.some(i=>Sn(i,r))||n.push(r);return{arrayValue:{values:n}}}class ma extends Du{constructor(e){super(),this.elements=e}}function b2(t,e){let n=T2(e);for(const r of t.elements)n=n.filter(i=>!Sn(i,r));return{arrayValue:{values:n}}}class Nc extends Du{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I1(t){return Ve(t.integerValue||t.doubleValue)}function T2(t){return zm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function tV(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof pa&&i instanceof pa||r instanceof ma&&i instanceof ma?ms(r.elements,i.elements,Sn):r instanceof Nc&&i instanceof Nc?Sn(r.Ae,i.Ae):r instanceof Vc&&i instanceof Vc}(t.transform,e.transform)}class nV{constructor(e,n){this.version=e,this.transformResults=n}}class ln{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ln}static exists(e){return new ln(void 0,e)}static updateTime(e){return new ln(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vu{}function _2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $m(t.key,ln.none()):new Aa(t.key,t.data,ln.none());{const n=t.data,r=kt.empty();let i=new $e(nt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Or(t.key,r,new Vt(i.toArray()),ln.none())}}function rV(t,e,n){t instanceof Aa?function(i,s,o){const a=i.value.clone(),c=C1(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Or?function(i,s,o){if(!zl(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=C1(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(E2(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Lo(t,e,n,r){return t instanceof Aa?function(s,o,a,c){if(!zl(s.precondition,o))return a;const u=s.value.clone(),h=P1(s.fieldTransforms,c,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Or?function(s,o,a,c){if(!zl(s.precondition,o))return a;const u=P1(s.fieldTransforms,c,o),h=o.data;return h.setAll(E2(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return zl(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function iV(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=w2(r.transform,i||null);s!=null&&(n===null&&(n=kt.empty()),n.set(r.field,s))}return n||null}function A1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ms(r,i,(s,o)=>tV(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Aa extends Vu{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Or extends Vu{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function E2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function C1(t,e,n){const r=new Map;ce(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,eV(o,a,n[i]))}return r}function P1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,ZD(s,o,e))}return r}class $m extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sV extends Vu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&rV(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Lo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Lo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=y2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const c=_2(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ie())}isEqual(e){return this.batchId===e.batchId&&ms(this.mutations,e.mutations,(n,r)=>A1(n,r))&&ms(this.baseMutations,e.baseMutations,(n,r)=>A1(n,r))}}class Hm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ce(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return KD}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Hm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me,se;function cV(t){switch(t){case O.OK:return Y(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function S2(t){if(t===void 0)return Bn("GRPC error has no .code"),O.UNKNOWN;switch(t){case Me.OK:return O.OK;case Me.CANCELLED:return O.CANCELLED;case Me.UNKNOWN:return O.UNKNOWN;case Me.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Me.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Me.INTERNAL:return O.INTERNAL;case Me.UNAVAILABLE:return O.UNAVAILABLE;case Me.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Me.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Me.NOT_FOUND:return O.NOT_FOUND;case Me.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Me.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Me.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Me.ABORTED:return O.ABORTED;case Me.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Me.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Me.DATA_LOSS:return O.DATA_LOSS;default:return Y(39323,{code:t})}}(se=Me||(Me={}))[se.OK=0]="OK",se[se.CANCELLED=1]="CANCELLED",se[se.UNKNOWN=2]="UNKNOWN",se[se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",se[se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",se[se.NOT_FOUND=5]="NOT_FOUND",se[se.ALREADY_EXISTS=6]="ALREADY_EXISTS",se[se.PERMISSION_DENIED=7]="PERMISSION_DENIED",se[se.UNAUTHENTICATED=16]="UNAUTHENTICATED",se[se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",se[se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",se[se.ABORTED=10]="ABORTED",se[se.OUT_OF_RANGE=11]="OUT_OF_RANGE",se[se.UNIMPLEMENTED=12]="UNIMPLEMENTED",se[se.INTERNAL=13]="INTERNAL",se[se.UNAVAILABLE=14]="UNAVAILABLE",se[se.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=new vr([4294967295,4294967295],0);function R1(t){const e=uV().encode(t),n=new B_;return n.update(e),new Uint8Array(n.digest())}function j1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new vr([n,r],0),new vr([i,s],0)]}class Gm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vo(`Invalid padding: ${n}`);if(r<0)throw new vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=vr.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(vr.fromNumber(r)));return i.compare(dV)===1&&(i=new vr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=R1(e),[r,i]=j1(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);if(!this.we(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Gm(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=R1(e),[r,i]=j1(n);for(let s=0;s<this.hashCount;s++){const o=this.ye(r,i,s);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ca.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Nu(J.min(),i,new ke(re),zn(),ie())}}class Ca{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ca(r,n,ie(),ie(),ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=i}}class k2{constructor(e,n){this.targetId=e,this.Ce=n}}class I2{constructor(e,n,r=st.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class D1{constructor(){this.ve=0,this.Fe=V1(),this.Me=st.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ie(),n=ie(),r=ie();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Y(38017,{changeType:s})}}),new Ca(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=V1()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ce(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class hV{constructor(e){this.Ge=e,this.ze=new Map,this.je=zn(),this.He=yl(),this.Je=yl(),this.Ze=new ke(re)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Y(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(Nf(s))if(r===0){const o=new G(s.path);this.et(n,o,ft.newNoDocument(o,J.min()))}else ce(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,u)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=Ar(r).toUint8Array()}catch(c){if(c instanceof J_)return fi("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Gm(o,i,s)}catch(c){return fi(c instanceof vo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,o)=>{const a=this.ot(o);if(a){if(s.current&&Nf(a.target)){const c=new G(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,ft.newNoDocument(c,e))}s.Be&&(n.set(o,s.ke()),s.Ke())}});let r=ie();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.ot(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.je.forEach((s,o)=>o.setReadTime(e));const i=new Nu(e,n,this.Ze,this.je,r);return this.je=zn(),this.He=yl(),this.Je=yl(),this.Ze=new ke(re),i}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.qe(n,1):i.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new D1,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new $e(re),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new $e(re),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new D1),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function yl(){return new ke(G.comparator)}function V1(){return new ke(G.comparator)}const fV={asc:"ASCENDING",desc:"DESCENDING"},pV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mV={and:"AND",or:"OR"};class gV{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mf(t,e){return t.useProto3Json||Au(e)?e:{value:e}}function Lc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function A2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function yV(t,e){return Lc(t,e.toTimestamp())}function _n(t){return ce(!!t,49232),J.fromTimestamp(function(n){const r=Ir(n);return new ye(r.seconds,r.nanos)}(t))}function Km(t,e){return Ff(t,e).canonicalString()}function Ff(t,e){const n=function(i){return new ge(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function C2(t){const e=ge.fromString(t);return ce(V2(e),10190,{key:e.toString()}),e}function Of(t,e){return Km(t.databaseId,e.path)}function th(t,e){const n=C2(e);if(n.get(1)!==t.databaseId.projectId)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(R2(n))}function P2(t,e){return Km(t.databaseId,e)}function vV(t){const e=C2(t);return e.length===4?ge.emptyPath():R2(e)}function Bf(t){return new ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function R2(t){return ce(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function N1(t,e,n){return{name:Of(t,e),fields:n.value.mapValue.fields}}function wV(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Y(39313,{state:u})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(ce(h===void 0||typeof h=="string",58123),st.fromBase64String(h||"")):(ce(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),st.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?O.UNKNOWN:S2(u.code);return new $(h,u.message||"")}(o);n=new I2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=th(t,r.document.name),s=_n(r.document.updateTime),o=r.document.createTime?_n(r.document.createTime):J.min(),a=new kt({mapValue:{fields:r.document.fields}}),c=ft.newFoundDocument(i,s,o,a),u=r.targetIds||[],h=r.removedTargetIds||[];n=new Ul(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=th(t,r.document),s=r.readTime?_n(r.readTime):J.min(),o=ft.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ul([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=th(t,r.document),s=r.removedTargetIds||[];n=new Ul([],s,i,null)}else{if(!("filter"in e))return Y(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new lV(i,s),a=r.targetId;n=new k2(a,o)}}return n}function xV(t,e){let n;if(e instanceof Aa)n={update:N1(t,e.key,e.value)};else if(e instanceof $m)n={delete:Of(t,e.key)};else if(e instanceof Or)n={update:N1(t,e.key,e.data),updateMask:CV(e.fieldMask)};else{if(!(e instanceof sV))return Y(16599,{dt:e.type});n={verify:Of(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Vc)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof pa)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ma)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Nc)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw Y(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:yV(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Y(27497)}(t,e.precondition)),n}function bV(t,e){return t&&t.length>0?(ce(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?_n(i.updateTime):_n(s);return o.isEqual(J.min())&&(o=_n(s)),new nV(o,i.transformResults||[])}(n,e))):[]}function TV(t,e){return{documents:[P2(t,e.path)]}}function _V(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=P2(t,i);const s=function(u){if(u.length!==0)return D2(kn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(m){return{field:Ai(m.field),direction:kV(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Mf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ft:n,parent:i}}function EV(t){let e=vV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){ce(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(f){const m=j2(f);return m instanceof kn&&l2(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(E){return new Dc(Ci(E.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(E.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Au(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(f){const m=!!f.before,v=f.values||[];return new jc(v,m)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const m=!f.before,v=f.values||[];return new jc(v,m)}(n.endAt)),zD(e,i,o,s,a,"F",c,u)}function SV(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function j2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ci(n.unaryFilter.field);return qe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ci(n.unaryFilter.field);return qe.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ci(n.unaryFilter.field);return qe.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ci(n.unaryFilter.field);return qe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return qe.create(Ci(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>j2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function kV(t){return fV[t]}function IV(t){return pV[t]}function AV(t){return mV[t]}function Ai(t){return{fieldPath:t.canonicalString()}}function Ci(t){return nt.fromServerFormat(t.fieldPath)}function D2(t){return t instanceof qe?function(n){if(n.op==="=="){if(T1(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NAN"}};if(b1(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T1(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NOT_NAN"}};if(b1(n.value))return{unaryFilter:{field:Ai(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ai(n.field),op:IV(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(i=>D2(i));return r.length===1?r[0]:{compositeFilter:{op:AV(n.op),filters:r}}}(t):Y(54877,{filter:t})}function CV(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function V2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function N2(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e,n,r,i,s=J.min(),o=J.min(),a=st.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e){this.yt=e}}function RV(t){const e=EV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Lf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jV{constructor(){this.Sn=new DV}addToCollectionParentIndex(e,n){return this.Sn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(kr.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class DV{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new $e(ge.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new $e(ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},L2=41943040;class Et{static withCacheSize(e){return new Et(e,Et.DEFAULT_COLLECTION_PERCENTILE,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Et.DEFAULT_COLLECTION_PERCENTILE=10,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Et.DEFAULT=new Et(L2,Et.DEFAULT_COLLECTION_PERCENTILE,Et.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Et.DISABLED=new Et(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new vs(0)}static ar(){return new vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="LruGarbageCollector",VV=1048576;function F1([t,e],[n,r]){const i=re(t,n);return i===0?re(e,r):i}class NV{constructor(e){this.Pr=e,this.buffer=new $e(F1),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();F1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LV{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){q(M1,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Rs(n)?q(M1,"Ignoring IndexedDB error during garbage collection: ",n):await Ps(n)}await this.Ar(3e5)})}}class MV{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(Iu.ce);const r=new NV(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.mr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(q("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(L1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(q("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),L1):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,i,s,o,a,c,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(q("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ki()<=oe.DEBUG&&q("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(u-c)+`ms
Total Duration: ${u-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function FV(t,e){return new MV(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(){this.changes=new wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BV{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Lo(r.mutation,i,Vt.empty(),ye.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ie()){const i=ri();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=yo();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=ri();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ie()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=zn();const o=No(),a=function(){return No()}();return n.forEach((c,u)=>{const h=r.get(u.key);i.has(u.key)&&(h===void 0||h.mutation instanceof Or)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),Lo(h.mutation,u,h.mutation.getFieldMask(),ye.now())):o.set(u.key,Vt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>a.set(u,new BV(h,o.get(u)??null))),a))}recalculateAndSaveOverlays(e,n){const r=No();let i=new ke((o,a)=>o-a),s=ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=n.get(c);if(u===null)return;let h=r.get(c)||Vt.empty();h=a.applyToLocalView(u,h),r.set(c,h);const f=(i.get(a.batchId)||ie()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,h=c.value,f=y2();h.forEach(m=>{if(!s.has(m)){const v=_2(n.get(m),r.get(m));v!==null&&f.set(m,v),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return UD(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):qD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(ri());let a=ua,c=s;return o.next(u=>F.forEach(u,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{c=c.insert(h,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,ie())).next(h=>({batchId:a,changes:g2(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=yo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=yo();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,c=>{const u=function(f,m){return new Pu(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((c,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,ft.newInvalidDocument(h)))});let a=yo();return o.forEach((c,u)=>{const h=s.get(c);h!==void 0&&Lo(h.mutation,u,Vt.empty(),ye.now()),ju(n,u)&&(a=a.insert(c,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return F.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:_n(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(i){return{name:i.name,query:RV(i.bundledQuery),readTime:_n(i.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{constructor(){this.overlays=new ke(G.comparator),this.Lr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ri();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Lr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Lr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){const i=ri(),s=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new ke((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let h=s.get(u.largestBatchId);h===null&&(h=ri(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=ri(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=i)););return F.resolve(a)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.Lr.get(i.largestBatchId).delete(r.key);this.Lr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new aV(n,r));let s=this.Lr.get(n);s===void 0&&(s=ie(),this.Lr.set(n,s)),this.Lr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(){this.sessionToken=st.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.kr=new $e(Ke.Kr),this.qr=new $e(Ke.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Ke(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Ke(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new G(new ge([])),r=new Ke(n,e),i=new Ke(n,e+1),s=[];return this.qr.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new G(new ge([])),r=new Ke(n,e),i=new Ke(n,e+1);let s=ie();return this.qr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new Ke(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ke{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return G.comparator(e.key,n.key)||re(e.Hr,n.Hr)}static Ur(e,n){return re(e.Hr,n.Hr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $V{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new $e(Ke.Kr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new oV(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Jr=this.Jr.add(new Ke(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?Om:this.Yn-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ke(n,0),i=new Ke(n,Number.POSITIVE_INFINITY),s=[];return this.Jr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new $e(re);return n.forEach(i=>{const s=new Ke(i,0),o=new Ke(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),F.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;G.isDocumentKey(s)||(s=s.child(""));const o=new Ke(new G(s),0);let a=new $e(re);return this.Jr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.Hr)),!0)},o),F.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ce(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return F.forEach(n.mutations,i=>{const s=new Ke(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Ke(n,0),i=this.Jr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HV{constructor(e){this.ti=e,this.docs=function(){return new ke(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():ft.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ft.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=zn();const o=n.path,a=new G(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:h}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||vD(yD(h),r)<=0||(i.has(h.key)||ju(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Y(9500)}ni(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GV(this)}getSize(e){return F.resolve(this.size)}}class GV extends OV{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KV{constructor(e){this.persistence=e,this.ri=new wi(n=>Um(n),qm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.ii=0,this.si=new Qm,this.targetCount=0,this.oi=vs._r()}forEachTarget(e,n){return this.ri.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),F.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new vs(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.lr(n),F.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(e,n){this._i={},this.overlays={},this.ai=new Iu(0),this.ui=!1,this.ui=!0,this.ci=new WV,this.referenceDelegate=e(this),this.li=new KV(this),this.indexManager=new jV,this.remoteDocumentCache=function(i){return new HV(i)}(r=>this.referenceDelegate.hi(r)),this.serializer=new PV(n),this.Pi=new UV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qV,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new $V(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const i=new QV(this.ai.next());return this.referenceDelegate.Ti(),r(i).next(s=>this.referenceDelegate.Ii(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return F.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class QV extends xD{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Ri=new Qm,this.Ai=null}static Vi(e){return new Ym(e)}get di(){if(this.Ai)return this.Ai;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),F.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.di.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.di,r=>{const i=G.fromPath(r);return this.mi(e,i).next(s=>{s||n.removeEntry(i,J.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return F.or([()=>F.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Mc{constructor(e,n){this.persistence=e,this.fi=new wi(r=>_D(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=FV(this,n)}static Vi(e,n){return new Mc(e,n)}Ti(){}Ii(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return F.forEach(this.fi,(r,i)=>this.wr(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,J.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),F.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ol(e.data.value)),n}wr(e,n,r){return F.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.fi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=i}static Es(e,n){let r=ie(),i=ie();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return F5()?8:bD(L5())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.gs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ps(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new YV;return this.ys(e,n,o).next(a=>{if(s.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>s.result)}ws(e,n,r,i){return r.documentReadCount<this.Vs?(ki()<=oe.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Ii(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),F.resolve()):(ki()<=oe.DEBUG&&q("QueryEngine","Query:",Ii(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(ki()<=oe.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Ii(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Tn(n))):F.resolve())}gs(e,n){if(k1(n))return F.resolve(null);let r=Tn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Lf(n,null,"F"),r=Tn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ie(...s);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.bs(n,a);return this.Ss(n,u,o,c.readTime)?this.gs(e,Lf(n,null,"F")):this.Ds(e,u,n,c)}))})))}ps(e,n,r,i){return k1(n)||i.isEqual(J.min())?F.resolve(null):this.fs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ss(n,o,r,i)?F.resolve(null):(ki()<=oe.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ii(n)),this.Ds(e,o,n,gD(i,ua)).next(a=>a))})}bs(e,n){let r=new $e(p2(e));return n.forEach((i,s)=>{ju(e,s)&&(r=r.add(s))}),r}Ss(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ys(e,n,r){return ki()<=oe.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Ii(n)),this.fs.getDocumentsMatchingQuery(e,n,kr.min(),r)}Ds(e,n,r,i){return this.fs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="LocalStore",JV=3e8;class ZV{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.vs=new ke(re),this.Fs=new wi(s=>Um(s),qm),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zV(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function e3(t,e,n,r){return new ZV(t,e,n,r)}async function F2(t,e){const n=ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=ie();for(const u of i){o.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(u=>({Ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function t3(t,e){const n=ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){const f=u.batch,m=f.keys();let v=F.resolve();return m.forEach(E=>{v=v.next(()=>h.getEntry(c,E)).next(k=>{const P=u.docVersions.get(E);ce(P!==null,48541),k.version.compareTo(P)<0&&(f.applyToRemoteDocument(k,u),k.isValidDocument()&&(k.setReadTime(u.commitVersion),h.addEntry(k)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=ie();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function O2(t){const e=ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function n3(t,e){const n=ee(t),r=e.snapshotVersion;let i=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});i=n.vs;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(n.li.removeMatchingKeys(s,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(s,h.addedDocuments,f)));let v=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(st.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(f,v),function(k,P,y){return k.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=JV?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,v,h)&&a.push(n.li.updateTargetData(s,v))});let c=zn(),u=ie();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(r3(s,o,e.documentUpdates).next(h=>{c=h.Bs,u=h.Ls})),!r.isEqual(J.min())){const h=n.li.getLastRemoteSnapshotVersion(s).next(f=>n.li.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(n.vs=i,s))}function r3(t,e,n){let r=ie(),i=ie();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=zn();return n.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(J.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):q(Jm,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Bs:o,Ls:i}})}function i3(t,e){const n=ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Om),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function s3(t,e){const n=ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.li.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.li.allocateTargetId(r).next(o=>(i=new or(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.vs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function zf(t,e,n){const r=ee(t),i=r.vs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Rs(o))throw o;q(Jm,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(i.target)}function O1(t,e,n){const r=ee(t);let i=J.min(),s=ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,h){const f=ee(c),m=f.Fs.get(h);return m!==void 0?F.resolve(f.vs.get(m)):f.li.getTargetData(u,h)}(r,o,Tn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:J.min(),n?s:ie())).next(a=>(o3(r,$D(e),a),{documents:a,ks:s})))}function o3(t,e,n){let r=t.Ms.get(e)||J.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ms.set(e,r)}class B1{constructor(){this.activeTargetIds=XD()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class a3{constructor(){this.vo=new B1,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new B1,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l3{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="ConnectivityMonitor";class U1{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){q(z1,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){q(z1,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vl=null;function Uf(){return vl===null?vl=function(){return 268435456+Math.round(2147483648*Math.random())}():vl++,"0x"+vl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh="RestConnection",c3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class u3{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.$o=this.databaseId.database===Pc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=Uf(),a=this.Qo(e,n.toUriEncodedString());q(nh,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,s);const{host:u}=new URL(a),h=Dm(u);return this.zo(e,a,c,r,h).then(f=>(q(nh,`Received RPC '${e}' ${o}: `,f),f),f=>{throw fi(nh,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Cs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Qo(e,n){const r=c3[e];let i=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection",so=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(i){setTimeout(()=>{throw i},0)}})};class es extends u3{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!es.c_){const e=W_();so(e,q_.STAT_EVENT,n=>{n.stat===Pf.PROXY?q(ct,"STAT_EVENT: detected buffering proxy"):n.stat===Pf.NOPROXY&&q(ct,"STAT_EVENT: detected no buffering proxy")}),es.c_=!0}}zo(e,n,r,i,s){const o=Uf();return new Promise((a,c)=>{const u=new z_;u.setWithCredentials(!0),u.listenOnce(U_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Fl.NO_ERROR:const f=u.getResponseJson();q(ct,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Fl.TIMEOUT:q(ct,`RPC '${e}' ${o} timed out`),c(new $(O.DEADLINE_EXCEEDED,"Request time out"));break;case Fl.HTTP_ERROR:const m=u.getStatus();if(q(ct,`RPC '${e}' ${o} failed with status:`,m,"response text:",u.getResponseText()),m>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const E=v==null?void 0:v.error;if(E&&E.status&&E.message){const k=function(y){const x=y.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(x)>=0?x:O.UNKNOWN}(E.status);c(new $(k,E.message))}else c(new $(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new $(O.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:o,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{q(ct,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(i);q(ct,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",h,r,15)})}T_(e,n,r){const i=Uf(),s=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const u=s.join("");q(ct,`Creating RPC '${e}' stream ${i}: ${u}`,a);const h=o.createWebChannel(u,a);this.I_(h);let f=!1,m=!1;const v=new d3({Ho:E=>{m?q(ct,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(f||(q(ct,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),q(ct,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},Jo:()=>h.close()});return so(h,go.EventType.OPEN,()=>{m||(q(ct,`RPC '${e}' stream ${i} transport opened.`),v.i_())}),so(h,go.EventType.CLOSE,()=>{m||(m=!0,q(ct,`RPC '${e}' stream ${i} transport closed`),v.o_(),this.E_(h))}),so(h,go.EventType.ERROR,E=>{m||(m=!0,fi(ct,`RPC '${e}' stream ${i} transport errored. Name:`,E.name,"Message:",E.message),v.o_(new $(O.UNAVAILABLE,"The operation could not be completed")))}),so(h,go.EventType.MESSAGE,E=>{var k;if(!m){const P=E.data[0];ce(!!P,16349);const y=P,x=(y==null?void 0:y.error)||((k=y[0])==null?void 0:k.error);if(x){q(ct,`RPC '${e}' stream ${i} received error:`,x);const _=x.status;let C=function(T){const w=Me[T];if(w!==void 0)return S2(w)}(_),D=x.message;_==="NOT_FOUND"&&D.includes("database")&&D.includes("does not exist")&&D.includes(this.databaseId.database)&&fi(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),C===void 0&&(C=O.INTERNAL,D="Unknown error status: "+_+" with message "+x.message),m=!0,v.o_(new $(C,D)),h.close()}else q(ct,`RPC '${e}' stream ${i} received:`,P),v.__(P)}}),es.u_(),setTimeout(()=>{v.s_()},0),v}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return $_()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h3(t){return new es(t)}function rh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){return new gV(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es.c_=!1;class B2{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=i,this.V_=s,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="PersistentStream";class z2{constructor(e,n,r,i,s,o,a,c){this.Ci=e,this.b_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new B2(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Bn(n.toString()),Bn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new $(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.H_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return q(q1,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(q(q1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class f3 extends z2{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=wV(this.serializer,e),r=function(s){if(!("targetChange"in s))return J.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?_n(o.readTime):J.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Bf(this.serializer),n.addTarget=function(s,o){let a;const c=o.target;if(a=Nf(c)?{documents:TV(s,c)}:{query:_V(s,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=A2(s,o.resumeToken);const u=Mf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=Lc(s,o.snapshotVersion.toTimestamp());const u=Mf(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=SV(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Bf(this.serializer),n.removeTarget=e,this.K_(n)}}class p3 extends z2{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return ce(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ce(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ce(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=bV(e.writeResults,e.commitTime),r=_n(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Bf(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>xV(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{}class g3 extends m3{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,Ff(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(O.UNKNOWN,s.toString())})}jo(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Ff(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(O.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function y3(t,e,n,r){return new g3(t,e,n,r)}class v3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Bn(n),this.aa=!1):q("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="RemoteStore";class w3{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=s,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{xi(this)&&(q(mi,"Restarting streams for network reachability change."),await async function(c){const u=ee(c);u.Ea.add(4),await Pa(u),u.Va.set("Unknown"),u.Ea.delete(4),await Mu(u)}(this))})}),this.Va=new v3(r,i)}}async function Mu(t){if(xi(t))for(const e of t.Ra)await e(!0)}async function Pa(t){for(const e of t.Ra)await e(!1)}function U2(t,e){const n=ee(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ng(n)?tg(n):js(n).O_()&&eg(n,e))}function Zm(t,e){const n=ee(t),r=js(n);n.Ia.delete(e),r.O_()&&q2(n,e),n.Ia.size===0&&(r.O_()?r.L_():xi(n)&&n.Va.set("Unknown"))}function eg(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}js(t).Z_(e)}function q2(t,e){t.da.$e(e),js(t).X_(e)}function tg(t){t.da=new hV({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),js(t).start(),t.Va.ua()}function ng(t){return xi(t)&&!js(t).x_()&&t.Ia.size>0}function xi(t){return ee(t).Ea.size===0}function W2(t){t.da=void 0}async function x3(t){t.Va.set("Online")}async function b3(t){t.Ia.forEach((e,n)=>{eg(t,e)})}async function T3(t,e){W2(t),ng(t)?(t.Va.ha(e),tg(t)):t.Va.set("Unknown")}async function _3(t,e,n){if(t.Va.set("Online"),e instanceof I2&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ia.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ia.delete(a),i.da.removeTarget(a))}(t,e)}catch(r){q(mi,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Fc(t,r)}else if(e instanceof Ul?t.da.Xe(e):e instanceof k2?t.da.st(e):t.da.tt(e),!n.isEqual(J.min()))try{const r=await O2(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.da.Tt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const h=s.Ia.get(u);h&&s.Ia.set(u,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const h=s.Ia.get(c);if(!h)return;s.Ia.set(c,h.withResumeToken(st.EMPTY_BYTE_STRING,h.snapshotVersion)),q2(s,c);const f=new or(h.target,c,u,h.sequenceNumber);eg(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q(mi,"Failed to raise snapshot:",r),await Fc(t,r)}}async function Fc(t,e,n){if(!Rs(e))throw e;t.Ea.add(1),await Pa(t),t.Va.set("Offline"),n||(n=()=>O2(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q(mi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await Mu(t)})}function $2(t,e){return e().catch(n=>Fc(t,n,e))}async function Fu(t){const e=ee(t),n=Pr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Om;for(;E3(e);)try{const i=await i3(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,S3(e,i)}catch(i){await Fc(e,i)}H2(e)&&G2(e)}function E3(t){return xi(t)&&t.Ta.length<10}function S3(t,e){t.Ta.push(e);const n=Pr(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function H2(t){return xi(t)&&!Pr(t).x_()&&t.Ta.length>0}function G2(t){Pr(t).start()}async function k3(t){Pr(t).ra()}async function I3(t){const e=Pr(t);for(const n of t.Ta)e.ea(n.mutations)}async function A3(t,e,n){const r=t.Ta.shift(),i=Hm.from(r,e,n);await $2(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Fu(t)}async function C3(t,e){e&&Pr(t).Y_&&await async function(r,i){if(function(o){return cV(o)&&o!==O.ABORTED}(i.code)){const s=r.Ta.shift();Pr(r).B_(),await $2(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Fu(r)}}(t,e),H2(t)&&G2(t)}async function W1(t,e){const n=ee(t);n.asyncQueue.verifyOperationInProgress(),q(mi,"RemoteStore received new credentials");const r=xi(n);n.Ea.add(3),await Pa(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Mu(n)}async function P3(t,e){const n=ee(t);e?(n.Ea.delete(2),await Mu(n)):e||(n.Ea.add(2),await Pa(n),n.Va.set("Unknown"))}function js(t){return t.ma||(t.ma=function(n,r,i){const s=ee(n);return s.sa(),new f3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:x3.bind(null,t),Yo:b3.bind(null,t),t_:T3.bind(null,t),J_:_3.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),ng(t)?tg(t):t.Va.set("Unknown")):(await t.ma.stop(),W2(t))})),t.ma}function Pr(t){return t.fa||(t.fa=function(n,r,i){const s=ee(n);return s.sa(),new p3(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:k3.bind(null,t),t_:C3.bind(null,t),ta:I3.bind(null,t),na:A3.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Fu(t)):(await t.fa.stop(),t.Ta.length>0&&(q(mi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new rg(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(t,e){if(Bn("AsyncQueue",`${e}: ${t}`),Rs(t))return new $(O.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{static emptySet(e){return new ts(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=yo(),this.sortedSet=new ke(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ts)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ts;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.ga=new ke(G.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Y(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class ws{constructor(e,n,r,i,s,o,a,c,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ws(e,n,ts.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class j3{constructor(){this.queries=H1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ee(n),s=i.queries;i.queries=H1(),s.forEach((o,a)=>{for(const c of a.ba)c.onError(r)})})(this,new $(O.ABORTED,"Firestore shutting down"))}}function H1(){return new wi(t=>f2(t),Ru)}async function D3(t,e){const n=ee(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.Da()&&(r=2):(s=new R3,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ig(o,`Initialization of query '${Ii(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ba.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&sg(n)}async function V3(t,e){const n=ee(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.ba.indexOf(e);o>=0&&(s.ba.splice(o,1),s.ba.length===0?i=e.Da()?0:1:!s.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function N3(t,e){const n=ee(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.ba)a.Fa(i)&&(r=!0);o.wa=i}}r&&sg(n)}function L3(t,e,n){const r=ee(t),i=r.queries.get(e);if(i)for(const s of i.ba)s.onError(n);r.queries.delete(e)}function sg(t){t.Ca.forEach(e=>{e.next()})}var qf,G1;(G1=qf||(qf={})).Ma="default",G1.Cache="cache";class M3{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new ws(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==qf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e){this.key=e}}class Q2{constructor(e){this.key=e}}class F3{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ie(),this.mutatedKeys=ie(),this.eu=p2(e),this.tu=new ts(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new $1,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),v=ju(this.query,f)?f:null,E=!!m&&this.mutatedKeys.has(m.key),k=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let P=!1;m&&v?m.data.isEqual(v.data)?E!==k&&(r.track({type:3,doc:v}),P=!0):this.su(m,v)||(r.track({type:2,doc:v}),P=!0,(c&&this.eu(v,c)>0||u&&this.eu(v,u)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),P=!0):m&&!v&&(r.track({type:1,doc:m}),P=!0,(c||u)&&(a=!0)),P&&(v?(o=o.add(v),s=k?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(v,E){const k=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y(20277,{Vt:P})}};return k(v)-k(E)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),i=i??!1;const a=n&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,u=c!==this.Xa;return this.Xa=c,o.length!==0||u?{snapshot:new ws(this.query,e.tu,s,o,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $1,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ie(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Q2(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new K2(r))}),n}cu(e){this.Za=e.ks,this.Ya=ie();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return ws.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const og="SyncEngine";class O3{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class B3{constructor(e){this.key=e,this.hu=!1}}class z3{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new wi(a=>f2(a),Ru),this.Iu=new Map,this.Eu=new Set,this.Ru=new ke(G.comparator),this.Au=new Map,this.Vu=new Qm,this.du={},this.mu=new Map,this.fu=vs.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function U3(t,e,n=!0){const r=tE(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await Y2(r,e,n,!0),i}async function q3(t,e){const n=tE(t);await Y2(n,e,!0,!1)}async function Y2(t,e,n,r){const i=await s3(t.localStore,Tn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await W3(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&U2(t.remoteStore,i),a}async function W3(t,e,n,r,i){t.pu=(f,m,v)=>async function(k,P,y,x){let _=P.view.ru(y);_.Ss&&(_=await O1(k.localStore,P.query,!1).then(({documents:T})=>P.view.ru(T,_)));const C=x&&x.targetChanges.get(P.targetId),D=x&&x.targetMismatches.get(P.targetId)!=null,M=P.view.applyChanges(_,k.isPrimaryClient,C,D);return Q1(k,P.targetId,M.au),M.snapshot}(t,f,m,v);const s=await O1(t.localStore,e,!0),o=new F3(e,s.ks),a=o.ru(s.documents),c=Ca.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,c);Q1(t,n,u.au);const h=new O3(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),u.snapshot}async function $3(t,e,n){const r=ee(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(o=>!Ru(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Zm(r.remoteStore,i.targetId),Wf(r,i.targetId)}).catch(Ps)):(Wf(r,i.targetId),await zf(r.localStore,i.targetId,!0))}async function H3(t,e){const n=ee(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Zm(n.remoteStore,r.targetId))}async function G3(t,e,n){const r=eN(t);try{const i=await function(o,a){const c=ee(o),u=ye.now(),h=a.reduce((v,E)=>v.add(E.key),ie());let f,m;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let E=zn(),k=ie();return c.xs.getEntries(v,h).next(P=>{E=P,E.forEach((y,x)=>{x.isValidDocument()||(k=k.add(y))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,E)).next(P=>{f=P;const y=[];for(const x of a){const _=iV(x,f.get(x.key).overlayedDocument);_!=null&&y.push(new Or(x.key,_,s2(_.value.mapValue),ln.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,y,a)}).next(P=>{m=P;const y=P.applyToLocalDocumentSet(f,k);return c.documentOverlayCache.saveOverlays(v,P.batchId,y)})}).then(()=>({batchId:m.batchId,changes:g2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.du[o.currentUser.toKey()];u||(u=new ke(re)),u=u.insert(a,c),o.du[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ra(r,i.changes),await Fu(r.remoteStore)}catch(i){const s=ig(i,"Failed to persist write");n.reject(s)}}async function X2(t,e){const n=ee(t);try{const r=await n3(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Au.get(s);o&&(ce(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.hu=!0:i.modifiedDocuments.size>0?ce(o.hu,14607):i.removedDocuments.size>0&&(ce(o.hu,42227),o.hu=!1))}),await Ra(n,r,e)}catch(r){await Ps(r)}}function K1(t,e,n){const r=ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=ee(o);c.onlineState=a;let u=!1;c.queries.forEach((h,f)=>{for(const m of f.ba)m.va(a)&&(u=!0)}),u&&sg(c)}(r.eventManager,e),i.length&&r.Pu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function K3(t,e,n){const r=ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let o=new ke(G.comparator);o=o.insert(s,ft.newNoDocument(s,J.min()));const a=ie().add(s),c=new Nu(J.min(),new Map,new ke(re),o,a);await X2(r,c),r.Ru=r.Ru.remove(s),r.Au.delete(e),ag(r)}else await zf(r.localStore,e,!1).then(()=>Wf(r,e,n)).catch(Ps)}async function Q3(t,e){const n=ee(t),r=e.batch.batchId;try{const i=await t3(n.localStore,e);Z2(n,r,null),J2(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ra(n,i)}catch(i){await Ps(i)}}async function Y3(t,e,n){const r=ee(t);try{const i=await function(o,a){const c=ee(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(ce(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);Z2(r,e,n),J2(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ra(r,i)}catch(i){await Ps(i)}}function J2(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Z2(t,e,n){const r=ee(t);let i=r.du[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.du[r.currentUser.toKey()]=i}}function Wf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||eE(t,r)})}function eE(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Zm(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),ag(t))}function Q1(t,e,n){for(const r of n)r instanceof K2?(t.Vu.addReference(r.key,e),X3(t,r)):r instanceof Q2?(q(og,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||eE(t,r.key)):Y(19791,{wu:r})}function X3(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(q(og,"New document in limbo: "+n),t.Eu.add(r),ag(t))}function ag(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new G(ge.fromString(e)),r=t.fu.next();t.Au.set(r,new B3(n)),t.Ru=t.Ru.insert(n,r),U2(t.remoteStore,new or(Tn(h2(n.path)),r,"TargetPurposeLimboResolution",Iu.ce))}}async function Ra(t,e,n){const r=ee(t),i=[],s=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(u=>{var h;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Xm.Es(c.targetId,u);s.push(f)}}))}),await Promise.all(o),r.Pu.J_(i),await async function(c,u){const h=ee(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>F.forEach(u,m=>F.forEach(m.Ts,v=>h.persistence.referenceDelegate.addReference(f,m.targetId,v)).next(()=>F.forEach(m.Is,v=>h.persistence.referenceDelegate.removeReference(f,m.targetId,v)))))}catch(f){if(!Rs(f))throw f;q(Jm,"Failed to update sequence numbers: "+f)}for(const f of u){const m=f.targetId;if(!f.fromCache){const v=h.vs.get(m),E=v.snapshotVersion,k=v.withLastLimboFreeSnapshotVersion(E);h.vs=h.vs.insert(m,k)}}}(r.localStore,s))}async function J3(t,e){const n=ee(t);if(!n.currentUser.isEqual(e)){q(og,"User change. New user:",e.toKey());const r=await F2(n.localStore,e);n.currentUser=e,function(s,o){s.mu.forEach(a=>{a.forEach(c=>{c.reject(new $(O.CANCELLED,o))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ra(n,r.Ns)}}function Z3(t,e){const n=ee(t),r=n.Au.get(e);if(r&&r.hu)return ie().add(r.key);{let i=ie();const s=n.Iu.get(e);if(!s)return i;for(const o of s){const a=n.Tu.get(o);i=i.unionWith(a.view.nu)}return i}}function tE(t){const e=ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=X2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z3.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=K3.bind(null,e),e.Pu.J_=N3.bind(null,e.eventManager),e.Pu.yu=L3.bind(null,e.eventManager),e}function eN(t){const e=ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q3.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Y3.bind(null,e),e}class Oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lu(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return e3(this.persistence,new XV,e.initialUser,this.serializer)}Cu(e){return new M2(Ym.Vi,this.serializer)}Du(e){return new a3}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Oc.provider={build:()=>new Oc};class tN extends Oc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){ce(this.persistence.referenceDelegate instanceof Mc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LV(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?Et.withCacheSize(this.cacheSizeBytes):Et.DEFAULT;return new M2(r=>Mc.Vi(r,n),this.serializer)}}class $f{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>K1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J3.bind(null,this.syncEngine),await P3(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new j3}()}createDatastore(e){const n=Lu(e.databaseInfo.databaseId),r=h3(e.databaseInfo);return y3(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new w3(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>K1(this.syncEngine,n,0),function(){return U1.v()?new U1:new l3}())}createSyncEngine(e,n){return function(i,s,o,a,c,u,h){const f=new z3(i,s,o,a,c,u);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ee(i);q(mi,"RemoteStore shutting down."),s.Ea.add(5),await Pa(s),s.Aa.shutdown(),s.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}$f.provider={build:()=>new $f};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Bn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="FirestoreClient";class rN{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=i,this.user=dt.UNAUTHENTICATED,this.clientId=Mm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{q(Rr,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(q(Rr,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ig(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ih(t,e){t.asyncQueue.verifyOperationInProgress(),q(Rr,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await F2(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Y1(t,e){t.asyncQueue.verifyOperationInProgress();const n=await iN(t);q(Rr,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>W1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>W1(e.remoteStore,i)),t._onlineComponents=e}async function iN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q(Rr,"Using user provided OfflineComponentProvider");try{await ih(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;fi("Error using user provided cache. Falling back to memory cache: "+n),await ih(t,new Oc)}}else q(Rr,"Using default OfflineComponentProvider"),await ih(t,new tN(void 0));return t._offlineComponents}async function nE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q(Rr,"Using user provided OnlineComponentProvider"),await Y1(t,t._uninitializedComponentsProvider._online)):(q(Rr,"Using default OnlineComponentProvider"),await Y1(t,new $f))),t._onlineComponents}function sN(t){return nE(t).then(e=>e.syncEngine)}async function oN(t){const e=await nE(t),n=e.eventManager;return n.onListen=U3.bind(null,e.syncEngine),n.onUnlisten=$3.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=q3.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H3.bind(null,e.syncEngine),n}function aN(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,c,u){const h=new nN({next:m=>{h.Nu(),o.enqueueAndForget(()=>V3(s,f)),m.fromCache&&c.source==="server"?u.reject(new $(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),f=new M3(a,h,{includeMetadataChanges:!0,Ka:!0});return D3(s,f)}(await oN(t),t.asyncQueue,e,n,r)),r.promise}function lN(t,e){const n=new wr;return t.asyncQueue.enqueueAndForget(async()=>G3(await sN(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="ComponentProvider",X1=new Map;function uN(t,e,n,r,i){return new kD(t,e,n,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,rE(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="firestore.googleapis.com",J1=!0;class Z1{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new $(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=iE,this.ssl=J1}else this.host=e.host,this.ssl=e.ssl??J1;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=L2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VV)throw new $(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}mD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=rE(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new $(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ou{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Z1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Z1(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sD;switch(r.type){case"firstParty":return new cD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=X1.get(n);r&&(q(cN,"Removing Datastore"),X1.delete(n),r.terminate())}(this),Promise.resolve()}}function dN(t,e,n,r={}){var u;t=pi(t,Ou);const i=Dm(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(R5(`https://${a}`),N5("Firestore",!0)),s.host!==iE&&s.host!==a&&fi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...s,host:a,ssl:i,emulatorOptions:r};if(!kc(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=dt.MOCK_USER;else{h=j5(r.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new $(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new dt(m)}t._authCredentials=new oD(new G_(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Bu(this.firestore,e,this._query)}}class Ye{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new xr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}toJSON(){return{type:Ye._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ia(n,Ye._jsonSchema))return new Ye(e,r||null,new G(ge.fromString(n.referencePath)))}}Ye._jsonSchemaVersion="firestore/documentReference/1.0",Ye._jsonSchema={type:Be("string",Ye._jsonSchemaVersion),referencePath:Be("string")};class xr extends Bu{constructor(e,n,r){super(e,n,h2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new G(e))}withConverter(e){return new xr(this.firestore,e,this._path)}}function sE(t,e,...n){if(t=Sr(t),K_("collection","path",e),t instanceof Ou){const r=ge.fromString(e,...n);return f1(r),new xr(t,null,r)}{if(!(t instanceof Ye||t instanceof xr))throw new $(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return f1(r),new xr(t.firestore,null,r)}}function Hf(t,e,...n){if(t=Sr(t),arguments.length===1&&(e=Mm.newId()),K_("doc","path",e),t instanceof Ou){const r=ge.fromString(e,...n);return h1(r),new Ye(t,null,new G(r))}{if(!(t instanceof Ye||t instanceof xr))throw new $(O.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ge.fromString(e,...n));return h1(r),new Ye(t.firestore,t instanceof xr?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="AsyncQueue";class tw{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new B2(this,"async_queue_retry"),this._c=()=>{const r=rh();r&&q(ew,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=rh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=rh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new wr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Rs(e))throw e;q(ew,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Bn("INTERNAL UNHANDLED ERROR: ",nw(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=rg.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&Y(47125,{Pc:nw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function nw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class ja extends Ou{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new tw,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tw(e),this._firestoreClient=void 0,await e}}}function oE(t,e){const n=typeof t=="object"?t:$j(),r=typeof t=="string"?t:Pc,i=Bj(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=C5("firestore");s&&dN(i,...s)}return i}function aE(t){if(t._terminated)throw new $(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||hN(t),t._firestoreClient}function hN(t){var r,i,s,o;const e=t._freezeSettings(),n=uN(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(i=t._app)==null?void 0:i.options.apiKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new rN(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const u=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Gt(st.fromBase64String(e))}catch(n){throw new $(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Gt(st.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Gt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ia(e,Gt._jsonSchema))return Gt.fromBase64String(e.bytes)}}Gt._jsonSchemaVersion="firestore/bytes/1.0",Gt._jsonSchema={type:Be("string",Gt._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:En._jsonSchemaVersion}}static fromJSON(e){if(Ia(e,En._jsonSchema))return new En(e.latitude,e.longitude)}}En._jsonSchemaVersion="firestore/geoPoint/1.0",En._jsonSchema={type:Be("string",En._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ia(e,cn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new cn(e.vectorValues);throw new $(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cn._jsonSchemaVersion="firestore/vectorValue/1.0",cn._jsonSchema={type:Be("string",cn._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=/^__.*__$/;class pN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Or(e,this.data,this.fieldMask,n,this.fieldTransforms):new Aa(e,this.data,n,this.fieldTransforms)}}class lE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Or(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{dataSource:t})}}class ug{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.validatePath(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ug({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Bc(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(cE(this.dataSource)&&fN.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class mN{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lu(e)}createContext(e,n,r,i=!1){return new ug({dataSource:e,methodName:n,targetDoc:r,path:nt.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uE(t){const e=t._freezeSettings(),n=Lu(t._databaseId);return new mN(t._databaseId,!!e.ignoreUndefinedProperties,n)}function gN(t,e,n,r,i,s={}){const o=t.createContext(s.merge||s.mergeFields?2:0,e,n,i);dg("Data must be an object, but it was:",o,r);const a=dE(r,o);let c,u;if(s.merge)c=new Vt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const f of s.mergeFields){const m=ga(e,f,n);if(!o.contains(m))throw new $(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);pE(h,m)||h.push(m)}c=new Vt(h),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new pN(new kt(a),c,u)}class zu extends cg{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zu}}function yN(t,e,n,r){const i=t.createContext(1,e,n);dg("Data must be an object, but it was:",i,r);const s=[],o=kt.empty();Fr(r,(c,u)=>{const h=fE(e,c,n);u=Sr(u);const f=i.childContextForFieldPath(h);if(u instanceof zu)s.push(h);else{const m=Uu(u,f);m!=null&&(s.push(h),o.set(h,m))}});const a=new Vt(s);return new lE(o,a,i.fieldTransforms)}function vN(t,e,n,r,i,s){const o=t.createContext(1,e,n),a=[ga(e,r,n)],c=[i];if(s.length%2!=0)throw new $(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(ga(e,s[m])),c.push(s[m+1]);const u=[],h=kt.empty();for(let m=a.length-1;m>=0;--m)if(!pE(u,a[m])){const v=a[m];let E=c[m];E=Sr(E);const k=o.childContextForFieldPath(v);if(E instanceof zu)u.push(v);else{const P=Uu(E,k);P!=null&&(u.push(v),h.set(v,P))}}const f=new Vt(u);return new lE(h,f,o.fieldTransforms)}function Uu(t,e){if(hE(t=Sr(t)))return dg("Unsupported field value:",e,t),dE(t,e);if(t instanceof cg)return function(r,i){if(!cE(i.dataSource))throw i.createError(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=Uu(a,i.childContextForArray(o));c==null&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Sr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return JD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ye.fromDate(r);return{timestampValue:Lc(i.serializer,s)}}if(r instanceof ye){const s=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Lc(i.serializer,s)}}if(r instanceof En)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Gt)return{bytesValue:A2(i.serializer,r._byteString)};if(r instanceof Ye){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Km(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof cn)return function(o,a){const c=o instanceof cn?o.toArray():o;return{mapValue:{fields:{[r2]:{stringValue:i2},[Rc]:{arrayValue:{values:c.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return Wm(a.serializer,h)})}}}}}}(r,i);if(N2(r))return r._toProto(i.serializer);throw i.createError(`Unsupported field value: ${Fm(r)}`)}(t,e)}function dE(t,e){const n={};return X_(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fr(t,(r,i)=>{const s=Uu(i,e.childContextForField(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function hE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof En||t instanceof Gt||t instanceof Ye||t instanceof cg||t instanceof cn||N2(t))}function dg(t,e,n){if(!hE(n)||!Q_(n)){const r=Fm(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function ga(t,e,n){if((e=Sr(e))instanceof lg)return e._internalPath;if(typeof e=="string")return fE(t,e);throw Bc("Field path arguments must be of type string or ",t,!1,void 0,n)}const wN=new RegExp("[~\\*/\\[\\]]");function fE(t,e,n){if(e.search(wN)>=0)throw Bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lg(...e.split("."))._internalPath}catch{throw Bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Bc(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new $(O.INVALID_ARGUMENT,a+t+c)}function pE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{convertValue(e,n="none"){switch(Cr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ar(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Y(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fr(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[Rc].arrayValue)==null?void 0:i.values)==null?void 0:s.map(o=>Ve(o.doubleValue));return new cn(n)}convertGeoPoint(e){return new En(Ve(e.latitude),Ve(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cu(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(da(e));default:return null}}convertTimestamp(e){const n=Ir(e);return new ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ge.fromString(e);ce(V2(r),9688,{name:e});const i=new ha(r.get(1),r.get(3)),s=new G(r.popFirst(5));return i.isEqual(n)||Bn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN extends xN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Gt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,n)}}const rw="@firebase/firestore",iw="4.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new TN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(ga("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class TN extends mE{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function EN(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class wl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends mE{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(ga("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:Be("string",ns._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class ql extends ns{data(e={}){return super.data(e)}}class rs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ql(this._firestore,this._userDataWriter,r.key,r,new wl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const c=new ql(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const c=new ql(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:SN(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new $(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=rs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Mm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function SN(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs._jsonSchemaVersion="firestore/querySnapshot/1.0",rs._jsonSchema={type:Be("string",rs._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};function kN(t){t=pi(t,Bu);const e=pi(t.firestore,ja),n=aE(e),r=new bN(e);return _N(t._query),aN(n,t._query).then(i=>new rs(e,r,t,i))}function IN(t,e,n,...r){t=pi(t,Ye);const i=pi(t.firestore,ja),s=uE(i);let o;return o=typeof(e=Sr(e))=="string"||e instanceof lg?vN(s,"updateDoc",t._key,e,n,r):yN(s,"updateDoc",t._key,e),hg(i,[o.toMutation(t._key,ln.exists(!0))])}function AN(t){return hg(pi(t.firestore,ja),[new $m(t._key,ln.none())])}function CN(t,e){const n=pi(t.firestore,ja),r=Hf(t),i=EN(t.converter,e),s=uE(t.firestore);return hg(n,[gN(s,"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ln.exists(!1))]).then(()=>r)}function hg(t,e){const n=aE(t);return lN(n,e)}(function(e,n=!0){iD(Wj),Ac(new la("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ja(new aD(r.getProvider("auth-internal")),new uD(o,r.getProvider("app-check-internal")),ID(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Zi(rw,iw,e),Zi(rw,iw,"esm2020")})();const PN={apiKey:"AIzaSyDYijBZM7KI2F09lDJ35hFIdlkHTi6HbMk",authDomain:"company-application-33a02.firebaseapp.com",projectId:"company-application-33a02",storageBucket:"company-application-33a02.firebasestorage.app",messagingSenderId:"453718731624",appId:"1:453718731624:web:057aa525f34468b4a984dd",measurementId:"G-JEF9NF5TDV"},RN=Nm(PN),jN=oE(RN),DN="6LdUIXcsAAAAABpu2T1Uv-_a2CurGrbwgZXabzus",oo=({children:t})=>d.jsx("label",{className:"field-label",children:t});function VN(){const{push:t}=h_(),[e,n]=j.useState(null),[r,i]=j.useState(!1),[s,o]=j.useState({name:"",email:"",company:"",role:"",message:""}),a=u=>o(h=>({...h,[u.target.name]:u.target.value})),c=async u=>{if(u.preventDefault(),!e)return;i(!0);const h={name:s.name,email:s.email,company:s.company,message:s.message,submittedAt:new Date,status:"pending"};try{await CN(sE(jN,"contact_form"),h),t("Enquiry submitted. We'll respond within one business day."),o({name:"",email:"",company:"",role:"",message:""}),n(null)}catch{t("Submission failed. Please try again.")}finally{i(!1)}};return d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)",minHeight:"100vh"},children:[d.jsxs("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)",padding:"5rem 2rem 4rem",position:"relative",overflow:"hidden"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,pointerEvents:"none"}}),d.jsx("div",{className:"wrap",style:{position:"relative",zIndex:1},children:d.jsxs(H.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Get In Touch"}),d.jsxs("h1",{className:"t-h1",style:{marginBottom:"1.25rem",maxWidth:660},children:["Let's Build Something ",d.jsx("em",{style:{fontStyle:"italic",color:"var(--gold)"},children:"Extraordinary"})," Together"]}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:560},children:"Whether you're exploring a new blockchain protocol, deploying AI automation at scale, or navigating a complex digital transformation  share your challenge and we will respond with substance."})]})})]}),d.jsx("div",{className:"wrap",style:{padding:"5rem 2rem"},children:d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1.4fr",gap:"5rem",alignItems:"start"},className:"ct-g",children:[d.jsx("style",{children:"@media(max-width:800px){.ct-g{grid-template-columns:1fr!important;gap:3rem!important}}"}),d.jsxs(H.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6},children:[d.jsx("div",{className:"accent-bar"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.75rem",marginBottom:"3rem"},children:[{icon:b_,l:"Headquarters",v:"Singapore"},{icon:x_,l:"General Enquiries",v:"support@trustledgerlabs.com"},{icon:_c,l:"Response Time",v:"Within one business day"}].map(({icon:u,l:h,v:f})=>d.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:"1rem"},children:[d.jsx("div",{style:{width:42,height:42,borderRadius:11,background:"var(--gold-bg)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--gold)",flexShrink:0},children:d.jsx(u,{size:18})}),d.jsxs("div",{children:[d.jsx("div",{className:"field-label",style:{marginBottom:3},children:h}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:".93rem",color:"var(--tx)",fontWeight:500},children:f})]})]},h))}),d.jsxs("div",{style:{background:"var(--bg3)",border:"1px solid var(--border)",borderRadius:16,padding:"2rem"},children:[d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.1rem",fontWeight:700,color:"var(--tx)",marginBottom:".75rem"},children:"Follow Our Work"}),d.jsx("p",{className:"t-small",style:{marginBottom:"1.25rem"},children:"Research updates, product announcements, and thought leadership on AI infrastructure and blockchain protocol design."}),d.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:[{href:"https://www.linkedin.com/company/trustledgerlabs",I:km,l:"LinkedIn"},{href:"https://github.com/orgs/TrustLedgerLabs/",I:v_,l:"GitHub"}].map(({href:u,I:h,l:f})=>d.jsxs("a",{href:u,target:"_blank",rel:"noopener noreferrer",style:{display:"inline-flex",alignItems:"center",gap:6,padding:"8px 14px",border:"1px solid var(--border)",borderRadius:9,fontFamily:"var(--font-body)",fontSize:".78rem",color:"var(--tx2)",textDecoration:"none",fontWeight:500,transition:"all .2s"},onMouseEnter:m=>{m.currentTarget.style.borderColor="var(--gold)",m.currentTarget.style.color="var(--gold)"},onMouseLeave:m=>{m.currentTarget.style.borderColor="var(--border)",m.currentTarget.style.color="var(--tx2)"},children:[d.jsx(h,{size:14}),f]},u))})]})]}),d.jsx(H.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.1},children:d.jsxs("div",{style:{background:"var(--bg2)",border:"1px solid var(--border)",borderRadius:22,padding:"2.75rem",boxShadow:"var(--shadow)"},children:[d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"1.5rem",fontWeight:700,color:"var(--tx)",marginBottom:".4rem"},children:"Send Us a Message"}),d.jsx("p",{className:"t-small",style:{marginBottom:"2rem"},children:"All enquiries are reviewed by our advisory team. We respond within one business day."}),d.jsxs("form",{onSubmit:c,children:[d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[d.jsxs("div",{children:[d.jsx(oo,{children:"Full Name *"}),d.jsx("input",{name:"name",value:s.name,onChange:a,required:!0,placeholder:"Jane Smith",className:"inp"})]}),d.jsxs("div",{children:[d.jsx(oo,{children:"Email Address *"}),d.jsx("input",{name:"email",type:"email",value:s.email,onChange:a,required:!0,placeholder:"jane@company.com",className:"inp"})]})]}),d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[d.jsxs("div",{children:[d.jsx(oo,{children:"Organisation"}),d.jsx("input",{name:"company",value:s.company,onChange:a,placeholder:"Company name",className:"inp"})]}),d.jsxs("div",{children:[d.jsx(oo,{children:"Your Role"}),d.jsx("input",{name:"role",value:s.role,onChange:a,placeholder:"e.g. CTO, Head of Engineering",className:"inp"})]})]}),d.jsxs("div",{style:{marginBottom:"1.5rem"},children:[d.jsx(oo,{children:"How Can We Help? *"}),d.jsx("textarea",{name:"message",value:s.message,onChange:a,required:!0,rows:5,placeholder:"Describe your project, challenge, or enquiry. The more context you provide, the more substantive our response.",className:"inp",style:{resize:"vertical",minHeight:130}})]}),d.jsx(v5,{sitekey:DN,onChange:u=>n(u)}),d.jsx("button",{type:"submit",disabled:!e||r,className:"btn btn-dark",style:{width:"100%",justifyContent:"center",marginTop:"1.25rem",padding:".9rem",fontSize:".9rem",opacity:!e||r?.4:1,cursor:!e||r?"not-allowed":"pointer"},children:r?"Sending":d.jsxs(d.Fragment,{children:[d.jsx("span",{children:"Submit Enquiry"}),d.jsx(Oe,{size:14})]})})]})]})})]})})]})}function NN(){const{push:t}=h_(),e=n=>{n.preventDefault(),t("Your blog proposal has been sent to the admin."),n.currentTarget.reset()};return d.jsxs("div",{className:"max-w-xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Submit a Blog Post"}),d.jsxs("form",{className:"card p-6 space-y-4 border border-slate-200 dark:border-slate-800",name:"submit-blog",method:"POST","data-netlify":"true","netlify-honeypot":"bot-field",onSubmit:e,children:[d.jsx("input",{type:"hidden",name:"form-name",value:"submit-blog"}),d.jsx("p",{className:"hidden",children:d.jsxs("label",{children:["Dont fill: ",d.jsx("input",{name:"bot-field"})]})}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Post title"}),d.jsx("input",{className:"input",name:"title",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Author name"}),d.jsx("input",{className:"input",name:"author",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Content"}),d.jsx("textarea",{className:"input",name:"content",rows:"6",required:!0})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Contact email"}),d.jsx("input",{className:"input",name:"email",type:"email",required:!0})]}),d.jsx("div",{"data-netlify-recaptcha":"true"}),d.jsx("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})]})}const LN={apiKey:"AIzaSyDYijBZM7KI2F09lDJ35hFIdlkHTi6HbMk",authDomain:"company-application-33a02.firebaseapp.com",projectId:"company-application-33a02",storageBucket:"company-application-33a02.firebasestorage.app",messagingSenderId:"453718731624",appId:"1:453718731624:web:057aa525f34468b4a984dd",measurementId:"G-JEF9NF5TDV"},MN=Nm(LN),sh=oE(MN);function FN(){const[t,e]=j.useState([]),[n,r]=j.useState(!0),[i,s]=j.useState(null),[o,a]=j.useState("all"),[c,u]=j.useState("");j.useEffect(()=>{h()},[]);const h=async()=>{try{r(!0);const x=(await kN(sE(sh,"contact_form"))).docs.map(_=>({id:_.id,..._.data()}));e(x),s(null)}catch(y){console.error("Error fetching candidates:",y),s("Failed to load candidates. Please try again later.")}finally{r(!1)}},f=async(y,x)=>{try{const _=Hf(sh,"contact_form",y);await IN(_,{status:x}),h()}catch(_){console.error("Error updating status:",_),s("Failed to update status.")}},m=async y=>{if(window.confirm("Are you sure you want to delete this candidate?"))try{await AN(Hf(sh,"contact_form",y)),h()}catch(x){console.error("Error deleting candidate:",x),s("Failed to delete candidate.")}},v=y=>y?y.toDate?y.toDate().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):new Date(y).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",E=y=>{switch(y){case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-200";case"approved":return"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-200";case"rejected":return"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-200";default:return"bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200"}},k=t.filter(y=>{var C;const x=o==="all"||y.status===o,_=c===""||y.name.toLowerCase().includes(c.toLowerCase())||y.email.toLowerCase().includes(c.toLowerCase())||((C=y.company)==null?void 0:C.toLowerCase().includes(c.toLowerCase()));return x&&_}),P={total:t.length,pending:t.filter(y=>y.status==="pending").length,approved:t.filter(y=>y.status==="approved").length,rejected:t.filter(y=>y.status==="rejected").length};return d.jsxs("div",{className:"w-full px-4 sm:px-6 lg:px-8 py-12",children:[d.jsxs("div",{className:"mb-8",children:[d.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Dashboard"}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[d.jsxs("div",{className:"bg-slate-50 dark:bg-slate-800 p-4 rounded-lg border border-slate-200 dark:border-slate-700",children:[d.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm font-medium",children:"Total"}),d.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:P.total})]}),d.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-800",children:[d.jsx("p",{className:"text-yellow-800 dark:text-yellow-200 text-sm font-medium",children:"Pending"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-900 dark:text-yellow-100",children:P.pending})]}),d.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-800",children:[d.jsx("p",{className:"text-green-800 dark:text-green-200 text-sm font-medium",children:"Approved"}),d.jsx("p",{className:"text-2xl font-bold text-green-900 dark:text-green-100",children:P.approved})]}),d.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 p-4 rounded-lg border border-red-200 dark:border-red-800",children:[d.jsx("p",{className:"text-red-800 dark:text-red-200 text-sm font-medium",children:"Rejected"}),d.jsx("p",{className:"text-2xl font-bold text-red-900 dark:text-red-100",children:P.rejected})]})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[d.jsx("input",{type:"text",placeholder:"Search by name, email, or company...",value:c,onChange:y=>u(y.target.value),className:"input flex-1"}),d.jsxs("select",{value:o,onChange:y=>a(y.target.value),className:"input",children:[d.jsx("option",{value:"all",children:"All Status"}),d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"approved",children:"Approved"}),d.jsx("option",{value:"rejected",children:"Rejected"})]})]})]}),i&&d.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:d.jsx("p",{className:"text-red-800 dark:text-red-200",children:i})}),n?d.jsx("div",{className:"flex justify-center items-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-slate-700 dark:border-emerald-500"})}):k.length===0?d.jsx("div",{className:"text-center py-12 bg-slate-50 dark:bg-slate-800/50 rounded-lg border border-slate-200 dark:border-slate-700",children:d.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No candidates found."})}):d.jsx("div",{className:"overflow-x-auto border border-slate-200 dark:border-slate-700 rounded-lg",children:d.jsxs("table",{className:"w-full text-sm",children:[d.jsx("thead",{className:"bg-slate-50 dark:bg-slate-800 border-b border-slate-200 dark:border-slate-700",children:d.jsxs("tr",{children:[d.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900 dark:text-slate-100",children:"Name"}),d.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900 dark:text-slate-100",children:"Email"}),d.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900 dark:text-slate-100",children:"Company"}),d.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900 dark:text-slate-100",children:"Message"}),d.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900 dark:text-slate-100",children:"Status"}),d.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900 dark:text-slate-100",children:"Submitted"}),d.jsx("th",{className:"px-4 py-3 text-left font-semibold text-slate-900 dark:text-slate-100",children:"Actions"})]})}),d.jsx("tbody",{className:"divide-y divide-slate-200 dark:divide-slate-700",children:k.map(y=>d.jsxs("tr",{className:"hover:bg-slate-50 dark:hover:bg-slate-800 transition",children:[d.jsx("td",{className:"px-4 py-4 font-medium text-slate-900 dark:text-slate-100",children:y.name||"N/A"}),d.jsx("td",{className:"px-4 py-4 text-slate-700 dark:text-slate-300",children:d.jsx("a",{href:`mailto:${y.email}`,className:"text-blue-600 dark:text-blue-400 hover:underline",children:y.email||"N/A"})}),d.jsx("td",{className:"px-4 py-4 text-slate-700 dark:text-slate-300",children:y.company||"N/A"}),d.jsx("td",{className:"px-4 py-4 text-slate-700 dark:text-slate-300 max-w-xs truncate",children:y.message||"N/A"}),d.jsx("td",{className:"px-4 py-4",children:d.jsxs("select",{value:y.status||"pending",onChange:x=>f(y.id,x.target.value),className:`px-3 py-1 rounded text-sm font-medium cursor-pointer ${E(y.status)}`,children:[d.jsx("option",{value:"pending",children:"Pending"}),d.jsx("option",{value:"approved",children:"Approved"}),d.jsx("option",{value:"rejected",children:"Rejected"})]})}),d.jsx("td",{className:"px-4 py-4 text-slate-700 dark:text-slate-300 whitespace-nowrap text-xs",children:v(y.submittedAt)}),d.jsx("td",{className:"px-4 py-4",children:d.jsx("button",{onClick:()=>m(y.id),className:"px-3 py-1 text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition",children:"Delete"})})]},y.id))})]})})]})}const ON=[{icon:_c,title:"30-Minute Session",desc:"A focused, no-fluff conversation about your use case and objectives."},{icon:v6,title:"No Commitment Required",desc:"Completely complimentary. Just a substantive conversation to explore what's genuinely possible."},{icon:l6,title:"Expert Advisory",desc:"You'll speak directly with a senior TrustLedgerLabs specialist  not a sales representative."},{icon:s6,title:"Flexible Scheduling",desc:"Choose a time that works for you across multiple time zones."}];function BN(){return j.useEffect(()=>{if(!document.getElementById("calendly-script")){const e=document.createElement("script");e.id="calendly-script",e.src="https://assets.calendly.com/assets/external/widget.js",e.async=!0,document.body.appendChild(e)}return()=>{}},[]),d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)"},children:[d.jsxs("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)",padding:"7rem 2rem 5rem",position:"relative",overflow:"hidden",textAlign:"center"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,pointerEvents:"none"}}),d.jsx("div",{style:{maxWidth:720,margin:"0 auto",position:"relative",zIndex:1},children:d.jsxs(H.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsxs("div",{className:"badge",style:{marginBottom:"1.75rem",color:"var(--gold)"},children:[d.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"var(--gold)",flexShrink:0}}),"Complimentary  30 Minutes  No Obligation"]}),d.jsxs("h1",{className:"t-h1",style:{marginBottom:"1.25rem"},children:["Schedule a"," ",d.jsx("em",{style:{fontStyle:"italic",color:"var(--gold)"},children:"Discovery Call"})]}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:560,margin:"0 auto"},children:"Book a complimentary 30-minute session with a TrustLedgerLabs senior specialist. We'll explore your objectives, evaluate fit, and outline what's genuinely achievable for your organisation."})]})})]}),d.jsx("section",{style:{background:"var(--bg3)",borderBottom:"1px solid var(--border)"},children:d.jsx("div",{className:"wrap",style:{padding:"4rem 2rem"},children:d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(220px, 1fr))",gap:"1.5rem"},children:ON.map((t,e)=>d.jsxs(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:e*.1},style:{background:"var(--bg2)",border:"1px solid var(--border)",borderRadius:12,padding:"1.75rem 1.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[d.jsx("div",{style:{width:44,height:44,borderRadius:10,background:"var(--gold-bg)",border:"1px solid var(--gold-bd)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(t.icon,{size:20,style:{color:"var(--gold)"}})}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"0.95rem",fontWeight:600,color:"var(--tx)"},children:t.title}),d.jsx("div",{className:"t-small",style:{lineHeight:1.6},children:t.desc})]},t.title))})})}),d.jsx("section",{style:{background:"var(--bg)",padding:"5rem 2rem"},children:d.jsx("div",{style:{maxWidth:1e3,margin:"0 auto"},children:d.jsxs(H.div,{initial:{opacity:0,y:24},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsxs("div",{style:{textAlign:"center",marginBottom:"3rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"0.75rem"},children:"Select a Time"}),d.jsx("h2",{className:"t-h2",children:"Choose What Works for You"})]}),d.jsx("div",{style:{borderRadius:16,overflow:"hidden",border:"1px solid var(--border)",boxShadow:"var(--shadow2)",background:"var(--bg2)"},children:d.jsx("div",{className:"calendly-inline-widget","data-url":"https://calendly.com/ledgerlink928/30min?hide_gdpr_banner=1&primary_color=b5894a",style:{minWidth:320,height:700}})})]})})}),d.jsx("section",{style:{background:"var(--bg2)",borderTop:"1px solid var(--border)",padding:"4rem 2rem",textAlign:"center"},children:d.jsxs(H.div,{initial:{opacity:0,y:18},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"1rem"},children:"Prefer to Write First?"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Send Us a Message"}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:460,margin:"0 auto 2.25rem"},children:"If you'd rather outline your requirements in writing before speaking, our team will respond within one business day."}),d.jsxs("a",{href:"/contact",className:"btn btn-gold",children:["Contact TrustLedgerLabs ",d.jsx(Oe,{size:14})]})]})})]})}const zN=["What services do you offer?","How does your AI platform work?","Can you help with blockchain for finance?","How do I schedule a discovery call?"];function UN(){return d.jsx("div",{style:{display:"flex",alignItems:"center",gap:4,padding:"10px 14px"},children:[0,1,2].map(t=>d.jsx(H.span,{style:{width:6,height:6,borderRadius:"50%",background:"var(--gold)",display:"block"},animate:{opacity:[.3,1,.3],y:[0,-3,0]},transition:{duration:1,repeat:1/0,delay:t*.18}},t))})}function qN({msg:t}){const e=t.role==="user";return d.jsxs(H.div,{initial:{opacity:0,y:10,scale:.97},animate:{opacity:1,y:0,scale:1},transition:{duration:.25,ease:[.22,1,.36,1]},style:{display:"flex",justifyContent:e?"flex-end":"flex-start",marginBottom:"0.65rem"},children:[!e&&d.jsx("div",{style:{width:28,height:28,borderRadius:8,flexShrink:0,background:"var(--gold-bg)",border:"1px solid var(--gold-bd)",display:"flex",alignItems:"center",justifyContent:"center",marginRight:8,marginTop:2},children:d.jsx(Ll,{size:13,style:{color:"var(--gold)"}})}),d.jsx("div",{style:{maxWidth:"80%",padding:"10px 13px",borderRadius:e?"14px 14px 4px 14px":"14px 14px 14px 4px",background:e?"var(--gold)":"var(--bg3)",border:e?"none":"1px solid var(--border)",color:e?"#fff":"var(--tx)",fontFamily:"var(--font-body)",fontSize:"0.83rem",lineHeight:1.55,whiteSpace:"pre-wrap",wordBreak:"break-word"},children:t.content})]})}function WN(){const[t,e]=j.useState(!1),[n,r]=j.useState([]),[i,s]=j.useState(""),[o,a]=j.useState(!1),[c,u]=j.useState(null),[h,f]=j.useState(1),[m,v]=j.useState(!1),E=j.useRef(null),k=j.useRef(null);j.useEffect(()=>{t&&!m&&(v(!0),f(0),r([{role:"assistant",content:`Hi, I'm Ledger  TrustLedgerLabs' AI assistant.

I can tell you about our AI platform, blockchain infrastructure, consulting services, or help you get in touch with the team. What would you like to know?`}]),setTimeout(()=>{var C;return(C=k.current)==null?void 0:C.focus()},100)),t&&f(0)},[t,m]),j.useEffect(()=>{var C;(C=E.current)==null||C.scrollIntoView({behavior:"smooth"})},[n,o]);const P=async C=>{const D=(C||i).trim();if(!D||o)return;s(""),u(null);const M=[...n,{role:"user",content:D}];r(M),a(!0);try{const w=await(await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:M.map(S=>({role:S.role,content:S.content}))})})).json();if(w.error)throw new Error(w.error);r(S=>[...S,{role:"assistant",content:w.reply}])}catch{u("Something went wrong. Please try again."),r(w=>w.slice(0,-1))}finally{a(!1),setTimeout(()=>{var T;return(T=k.current)==null?void 0:T.focus()},50)}},y=()=>{r([]),v(!1),u(null),s("")},x=C=>{C.key==="Enter"&&!C.shiftKey&&(C.preventDefault(),P())},_=n.length<=1&&!o;return d.jsxs(d.Fragment,{children:[d.jsx(jl,{children:!t&&d.jsxs(H.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:400,damping:25},onClick:()=>e(!0),style:{position:"fixed",bottom:28,right:28,zIndex:9999,width:56,height:56,borderRadius:16,background:"var(--gold)",border:"none",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 8px 32px rgba(181,137,74,0.45), 0 2px 8px rgba(0,0,0,0.12)"},whileHover:{scale:1.08,boxShadow:"0 12px 40px rgba(181,137,74,0.55)"},whileTap:{scale:.95},children:[d.jsx(Ll,{size:22,color:"#fff"}),h>0&&d.jsx(H.div,{initial:{scale:0},animate:{scale:1},style:{position:"absolute",top:-4,right:-4,width:18,height:18,borderRadius:"50%",background:"#ef4444",border:"2px solid var(--bg)",display:"flex",alignItems:"center",justifyContent:"center",fontFamily:"var(--font-body)",fontSize:"0.6rem",fontWeight:700,color:"#fff"},children:h})]},"fab")}),d.jsx(jl,{children:t&&d.jsxs(H.div,{initial:{opacity:0,y:24,scale:.94},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},transition:{type:"spring",stiffness:360,damping:28},style:{position:"fixed",bottom:28,right:28,zIndex:9999,width:"min(400px, calc(100vw - 40px))",height:"min(580px, calc(100vh - 100px))",borderRadius:20,background:"var(--bg2)",border:"1px solid var(--border)",boxShadow:"0 24px 80px rgba(0,0,0,0.18), 0 4px 20px rgba(0,0,0,0.08)",display:"flex",flexDirection:"column",overflow:"hidden"},children:[d.jsxs("div",{style:{padding:"14px 16px",background:"var(--bg)",borderBottom:"1px solid var(--border)",display:"flex",alignItems:"center",gap:10,flexShrink:0},children:[d.jsx("div",{style:{width:36,height:36,borderRadius:10,background:"var(--gold)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,boxShadow:"0 2px 8px rgba(181,137,74,0.4)"},children:d.jsx(Ll,{size:16,color:"#fff"})}),d.jsxs("div",{style:{flex:1},children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"0.88rem",fontWeight:700,color:"var(--tx)",lineHeight:1.2},children:"Ledger"}),d.jsxs("div",{style:{display:"flex",alignItems:"center",gap:5},children:[d.jsx("span",{style:{width:6,height:6,borderRadius:"50%",background:"#22c55e",display:"block",boxShadow:"0 0 6px #22c55e"}}),d.jsx("span",{style:{fontFamily:"var(--font-body)",fontSize:"0.7rem",color:"var(--tx3)"},children:"TrustLedgerLabs AI  Online"})]})]}),d.jsxs("div",{style:{display:"flex",gap:4},children:[d.jsx("button",{onClick:y,title:"Reset conversation",style:{width:30,height:30,borderRadius:8,border:"1px solid var(--border)",background:"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--tx3)",transition:"all .15s"},onMouseEnter:C=>{C.currentTarget.style.background="var(--bg3)",C.currentTarget.style.color="var(--tx)"},onMouseLeave:C=>{C.currentTarget.style.background="transparent",C.currentTarget.style.color="var(--tx3)"},children:d.jsx(m6,{size:13})}),d.jsx("button",{onClick:()=>e(!1),style:{width:30,height:30,borderRadius:8,border:"1px solid var(--border)",background:"transparent",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--tx3)",transition:"all .15s"},onMouseEnter:C=>{C.currentTarget.style.background="var(--bg3)",C.currentTarget.style.color="var(--tx)"},onMouseLeave:C=>{C.currentTarget.style.background="transparent",C.currentTarget.style.color="var(--tx3)"},children:d.jsx(m_,{size:15})})]})]}),d.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"16px 14px 8px",scrollbarWidth:"thin",scrollbarColor:"var(--border) transparent"},children:[n.map((C,D)=>d.jsx(qN,{msg:C},D)),o&&d.jsxs(H.div,{initial:{opacity:0},animate:{opacity:1},style:{display:"flex",alignItems:"center",gap:8,marginBottom:"0.65rem"},children:[d.jsx("div",{style:{width:28,height:28,borderRadius:8,flexShrink:0,background:"var(--gold-bg)",border:"1px solid var(--gold-bd)",display:"flex",alignItems:"center",justifyContent:"center"},children:d.jsx(Ll,{size:13,style:{color:"var(--gold)"}})}),d.jsx("div",{style:{background:"var(--bg3)",border:"1px solid var(--border)",borderRadius:"14px 14px 14px 4px"},children:d.jsx(UN,{})})]}),c&&d.jsx(H.div,{initial:{opacity:0},animate:{opacity:1},style:{padding:"8px 12px",background:"rgba(239,68,68,0.08)",border:"1px solid rgba(239,68,68,0.2)",borderRadius:10,fontFamily:"var(--font-body)",fontSize:"0.78rem",color:"#ef4444",marginBottom:"0.65rem"},children:c}),d.jsx("div",{ref:E})]}),d.jsx(jl,{children:_&&d.jsxs(H.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},style:{padding:"0 12px 10px",flexShrink:0},children:[d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"0.67rem",fontWeight:700,letterSpacing:"0.1em",textTransform:"uppercase",color:"var(--tx3)",marginBottom:6},children:"Suggested"}),d.jsx("div",{style:{display:"flex",flexDirection:"column",gap:5},children:zN.map(C=>d.jsx("button",{onClick:()=>P(C),style:{textAlign:"left",padding:"7px 11px",background:"var(--bg3)",border:"1px solid var(--border)",borderRadius:9,cursor:"pointer",fontFamily:"var(--font-body)",fontSize:"0.78rem",color:"var(--tx2)",transition:"all .15s",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onMouseEnter:D=>{D.currentTarget.style.borderColor="var(--gold)",D.currentTarget.style.color="var(--gold)",D.currentTarget.style.background="var(--gold-bg)"},onMouseLeave:D=>{D.currentTarget.style.borderColor="var(--border)",D.currentTarget.style.color="var(--tx2)",D.currentTarget.style.background="var(--bg3)"},children:C},C))})]})}),d.jsxs("div",{style:{padding:"10px 12px 14px",borderTop:"1px solid var(--border)",flexShrink:0,background:"var(--bg)"},children:[d.jsxs("div",{style:{display:"flex",alignItems:"flex-end",gap:8,background:"var(--bg2)",border:"1px solid var(--border)",borderRadius:12,padding:"8px 8px 8px 12px",transition:"border-color .15s"},onFocusCapture:C=>C.currentTarget.style.borderColor="var(--gold)",onBlurCapture:C=>C.currentTarget.style.borderColor="var(--border)",children:[d.jsx("textarea",{ref:k,value:i,onChange:C=>s(C.target.value),onKeyDown:x,placeholder:"Ask about our services",rows:1,style:{flex:1,background:"transparent",border:"none",outline:"none",resize:"none",fontFamily:"var(--font-body)",fontSize:"0.84rem",color:"var(--tx)",lineHeight:1.5,maxHeight:100,overflowY:"auto",scrollbarWidth:"none"},onInput:C=>{C.target.style.height="auto",C.target.style.height=Math.min(C.target.scrollHeight,100)+"px"}}),d.jsx(H.button,{onClick:()=>P(),disabled:!i.trim()||o,whileTap:{scale:.9},style:{width:34,height:34,borderRadius:9,border:"none",background:i.trim()&&!o?"var(--gold)":"var(--bg3)",cursor:i.trim()&&!o?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"background .15s"},children:d.jsx(g6,{size:14,color:i.trim()&&!o?"#fff":"var(--tx3)"})})]}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"0.65rem",color:"var(--tx3)",textAlign:"center",marginTop:7},children:"Powered by Claude  TrustLedgerLabs AI"})]})]},"panel")})]})}const sw={hidden:{opacity:0,y:22},visible:(t=0)=>({opacity:1,y:0,transition:{duration:.52,delay:t*.09,ease:[.22,1,.36,1]}})},$N=[{icon:mu,c:"#b5894a",t:"Executive Advisory & Board Engagement",d:"Senior-level advisory to C-suite and Board stakeholders navigating AI adoption, blockchain strategy, and digital transformation. We translate deep technical expertise into clear strategic direction and defensible investment cases."},{icon:Sm,c:"#6366f1",t:"Innovation Strategy & Technology Roadmapping",d:"Co-design of multi-year digital transformation roadmaps, identifying the highest-leverage intersection of your business model with emerging AI and blockchain capabilities  prioritised by commercial impact and technical feasibility."},{icon:_6,c:"#b5894a",t:"Systems Integration & Migration Planning",d:"Architecture-level planning for integrating AI inference pipelines and blockchain components into legacy enterprise stacks  including co-existence strategies, phased cut-over plans, and zero-downtime migration approaches."},{icon:b6,c:"#6366f1",t:"Use Case Discovery & Feasibility Assessment",d:"Structured discovery engagements to identify, evaluate, and prioritise AI and blockchain use cases  with commercial modelling, technical feasibility scoring, regulatory risk assessment, and a ranked opportunity matrix."},{icon:p_,c:"#b5894a",t:"Performance Audit & Optimisation",d:"Independent technical audit of existing blockchain deployments and AI systems  assessing security posture, gas efficiency, model performance, data pipeline integrity, and alignment with current regulatory expectations."},{icon:aa,c:"#6366f1",t:"Enterprise Training & Capability Building",d:"Structured programmes for engineering leads, product managers, and executive teams covering blockchain architecture, AI governance, responsible deployment practices, and the commercial frameworks governing emerging technology."}],HN=[{n:"01",t:"Discovery",d:"A structured 24 week discovery engagement to map your organisation's objectives, current technology landscape, regulatory context, and strategic priorities. Output: a current-state assessment and ranked opportunity matrix."},{n:"02",t:"Strategy",d:"Bespoke transformation roadmap with phased milestones, technology selections, build-vs-buy recommendations, risk register, and commercial modelling. Peer-reviewed by our technical leadership before delivery."},{n:"03",t:"Execution",d:"Hands-on delivery alongside your internal teams  with weekly steering, continuous risk management, and adaptive planning that responds to changing business conditions without losing strategic coherence."},{n:"04",t:"Optimisation",d:"Post-deployment review cycles measuring outcomes against objectives, identifying refinement opportunities, and establishing the governance cadence required to sustain performance as your systems mature and scale."}];function GN(){return d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)"},children:[d.jsxs("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)",padding:"7rem 2rem 5rem",position:"relative",overflow:"hidden",textAlign:"center"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,pointerEvents:"none"}}),d.jsx("div",{style:{maxWidth:780,margin:"0 auto",position:"relative",zIndex:1},children:d.jsxs(H.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsxs("div",{className:"badge",style:{marginBottom:"1.75rem"},children:[d.jsx(Sm,{size:11}),"Consulting Services"]}),d.jsxs("h1",{className:"t-h1",style:{marginBottom:"1.25rem"},children:["Strategic Advisory for ",d.jsx("em",{style:{fontStyle:"italic",color:"var(--gold)"},children:"Digital Transformation"})]}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:620,margin:"0 auto 2.5rem"},children:"TrustLedgerLabs Consulting partners with enterprise leadership to navigate the complexity of AI and blockchain adoption  translating technological possibility into commercially rigorous transformation programmes with measurable outcomes."}),d.jsxs(le,{to:"/schedule",className:"btn btn-dark",children:["Book a Discovery Session ",d.jsx(Oe,{size:14})]})]})})]}),d.jsx("section",{style:{background:"var(--bg)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},style:{marginBottom:"3.5rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Advisory Services"}),d.jsx("h2",{className:"t-h2",children:"How We Engage"})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(320px,1fr))",gap:"1.5rem"},children:$N.map((t,e)=>d.jsxs(H.div,{className:"card-hover",variants:sw,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},style:{padding:"2rem"},children:[d.jsx("div",{style:{width:48,height:48,borderRadius:12,background:t.c+"18",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.25rem"},children:d.jsx(t.icon,{size:22,style:{color:t.c}})}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".6rem"},children:t.t}),d.jsx("div",{className:"t-small",children:t.d})]},t.t))})]})}),d.jsx("section",{style:{background:"var(--bg3)",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},style:{marginBottom:"3.5rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Engagement Model"}),d.jsx("h2",{className:"t-h2",children:"How a Consulting Engagement Works"})]}),d.jsx("div",{className:"grid-divider",style:{gridTemplateColumns:"repeat(auto-fit,minmax(240px,1fr))"},children:HN.map((t,e)=>d.jsxs(H.div,{variants:sw,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},style:{background:"var(--bg2)",padding:"2.5rem",transition:"background .2s",cursor:"default"},onMouseEnter:n=>n.currentTarget.style.background="var(--bg3)",onMouseLeave:n=>n.currentTarget.style.background="var(--bg2)",children:[d.jsx("div",{style:{fontFamily:"var(--font-display)",fontSize:"3rem",fontWeight:700,color:"rgba(181,137,74,.18)",lineHeight:1,marginBottom:".75rem"},children:t.n}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".6rem"},children:t.t}),d.jsx("div",{className:"t-small",children:t.d})]},t.n))})]})}),d.jsx("section",{style:{background:"var(--bg)",padding:"5.5rem 2rem",textAlign:"center"},children:d.jsxs(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"1rem"},children:"Begin the Engagement"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Ready to Transform Your Enterprise?"}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:500,margin:"0 auto 2.5rem"},children:"Schedule a complimentary 45-minute discovery call with our advisory team. No commitment  just a substantive conversation about what's genuinely possible for your organisation."}),d.jsxs(le,{to:"/schedule",className:"btn btn-dark",style:{padding:".85rem 2.2rem"},children:["Schedule Your Discovery Call ",d.jsx(Oe,{size:14})]})]})})]})}const ow={hidden:{opacity:0,y:22},visible:(t=0)=>({opacity:1,y:0,transition:{duration:.52,delay:t*.09,ease:[.22,1,.36,1]}})},KN=[{icon:Is,c:"#b5894a",t:"Smart Contract Development & Audit",d:"End-to-end smart contract engineering across Ethereum, Solana, Polygon and custom EVM chains. Every contract undergoes multi-pass security auditing, formal verification where applicable, and comprehensive test suites before any mainnet deployment."},{icon:pu,c:"#6366f1",t:"Enterprise Security Architecture",d:"Zero-trust frameworks engineered for decentralised environments  multi-sig governance, timelocks, role-based access control, on-chain fraud detection, and automated incident response built into every deployment."},{icon:T_,c:"#b5894a",t:"Cross-Chain Interoperability",d:"Bridge protocols, cross-chain message passing, and Layer-2 integrations that enable seamless asset and data flow across heterogeneous networks without sacrificing security or transaction finality guarantees."},{icon:w_,c:"#6366f1",t:"Identity, KYC & Compliance",d:"Decentralised identity systems compliant with MiCA, FATF Travel Rule, and regional AML frameworks. On-chain attestation registries, verifiable credentials, and permissioned access control for regulated industries."},{icon:__,c:"#b5894a",t:"High-Performance L2 Architecture",d:"Custom Rollup infrastructure  Optimistic and ZK-based  engineered for enterprise throughput. Latency-optimised sequencer design and fraud-proof systems calibrated precisely to your use case and compliance requirements."},{icon:fu,c:"#6366f1",t:"DeFi Protocol Engineering",d:"Liquidity pool design, automated market makers, yield optimisation vaults, and tokenisation frameworks for real-world assets. Institutional-grade DeFi built with the rigour financial counterparties demand from production systems."}],QN=["Financial Settlement & Clearing","Supply Chain Provenance","Digital Asset Custody","Carbon Credit Tokenisation","Trade Finance Automation","Regulatory Reporting Trails"];function YN(){return d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)"},children:[d.jsxs("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)",padding:"7rem 2rem 5rem",position:"relative",overflow:"hidden",textAlign:"center"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,pointerEvents:"none"}}),d.jsx("div",{style:{maxWidth:780,margin:"0 auto",position:"relative",zIndex:1},children:d.jsxs(H.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsxs("div",{className:"badge",style:{marginBottom:"1.75rem"},children:[d.jsx(Is,{size:11}),"Blockchain Solutions"]}),d.jsxs("h1",{className:"t-h1",style:{marginBottom:"1.25rem"},children:["Institutional-Grade ",d.jsx("em",{style:{fontStyle:"italic",color:"var(--gold)"},children:"Blockchain"})," Infrastructure"]}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:620,margin:"0 auto 2.5rem"},children:"We architect, deploy, and maintain the decentralised infrastructure that financial institutions, regulated enterprises, and protocol teams rely on for mission-critical operations  where security, auditability, and performance are non-negotiable."}),d.jsxs(le,{to:"/contact",className:"btn btn-dark",children:["Engage Our Blockchain Practice ",d.jsx(Oe,{size:14})]})]})})]}),d.jsx("section",{style:{background:"var(--bg)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},style:{marginBottom:"3.5rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Service Capabilities"}),d.jsx("h2",{className:"t-h2",children:"What Our Blockchain Practice Delivers"})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(320px,1fr))",gap:"1.5rem"},children:KN.map((t,e)=>d.jsxs(H.div,{className:"card-hover",variants:ow,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},style:{padding:"2rem"},children:[d.jsx("div",{style:{width:48,height:48,borderRadius:12,background:t.c+"18",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.25rem"},children:d.jsx(t.icon,{size:22,style:{color:t.c}})}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".6rem"},children:t.t}),d.jsx("div",{className:"t-small",children:t.d})]},t.t))})]})}),d.jsx("section",{style:{background:"var(--bg3)",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"},children:d.jsx("div",{className:"wrap sect-sm",children:d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4rem",alignItems:"center"},className:"uc-g",children:[d.jsx("style",{children:"@media(max-width:768px){.uc-g{grid-template-columns:1fr!important}}"}),d.jsxs(H.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Industry Applications"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Proven Across Critical Sectors"}),d.jsx("p",{className:"t-body",children:"Our blockchain engagements span the full spectrum of enterprise verticals  from regulated financial infrastructure to real-world asset tokenisation and government procurement systems."})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:QN.map((t,e)=>d.jsxs(H.div,{variants:ow,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},style:{display:"flex",alignItems:"flex-start",gap:8,padding:"1rem",background:"var(--bg2)",borderRadius:12,border:"1px solid var(--border)"},children:[d.jsx(g_,{size:14,style:{color:"var(--gold)",marginTop:2,flexShrink:0}}),d.jsx("span",{className:"t-small",children:t})]},t))})]})})}),d.jsx("section",{style:{background:"var(--bg)",padding:"5.5rem 2rem",textAlign:"center"},children:d.jsxs(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"1rem"},children:"Start the Conversation"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Ready to Build on Blockchain?"}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:480,margin:"0 auto 2.5rem"},children:"Let's scope your use case and design an architecture calibrated for your regulatory environment, performance requirements, and long-term roadmap."}),d.jsxs(le,{to:"/schedule",className:"btn btn-dark",style:{padding:".85rem 2.2rem"},children:["Schedule a Discovery Call ",d.jsx(Oe,{size:14})]})]})})]})}const aw={hidden:{opacity:0,y:22},visible:(t=0)=>({opacity:1,y:0,transition:{duration:.52,delay:t*.09,ease:[.22,1,.36,1]}})},XN=[{icon:r6,c:"#b5894a",t:"Autonomous AI Agent Deployment",d:"Design and deployment of production AI agents that orchestrate multi-step enterprise workflows  from document processing and compliance screening to supply chain exception handling and financial reconciliation  with full on-chain audit logging."},{icon:hu,c:"#6366f1",t:"Cognitive Intelligence Systems",d:"Custom NLP pipelines, retrieval-augmented generation architectures, and computer vision systems fine-tuned on proprietary enterprise data. Built to the accuracy and reliability thresholds that regulated industries demand in production environments."},{icon:o6,c:"#b5894a",t:"Predictive Analytics & Forecasting",d:"Time-series forecasting, anomaly detection, and decision intelligence systems that transform raw operational data into forward-looking signals  enabling faster, higher-confidence decisions at every layer of the enterprise."},{icon:y_,c:"#6366f1",t:"ML Infrastructure & MLOps",d:"End-to-end machine learning infrastructure: feature stores, model registries, CI/CD pipelines for model releases, A/B testing frameworks, and automated retraining triggers. From proof-of-concept to production in weeks."},{icon:u6,c:"#b5894a",t:"AI Observability & Governance",d:"Real-time monitoring for model drift, data quality degradation, output fairness metrics and latency SLAs. Governance dashboards give compliance and risk teams the visibility they need without slowing engineering velocity."},{icon:Em,c:"#6366f1",t:"On-Chain AI & Verifiable Inference",d:"A uniquely TrustLedgerLabs capability: AI inference pipelines anchored to blockchain attestation systems, enabling verifiable, tamper-proof records of every model decision  meeting the emerging regulatory standard for explainable AI in regulated sectors."}],JN=["Automated Compliance Screening","Fraud Detection & Prevention","Document Intelligence","Predictive Maintenance","Customer Intent Classification","On-Chain Risk Scoring"];function ZN(){return d.jsxs("div",{style:{background:"var(--bg)",color:"var(--tx)"},children:[d.jsxs("section",{style:{background:"var(--bg2)",borderBottom:"1px solid var(--border)",padding:"7rem 2rem 5rem",position:"relative",overflow:"hidden",textAlign:"center"},children:[d.jsx("div",{className:"tex-grid",style:{position:"absolute",inset:0,pointerEvents:"none"}}),d.jsx("div",{style:{maxWidth:780,margin:"0 auto",position:"relative",zIndex:1},children:d.jsxs(H.div,{initial:{opacity:0,y:22},animate:{opacity:1,y:0},transition:{duration:.7},children:[d.jsxs("div",{className:"badge",style:{marginBottom:"1.75rem"},children:[d.jsx(hu,{size:11}),"AI Platform"]}),d.jsxs("h1",{className:"t-h1",style:{marginBottom:"1.25rem"},children:["Enterprise ",d.jsx("em",{style:{fontStyle:"italic",color:"var(--gold)"},children:"Artificial Intelligence"})," at Production Scale"]}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:620,margin:"0 auto 2.5rem"},children:"We build the AI systems that enterprises trust for mission-critical decisions  combining rigorous ML engineering, verifiable inference architectures, and on-chain accountability to deliver automation that institutions can confidently deploy."}),d.jsxs(le,{to:"/contact",className:"btn btn-dark",children:["Explore AI Solutions ",d.jsx(Oe,{size:14})]})]})})]}),d.jsx("section",{style:{background:"var(--bg)"},children:d.jsxs("div",{className:"wrap sect",children:[d.jsxs(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},style:{marginBottom:"3.5rem"},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Platform Capabilities"}),d.jsx("h2",{className:"t-h2",children:"What Our AI Platform Delivers"})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(320px,1fr))",gap:"1.5rem"},children:XN.map((t,e)=>d.jsxs(H.div,{className:"card-hover",variants:aw,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0,margin:"-40px"},style:{padding:"2rem"},children:[d.jsx("div",{style:{width:48,height:48,borderRadius:12,background:t.c+"18",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.25rem"},children:d.jsx(t.icon,{size:22,style:{color:t.c}})}),d.jsx("div",{style:{fontFamily:"var(--font-body)",fontSize:"1rem",fontWeight:600,color:"var(--tx)",marginBottom:".6rem"},children:t.t}),d.jsx("div",{className:"t-small",children:t.d})]},t.t))})]})}),d.jsx("section",{style:{background:"var(--bg3)",borderTop:"1px solid var(--border)",borderBottom:"1px solid var(--border)"},children:d.jsx("div",{className:"wrap sect-sm",children:d.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"4rem",alignItems:"center"},className:"uc-g2",children:[d.jsx("style",{children:"@media(max-width:768px){.uc-g2{grid-template-columns:1fr!important}}"}),d.jsxs(H.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:".75rem"},children:"Applied AI"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Use Cases We've Shipped"}),d.jsx("p",{className:"t-body",children:"Our AI engagements span regulated sectors where accuracy, explainability, and compliance are as important as performance benchmarks."})]}),d.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.75rem"},children:JN.map((t,e)=>d.jsxs(H.div,{variants:aw,custom:e,initial:"hidden",whileInView:"visible",viewport:{once:!0},style:{display:"flex",alignItems:"flex-start",gap:8,padding:"1rem",background:"var(--bg2)",borderRadius:12,border:"1px solid var(--border)"},children:[d.jsx(g_,{size:14,style:{color:"var(--gold)",marginTop:2,flexShrink:0}}),d.jsx("span",{className:"t-small",children:t})]},t))})]})})}),d.jsx("section",{style:{background:"var(--bg)",padding:"5.5rem 2rem",textAlign:"center"},children:d.jsxs(H.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[d.jsx("div",{className:"t-eyebrow",style:{marginBottom:"1rem"},children:"Deploy With Confidence"}),d.jsx("h2",{className:"t-h2",style:{marginBottom:"1.25rem"},children:"Ready to Deploy AI at Enterprise Scale?"}),d.jsx("p",{className:"t-body-lg",style:{maxWidth:480,margin:"0 auto 2.5rem"},children:"Let's define your AI roadmap  from architecture design and model selection to MLOps infrastructure and governance framework."}),d.jsxs(le,{to:"/schedule",className:"btn btn-dark",style:{padding:".85rem 2.2rem"},children:["Schedule a Technical Discovery ",d.jsx(Oe,{size:14})]})]})})]})}oh.createRoot(document.getElementById("root")).render(d.jsx(vw.StrictMode,{children:d.jsx(EA,{children:d.jsx(Z4,{children:d.jsx(yA,{children:d.jsxs("div",{className:"app-shell",children:[d.jsx(S6,{}),d.jsx("main",{className:"flex-1",children:d.jsxs(cA,{children:[d.jsx(Tt,{path:"/",element:d.jsx(j6,{})}),d.jsx(Tt,{path:"/about",element:d.jsx(M6,{})}),d.jsx(Tt,{path:"/blog",element:d.jsx(O6,{})}),d.jsx(Tt,{path:"/blog/:slug",element:d.jsx(B6,{})}),d.jsx(Tt,{path:"/jobs",element:d.jsx(U6,{})}),d.jsx(Tt,{path:"/contact",element:d.jsx(VN,{})}),d.jsx(Tt,{path:"/submit-blog",element:d.jsx(NN,{})}),d.jsx(Tt,{path:"/products/blockchain",element:d.jsx(YN,{})}),d.jsx(Tt,{path:"/products/ai",element:d.jsx(ZN,{})}),d.jsx(Tt,{path:"/products/consulting",element:d.jsx(GN,{})}),d.jsx(Tt,{path:"/apply",element:d.jsx(I6,{})}),d.jsx(Tt,{path:"/contact/dashboard",element:d.jsx(FN,{})}),d.jsx(Tt,{path:"/schedule",element:d.jsx(BN,{})})]})}),d.jsx(k6,{}),d.jsx(WN,{})]})})})})}));
